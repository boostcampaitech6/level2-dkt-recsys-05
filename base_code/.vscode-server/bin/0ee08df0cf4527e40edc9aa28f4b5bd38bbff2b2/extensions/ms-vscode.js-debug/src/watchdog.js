"use strict";(()=>{var Lf=Object.create;var Vr=Object.defineProperty;var Ho=Object.getOwnPropertyDescriptor;var kf=Object.getOwnPropertyNames;var Bf=Object.getPrototypeOf,jf=Object.prototype.hasOwnProperty;var T=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ff=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kf(e))!jf.call(t,i)&&i!==n&&Vr(t,i,{get:()=>e[i],enumerable:!(r=Ho(e,i))||r.enumerable});return t};var K=(t,e,n)=>(n=t!=null?Lf(Bf(t)):{},Ff(e||!t||!t.__esModule?Vr(n,"default",{value:t,enumerable:!0}):n,t));var vn=(t,e,n,r)=>{for(var i=r>1?void 0:r?Ho(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Vr(e,n,i),i};var M=h(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.NON_CUSTOM_TAG_KEYS=O.PRE_DESTROY=O.POST_CONSTRUCT=O.DESIGN_PARAM_TYPES=O.PARAM_TYPES=O.TAGGED_PROP=O.TAGGED=O.MULTI_INJECT_TAG=O.INJECT_TAG=O.OPTIONAL_TAG=O.UNMANAGED_TAG=O.NAME_TAG=O.NAMED_TAG=void 0;O.NAMED_TAG="named";O.NAME_TAG="name";O.UNMANAGED_TAG="unmanaged";O.OPTIONAL_TAG="optional";O.INJECT_TAG="inject";O.MULTI_INJECT_TAG="multi_inject";O.TAGGED="inversify:tagged";O.TAGGED_PROP="inversify:tagged_props";O.PARAM_TYPES="inversify:paramtypes";O.DESIGN_PARAM_TYPES="design:paramtypes";O.POST_CONSTRUCT="post_construct";O.PRE_DESTROY="pre_destroy";function qf(){return[O.INJECT_TAG,O.MULTI_INJECT_TAG,O.NAME_TAG,O.UNMANAGED_TAG,O.NAMED_TAG,O.OPTIONAL_TAG]}O.NON_CUSTOM_TAG_KEYS=qf()});var pe=h($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.TargetTypeEnum=$e.BindingTypeEnum=$e.BindingScopeEnum=void 0;var Gf={Request:"Request",Singleton:"Singleton",Transient:"Transient"};$e.BindingScopeEnum=Gf;var Wf={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};$e.BindingTypeEnum=Wf;var Vf={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};$e.TargetTypeEnum=Vf});var Ke=h(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.id=void 0;var $f=0;function Kf(){return $f++}bn.id=Kf});var Jo=h(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.Binding=void 0;var Yo=pe(),Hf=Ke(),zf=function(){function t(e,n){this.id=(0,Hf.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=n,this.type=Yo.BindingTypeEnum.Invalid,this.constraint=function(r){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===Yo.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();wn.Binding=zf});var H=h(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});v.STACK_OVERFLOW=v.CIRCULAR_DEPENDENCY_IN_FACTORY=v.ON_DEACTIVATION_ERROR=v.PRE_DESTROY_ERROR=v.POST_CONSTRUCT_ERROR=v.ASYNC_UNBIND_REQUIRED=v.MULTIPLE_POST_CONSTRUCT_METHODS=v.MULTIPLE_PRE_DESTROY_METHODS=v.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=v.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=v.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=v.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=v.ARGUMENTS_LENGTH_MISMATCH=v.INVALID_DECORATOR_OPERATION=v.INVALID_TO_SELF_VALUE=v.LAZY_IN_SYNC=v.INVALID_FUNCTION_BINDING=v.INVALID_MIDDLEWARE_RETURN=v.NO_MORE_SNAPSHOTS_AVAILABLE=v.INVALID_BINDING_TYPE=v.NOT_IMPLEMENTED=v.CIRCULAR_DEPENDENCY=v.UNDEFINED_INJECT_ANNOTATION=v.MISSING_INJECT_ANNOTATION=v.MISSING_INJECTABLE_ANNOTATION=v.NOT_REGISTERED=v.CANNOT_UNBIND=v.AMBIGUOUS_MATCH=v.KEY_NOT_FOUND=v.NULL_ARGUMENT=v.DUPLICATED_METADATA=v.DUPLICATED_INJECTABLE_DECORATOR=void 0;v.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";v.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";v.NULL_ARGUMENT="NULL argument";v.KEY_NOT_FOUND="Key Not Found";v.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";v.CANNOT_UNBIND="Could not unbind serviceIdentifier:";v.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";v.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";v.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var Yf=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};v.UNDEFINED_INJECT_ANNOTATION=Yf;v.CIRCULAR_DEPENDENCY="Circular dependency found:";v.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";v.INVALID_BINDING_TYPE="Invalid binding type:";v.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";v.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";v.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var Jf=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};v.LAZY_IN_SYNC=Jf;v.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";v.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var Xf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};v.ARGUMENTS_LENGTH_MISMATCH=Xf;v.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";v.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";v.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";v.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";v.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";v.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";v.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var Qf=function(t,e){return"@postConstruct error in class "+t+": "+e};v.POST_CONSTRUCT_ERROR=Qf;var Zf=function(t,e){return"@preDestroy error in class "+t+": "+e};v.PRE_DESTROY_ERROR=Zf;var ed=function(t,e){return"onDeactivation() error in class "+t+": "+e};v.ON_DEACTIVATION_ERROR=ed;var td=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};v.CIRCULAR_DEPENDENCY_IN_FACTORY=td;v.STACK_OVERFLOW="Maximum call stack size exceeded"});var Kr=h(ye=>{"use strict";var nd=ye&&ye.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),rd=ye&&ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),id=ye&&ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&nd(e,t,n);return rd(e,t),e};Object.defineProperty(ye,"__esModule",{value:!0});ye.MetadataReader=void 0;var $r=id(M()),od=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var n=Reflect.getMetadata($r.PARAM_TYPES,e),r=Reflect.getMetadata($r.TAGGED,e);return{compilerGeneratedMetadata:n,userGeneratedMetadata:r||{}}},t.prototype.getPropertiesMetadata=function(e){var n=Reflect.getMetadata($r.TAGGED_PROP,e)||[];return n},t}();ye.MetadataReader=od});var Xo=h(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.BindingCount=void 0;var sd={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};Sn.BindingCount=sd});var Hr=h(ue=>{"use strict";var ad=ue&&ue.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ud=ue&&ue.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cd=ue&&ue.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&ad(e,t,n);return ud(e,t),e};Object.defineProperty(ue,"__esModule",{value:!0});ue.tryAndThrowErrorIfStackOverflow=ue.isStackOverflowExeption=void 0;var ld=cd(H());function Qo(t){return t instanceof RangeError||t.message===ld.STACK_OVERFLOW}ue.isStackOverflowExeption=Qo;var fd=function(t,e){try{return t()}catch(n){throw Qo(n)&&(n=e()),n}};ue.tryAndThrowErrorIfStackOverflow=fd});var pt=h(L=>{"use strict";var dd=L&&L.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),pd=L&&L.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),hd=L&&L.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&dd(e,t,n);return pd(e,t),e};Object.defineProperty(L,"__esModule",{value:!0});L.getSymbolDescription=L.circularDependencyToException=L.listMetadataForTarget=L.listRegisteredBindingsForServiceIdentifier=L.getServiceIdentifierAsString=L.getFunctionName=void 0;var gd=hd(H());function Zo(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}L.getServiceIdentifierAsString=Zo;function md(t,e,n){var r="",i=n(t,e);return i.length!==0&&(r=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=ns(o.implementationType)),r=r+`
 `+s,o.constraint.metaData&&(r=r+" - "+o.constraint.metaData)})),r}L.listRegisteredBindingsForServiceIdentifier=md;function es(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:es(t.parentRequest,e)}function yd(t){function e(r,i){i===void 0&&(i=[]);var o=Zo(r.serviceIdentifier);return i.push(o),r.parentRequest!==null?e(r.parentRequest,i):i}var n=e(t);return n.reverse().join(" --> ")}function ts(t){t.childRequests.forEach(function(e){if(es(e,e.serviceIdentifier)){var n=yd(e);throw new Error(gd.CIRCULAR_DEPENDENCY+" "+n)}else ts(e)})}L.circularDependencyToException=ts;function _d(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),i=e.getCustomTags();return r!==null&&(n+=r.toString()+`
`),i!==null&&i.forEach(function(o){n+=o.toString()+`
`})," "+t+`
 `+t+" - "+n}else return" "+t}L.listMetadataForTarget=_d;function ns(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+e}L.getFunctionName=ns;function vd(t){return t.toString().slice(7,-1)}L.getSymbolDescription=vd});var rs=h(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.Context=void 0;var bd=Ke(),wd=function(){function t(e){this.id=(0,bd.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();Tn.Context=wd});var he=h(_e=>{"use strict";var Sd=_e&&_e.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Td=_e&&_e.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ed=_e&&_e.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Sd(e,t,n);return Td(e,t),e};Object.defineProperty(_e,"__esModule",{value:!0});_e.Metadata=void 0;var xd=Ed(M()),Cd=function(){function t(e,n){this.key=e,this.value=n}return t.prototype.toString=function(){return this.key===xd.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();_e.Metadata=Cd});var is=h(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.Plan=void 0;var Ad=function(){function t(e,n){this.parentContext=e,this.rootRequest=n}return t}();En.Plan=Ad});var zr=h(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.LazyServiceIdentifer=void 0;var Id=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();xn.LazyServiceIdentifer=Id});var os=h(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.QueryableString=void 0;var Od=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var n="",r=e.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},r)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();Cn.QueryableString=Od});var Yr=h(ve=>{"use strict";var Pd=ve&&ve.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Nd=ve&&ve.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rd=ve&&ve.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Pd(e,t,n);return Nd(e,t),e};Object.defineProperty(ve,"__esModule",{value:!0});ve.Target=void 0;var je=Rd(M()),Dd=Ke(),Md=pt(),ss=he(),Ld=os(),kd=function(){function t(e,n,r,i){this.id=(0,Dd.id)(),this.type=e,this.serviceIdentifier=r;var o=typeof n=="symbol"?(0,Md.getSymbolDescription)(n):n;this.name=new Ld.QueryableString(o||""),this.identifier=n,this.metadata=new Array;var s=null;typeof i=="string"?s=new ss.Metadata(je.NAMED_TAG,i):i instanceof ss.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var n=0,r=this.metadata;n<r.length;n++){var i=r[n];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(je.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(je.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(je.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return je.NON_CUSTOM_TAG_KEYS.every(function(n){return e.key!==n})})},t.prototype.isOptional=function(){return this.matchesTag(je.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===je.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return je.NON_CUSTOM_TAG_KEYS.every(function(n){return e.key!==n})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(je.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var n=this;return function(r){for(var i=0,o=n.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===r)return!0}return!1}},t}();ve.Target=kd});var hs=h(z=>{"use strict";var Bd=z&&z.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jd=z&&z.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),as=z&&z.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Bd(e,t,n);return jd(e,t),e},An=z&&z.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(z,"__esModule",{value:!0});z.getFunctionName=z.getBaseClassDependencyCount=z.getDependencies=void 0;var Fd=zr(),Jr=as(H()),us=pe(),Ut=as(M()),Xr=pt();Object.defineProperty(z,"getFunctionName",{enumerable:!0,get:function(){return Xr.getFunctionName}});var cs=Yr();function Ud(t,e){var n=(0,Xr.getFunctionName)(e);return ls(t,n,e,!1)}z.getDependencies=Ud;function ls(t,e,n,r){var i=t.getConstructorMetadata(n),o=i.compilerGeneratedMetadata;if(o===void 0){var s=Jr.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var u=i.userGeneratedMetadata,c=Object.keys(u),a=n.length===0&&c.length>0,l=c.length>n.length,d=a||l?c.length:n.length,m=Gd(r,e,o,u,d),y=fs(t,n,e),w=An(An([],m,!0),y,!0);return w}function qd(t,e,n,r,i){var o=i[t.toString()]||[],s=ps(o),u=s.unmanaged!==!0,c=r[t],a=s.inject||s.multiInject;if(c=a||c,c instanceof Fd.LazyServiceIdentifer&&(c=c.unwrap()),u){var l=c===Object,d=c===Function,m=c===void 0,y=l||d||m;if(!e&&y){var w=Jr.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(w)}var S=new cs.Target(us.TargetTypeEnum.ConstructorArgument,s.targetName,c);return S.metadata=o,S}return null}function Gd(t,e,n,r,i){for(var o=[],s=0;s<i;s++){var u=s,c=qd(u,t,e,n,r);c!==null&&o.push(c)}return o}function Wd(t,e,n,r){var i=t||e;if(i===void 0){var o=Jr.MISSING_INJECTABLE_ANNOTATION+" for property "+String(n)+" in class "+r+".";throw new Error(o)}return i}function fs(t,e,n){for(var r=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(r),s=Object.keys(r),u=s.concat(o),c=0,a=u;c<a.length;c++){var l=a[c],d=r[l],m=ps(d),y=m.targetName||l,w=Wd(m.inject,m.multiInject,l,n),S=new cs.Target(us.TargetTypeEnum.ClassProperty,y,w);S.metadata=d,i.push(S)}var R=Object.getPrototypeOf(e.prototype).constructor;if(R!==Object){var Q=fs(t,R,n);i=An(An([],i,!0),Q,!0)}return i}function ds(t,e){var n=Object.getPrototypeOf(e.prototype).constructor;if(n!==Object){var r=(0,Xr.getFunctionName)(n),i=ls(t,r,n,!0),o=i.map(function(c){return c.metadata.filter(function(a){return a.key===Ut.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,u=i.length-s;return u>0?u:ds(t,n)}else return 0}z.getBaseClassDependencyCount=ds;function ps(t){var e={};return t.forEach(function(n){e[n.key.toString()]=n.value}),{inject:e[Ut.INJECT_TAG],multiInject:e[Ut.MULTI_INJECT_TAG],targetName:e[Ut.NAME_TAG],unmanaged:e[Ut.UNMANAGED_TAG]}}});var gs=h(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.Request=void 0;var Vd=Ke(),$d=function(){function t(e,n,r,i,o){this.id=(0,Vd.id)(),this.serviceIdentifier=e,this.parentContext=n,this.parentRequest=r,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=r===null?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var i=new t(e,this.parentContext,this,n,r);return this.childRequests.push(i),i},t}();In.Request=$d});var ni=h(re=>{"use strict";var Kd=re&&re.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Hd=re&&re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_s=re&&re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Kd(e,t,n);return Hd(e,t),e};Object.defineProperty(re,"__esModule",{value:!0});re.getBindingDictionary=re.createMockRequest=re.plan=void 0;var On=Xo(),Zr=_s(H()),vs=pe(),ms=_s(M()),zd=Hr(),ht=pt(),bs=rs(),ei=he(),Yd=is(),Qr=hs(),ti=gs(),ws=Yr();function Ss(t){return t._bindingDictionary}re.getBindingDictionary=Ss;function Jd(t,e,n,r,i,o){var s=t?ms.MULTI_INJECT_TAG:ms.INJECT_TAG,u=new ei.Metadata(s,n),c=new ws.Target(e,r,n,u);if(i!==void 0){var a=new ei.Metadata(i,o);c.metadata.push(a)}return c}function ys(t,e,n,r,i){var o=qt(n.container,i.serviceIdentifier),s=[];return o.length===On.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=qt(n.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(u){var c=new ti.Request(u.serviceIdentifier,n,r,u,i);return u.constraint(c)}),Xd(i.serviceIdentifier,s,i,n.container),s}function Xd(t,e,n,r){switch(e.length){case On.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var i=(0,ht.getServiceIdentifierAsString)(t),o=Zr.NOT_REGISTERED;throw o+=(0,ht.listMetadataForTarget)(i,n),o+=(0,ht.listRegisteredBindingsForServiceIdentifier)(r,i,qt),new Error(o);case On.BindingCount.OnlyOneBindingAvailable:return e;case On.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;var i=(0,ht.getServiceIdentifierAsString)(t),o=Zr.AMBIGUOUS_MATCH+" "+i;throw o+=(0,ht.listRegisteredBindingsForServiceIdentifier)(r,i,qt),new Error(o)}}function Ts(t,e,n,r,i,o){var s,u;if(i===null){s=ys(t,e,r,null,o),u=new ti.Request(n,r,null,s,o);var c=new Yd.Plan(r,u);r.addPlan(c)}else s=ys(t,e,r,i,o),u=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(a){var l=null;if(o.isArray())l=u.addChildRequest(a.serviceIdentifier,a,o);else{if(a.cache)return;l=u}if(a.type===vs.BindingTypeEnum.Instance&&a.implementationType!==null){var d=(0,Qr.getDependencies)(t,a.implementationType);if(!r.container.options.skipBaseClassChecks){var m=(0,Qr.getBaseClassDependencyCount)(t,a.implementationType);if(d.length<m){var y=Zr.ARGUMENTS_LENGTH_MISMATCH((0,Qr.getFunctionName)(a.implementationType));throw new Error(y)}}d.forEach(function(w){Ts(t,!1,w.serviceIdentifier,r,l,w)})}})}function qt(t,e){var n=[],r=Ss(t);return r.hasKey(e)?n=r.get(e):t.parent!==null&&(n=qt(t.parent,e)),n}function Qd(t,e,n,r,i,o,s,u){u===void 0&&(u=!1);var c=new bs.Context(e),a=Jd(n,r,i,"",o,s);try{return Ts(t,u,i,c,null,a),c}catch(l){throw(0,zd.isStackOverflowExeption)(l)&&(0,ht.circularDependencyToException)(c.plan.rootRequest),l}}re.plan=Qd;function Zd(t,e,n,r){var i=new ws.Target(vs.TargetTypeEnum.Variable,"",e,new ei.Metadata(n,r)),o=new bs.Context(t),s=new ti.Request(e,o,null,[],i);return s}re.createMockRequest=Zd});var Gt=h(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.isPromiseOrContainsPromise=gt.isPromise=void 0;function ri(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}gt.isPromise=ri;function ep(t){return ri(t)?!0:Array.isArray(t)&&t.some(ri)}gt.isPromiseOrContainsPromise=ep});var Es=h(be=>{"use strict";var tp=be&&be.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},np=be&&be.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(be,"__esModule",{value:!0});be.saveToScope=be.tryGetFromScope=void 0;var Pn=Wt(),rp=Gt(),ip=function(t,e){return e.scope===Pn.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===Pn.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};be.tryGetFromScope=ip;var op=function(t,e,n){e.scope===Pn.BindingScopeEnum.Singleton&&ap(e,n),e.scope===Pn.BindingScopeEnum.Request&&sp(t,e,n)};be.saveToScope=op;var sp=function(t,e,n){t.has(e.id)||t.set(e.id,n)},ap=function(t,e){t.cache=e,t.activated=!0,(0,rp.isPromise)(e)&&up(t,e)},up=function(t,e){return tp(void 0,void 0,void 0,function(){var n,r;return np(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return n=i.sent(),t.cache=n,[3,3];case 2:throw r=i.sent(),t.cache=null,t.activated=!1,r;case 3:return[2]}})})}});var xs=h(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.FactoryType=void 0;var cp;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(cp=Vt.FactoryType||(Vt.FactoryType={}))});var oi=h(ie=>{"use strict";var lp=ie&&ie.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fp=ie&&ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dp=ie&&ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&lp(e,t,n);return fp(e,t),e};Object.defineProperty(ie,"__esModule",{value:!0});ie.getFactoryDetails=ie.ensureFullyBound=ie.multiBindToService=void 0;var pp=Wt(),hp=dp(H()),we=pe(),ii=xs(),gp=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(i){return t.bind(i).toService(e)})}}};ie.multiBindToService=gp;var mp=function(t){var e=null;switch(t.type){case we.BindingTypeEnum.ConstantValue:case we.BindingTypeEnum.Function:e=t.cache;break;case we.BindingTypeEnum.Constructor:case we.BindingTypeEnum.Instance:e=t.implementationType;break;case we.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case we.BindingTypeEnum.Provider:e=t.provider;break;case we.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var n=(0,pp.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(hp.INVALID_BINDING_TYPE+" "+n)}};ie.ensureFullyBound=mp;var yp=function(t){switch(t.type){case we.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:ii.FactoryType.Factory};case we.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:ii.FactoryType.Provider};case we.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:ii.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};ie.getFactoryDetails=yp});var Ns=h(q=>{"use strict";var mt=q&&q.__assign||function(){return mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},mt.apply(this,arguments)},_p=q&&q.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),vp=q&&q.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bp=q&&q.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&_p(e,t,n);return vp(e,t),e},Is=q&&q.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},Os=q&&q.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},wp=q&&q.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(q,"__esModule",{value:!0});q.resolveInstance=void 0;var si=H(),ui=pe(),ai=bp(M()),ci=Gt();function Sp(t,e){return t.reduce(function(n,r){var i=e(r),o=r.target.type;return o===ui.TargetTypeEnum.ConstructorArgument?n.constructorInjections.push(i):(n.propertyRequests.push(r),n.propertyInjections.push(i)),n.isAsync||(n.isAsync=(0,ci.isPromiseOrContainsPromise)(i)),n},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function Tp(t,e,n){var r;if(e.length>0){var i=Sp(e,n),o=mt(mt({},i),{constr:t});i.isAsync?r=Ep(o):r=Ps(o)}else r=new t;return r}function Ps(t){var e,n=new((e=t.constr).bind.apply(e,wp([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(r,i){var o=r.target.identifier,s=t.propertyInjections[i];n[o]=s}),n}function Ep(t){return Is(this,void 0,void 0,function(){var e,n;return Os(this,function(r){switch(r.label){case 0:return[4,Cs(t.constructorInjections)];case 1:return e=r.sent(),[4,Cs(t.propertyInjections)];case 2:return n=r.sent(),[2,Ps(mt(mt({},t),{constructorInjections:e,propertyInjections:n}))]}})})}function Cs(t){return Is(this,void 0,void 0,function(){var e,n,r,i;return Os(this,function(o){for(e=[],n=0,r=t;n<r.length;n++)i=r[n],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function As(t,e){var n=xp(t,e);return(0,ci.isPromise)(n)?n.then(function(){return e}):e}function xp(t,e){var n,r;if(Reflect.hasMetadata(ai.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(ai.POST_CONSTRUCT,t);try{return(r=(n=e)[i.value])===null||r===void 0?void 0:r.call(n)}catch(o){throw new Error((0,si.POST_CONSTRUCT_ERROR)(t.name,o.message))}}}function Cp(t,e){t.scope!==ui.BindingScopeEnum.Singleton&&Ap(t,e)}function Ap(t,e){var n="Class cannot be instantiated in "+(t.scope===ui.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,si.ON_DEACTIVATION_ERROR)(e.name,n));if(Reflect.hasMetadata(ai.PRE_DESTROY,e))throw new Error((0,si.PRE_DESTROY_ERROR)(e.name,n))}function Ip(t,e,n,r){Cp(t,e);var i=Tp(e,n,r);return(0,ci.isPromise)(i)?i.then(function(o){return As(e,o)}):As(e,i)}q.resolveInstance=Ip});var ks=h(oe=>{"use strict";var Op=oe&&oe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Pp=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Np=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Op(e,t,n);return Pp(e,t),e},Rp=oe&&oe.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},Dp=oe&&oe.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}};Object.defineProperty(oe,"__esModule",{value:!0});oe.resolve=void 0;var Mp=Np(H()),Nn=pe(),Lp=ni(),Rs=Es(),li=Gt(),Ms=oi(),kp=Hr(),Bp=Ns(),fi=function(t){return function(e){e.parentContext.setCurrentRequest(e);var n=e.bindings,r=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return r.map(function(u){var c=fi(t);return c(u)});if(e.target.isOptional()&&n.length===0)return;var s=n[0];return qp(t,e,s)}},jp=function(t,e){var n=(0,Ms.getFactoryDetails)(t);return(0,kp.tryAndThrowErrorIfStackOverflow)(function(){return n.factory.bind(t)(e)},function(){return new Error(Mp.CIRCULAR_DEPENDENCY_IN_FACTORY(n.factoryType,e.currentRequest.serviceIdentifier.toString()))})},Fp=function(t,e,n){var r,i=e.childRequests;switch((0,Ms.ensureFullyBound)(n),n.type){case Nn.BindingTypeEnum.ConstantValue:case Nn.BindingTypeEnum.Function:r=n.cache;break;case Nn.BindingTypeEnum.Constructor:r=n.implementationType;break;case Nn.BindingTypeEnum.Instance:r=(0,Bp.resolveInstance)(n,n.implementationType,i,fi(t));break;default:r=jp(n,e.parentContext)}return r},Up=function(t,e,n){var r=(0,Rs.tryGetFromScope)(t,e);return r!==null||(r=n(),(0,Rs.saveToScope)(t,e,r)),r},qp=function(t,e,n){return Up(t,n,function(){var r=Fp(t,e,n);return(0,li.isPromise)(r)?r=r.then(function(i){return Ds(e,n,i)}):r=Ds(e,n,r),r})};function Ds(t,e,n){var r=Gp(t.parentContext,e,n),i=$p(t.parentContext.container),o,s=i.next();do{o=s.value;var u=t.parentContext,c=t.serviceIdentifier,a=Vp(o,c);(0,li.isPromise)(r)?r=Ls(a,u,r):r=Wp(a,u,r),s=i.next()}while(s.done!==!0&&!(0,Lp.getBindingDictionary)(o).hasKey(t.serviceIdentifier));return r}var Gp=function(t,e,n){var r;return typeof e.onActivation=="function"?r=e.onActivation(t,n):r=n,r},Wp=function(t,e,n){for(var r=t.next();!r.done;){if(n=r.value(e,n),(0,li.isPromise)(n))return Ls(t,e,n);r=t.next()}return n},Ls=function(t,e,n){return Rp(void 0,void 0,void 0,function(){var r,i;return Dp(this,function(o){switch(o.label){case 0:return[4,n];case 1:r=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,r)];case 3:return r=o.sent(),i=t.next(),[3,2];case 4:return[2,r]}})})},Vp=function(t,e){var n=t._activations;return n.hasKey(e)?n.get(e).values():[].values()},$p=function(t){for(var e=[t],n=t.parent;n!==null;)e.push(n),n=n.parent;var r=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:r};return i};function Kp(t){var e=fi(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}oe.resolve=Kp});var di=h(Y=>{"use strict";var Hp=Y&&Y.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),zp=Y&&Y.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Yp=Y&&Y.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Hp(e,t,n);return zp(e,t),e};Object.defineProperty(Y,"__esModule",{value:!0});Y.typeConstraint=Y.namedConstraint=Y.taggedConstraint=Y.traverseAncerstors=void 0;var Jp=Yp(M()),Xp=he(),Bs=function(t,e){var n=t.parentRequest;return n!==null?e(n)?!0:Bs(n,e):!1};Y.traverseAncerstors=Bs;var js=function(t){return function(e){var n=function(r){return r!==null&&r.target!==null&&r.target.matchesTag(t)(e)};return n.metaData=new Xp.Metadata(t,e),n}};Y.taggedConstraint=js;var Qp=js(Jp.NAMED_TAG);Y.namedConstraint=Qp;var Zp=function(t){return function(e){var n=null;if(e!==null)if(n=e.bindings[0],typeof t=="string"){var r=n.serviceIdentifier;return r===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};Y.typeConstraint=Zp});var Dn=h(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.BindingWhenSyntax=void 0;var Z=Mn(),j=di(),eh=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new Z.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,j.namedConstraint)(e),new Z.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var n=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return n},new Z.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,n){return this._binding.constraint=(0,j.taggedConstraint)(e)(n),new Z.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(n){return n!==null&&(0,j.typeConstraint)(e)(n.parentRequest)},new Z.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(n){return n!==null&&(0,j.namedConstraint)(e)(n.parentRequest)},new Z.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&(0,j.taggedConstraint)(e)(n)(r.parentRequest)},new Z.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&(0,j.traverseAncerstors)(n,(0,j.typeConstraint)(e))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,j.traverseAncerstors)(n,(0,j.typeConstraint)(e))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&(0,j.traverseAncerstors)(n,(0,j.namedConstraint)(e))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,j.traverseAncerstors)(n,(0,j.namedConstraint)(e))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&(0,j.traverseAncerstors)(r,(0,j.taggedConstraint)(e)(n))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,n){return this._binding.constraint=function(r){return r!==null&&!(0,j.traverseAncerstors)(r,(0,j.taggedConstraint)(e)(n))},new Z.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&(0,j.traverseAncerstors)(n,e)},new Z.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(n){return n!==null&&!(0,j.traverseAncerstors)(n,e)},new Z.BindingOnSyntax(this._binding)},t}();Rn.BindingWhenSyntax=eh});var Mn=h(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.BindingOnSyntax=void 0;var Fs=Dn(),th=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new Fs.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new Fs.BindingWhenSyntax(this._binding)},t}();Ln.BindingOnSyntax=th});var pi=h(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.BindingWhenOnSyntax=void 0;var nh=Mn(),rh=Dn(),ih=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new rh.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new nh.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();kn.BindingWhenOnSyntax=ih});var Us=h(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.BindingInSyntax=void 0;var hi=pe(),gi=pi(),oh=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=hi.BindingScopeEnum.Request,new gi.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=hi.BindingScopeEnum.Singleton,new gi.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=hi.BindingScopeEnum.Transient,new gi.BindingWhenOnSyntax(this._binding)},t}();Bn.BindingInSyntax=oh});var qs=h(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.BindingInWhenOnSyntax=void 0;var sh=Us(),ah=Mn(),uh=Dn(),ch=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new uh.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new ah.BindingOnSyntax(this._binding),this._bindingInSyntax=new sh.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,n){return this._bindingWhenSyntax.whenTargetTagged(e,n)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,n){return this._bindingWhenSyntax.whenParentTagged(e,n)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,n)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,n){return this._bindingWhenSyntax.whenNoAncestorTagged(e,n)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();jn.BindingInWhenOnSyntax=ch});var Vs=h(Se=>{"use strict";var lh=Se&&Se.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fh=Se&&Se.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dh=Se&&Se.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&lh(e,t,n);return fh(e,t),e};Object.defineProperty(Se,"__esModule",{value:!0});Se.BindingToSyntax=void 0;var Gs=dh(H()),ee=pe(),Ws=qs(),yt=pi(),ph=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=ee.BindingTypeEnum.Instance,this._binding.implementationType=e,new Ws.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+Gs.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=ee.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=ee.BindingScopeEnum.Singleton,new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=ee.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Ws.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=ee.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=ee.BindingScopeEnum.Singleton,new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=ee.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=ee.BindingScopeEnum.Singleton,new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(Gs.INVALID_FUNCTION_BINDING);var n=this.toConstantValue(e);return this._binding.type=ee.BindingTypeEnum.Function,this._binding.scope=ee.BindingScopeEnum.Singleton,n},t.prototype.toAutoFactory=function(e){return this._binding.type=ee.BindingTypeEnum.Factory,this._binding.factory=function(n){var r=function(){return n.container.get(e)};return r},this._binding.scope=ee.BindingScopeEnum.Singleton,new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=ee.BindingTypeEnum.Factory,this._binding.factory=function(n){return function(r){return n.container.getNamed(e,r)}},new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=ee.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=ee.BindingScopeEnum.Singleton,new yt.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(n){return n.container.get(e)})},t}();Se.BindingToSyntax=ph});var $s=h(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ContainerSnapshot=void 0;var hh=function(){function t(){}return t.of=function(e,n,r,i,o){var s=new t;return s.bindings=e,s.middleware=n,s.deactivations=i,s.activations=r,s.moduleActivationStore=o,s},t}();Fn.ContainerSnapshot=hh});var Ks=h(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.isClonable=void 0;function gh(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}Un.isClonable=gh});var mi=h(Te=>{"use strict";var mh=Te&&Te.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),yh=Te&&Te.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_h=Te&&Te.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&mh(e,t,n);return yh(e,t),e};Object.defineProperty(Te,"__esModule",{value:!0});Te.Lookup=void 0;var tt=_h(H()),vh=Ks(),bh=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,n){if(e==null)throw new Error(tt.NULL_ARGUMENT);if(n==null)throw new Error(tt.NULL_ARGUMENT);var r=this._map.get(e);r!==void 0?r.push(n):this._map.set(e,[n])},t.prototype.get=function(e){if(e==null)throw new Error(tt.NULL_ARGUMENT);var n=this._map.get(e);if(n!==void 0)return n;throw new Error(tt.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(tt.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(tt.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var n=this;this.traverse(function(r,i){var o=e.hasKey(r)?e.get(r):void 0;if(o!==void 0){var s=i.filter(function(u){return!o.some(function(c){return u===c})});n._setValue(r,s)}})},t.prototype.removeByCondition=function(e){var n=this,r=[];return this._map.forEach(function(i,o){for(var s=[],u=0,c=i;u<c.length;u++){var a=c[u],l=e(a);l?r.push(a):s.push(a)}n._setValue(o,s)}),r},t.prototype.hasKey=function(e){if(e==null)throw new Error(tt.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){n.forEach(function(i){return e.add(r,(0,vh.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(n,r){e(r,n)})},t.prototype._setValue=function(e,n){n.length>0?this._map.set(e,n):this._map.delete(e)},t}();Te.Lookup=bh});var zs=h(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.ModuleActivationStore=void 0;var Hs=mi(),wh=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var n=this._map.get(e);return this._map.delete(e),n}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,n,r){this._getModuleActivationHandlers(e).onDeactivations.add(n,r)},t.prototype.addActivation=function(e,n,r){this._getModuleActivationHandlers(e).onActivations.add(n,r)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(n,r){e._map.set(r,{onActivations:n.onActivations.clone(),onDeactivations:n.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var n=this._map.get(e);return n===void 0&&(n=this._getEmptyHandlersStore(),this._map.set(e,n)),n},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new Hs.Lookup,onDeactivations:new Hs.Lookup};return e},t}();qn.ModuleActivationStore=wh});var Js=h(G=>{"use strict";var Wn=G&&G.__assign||function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wn.apply(this,arguments)},Sh=G&&G.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Th=G&&G.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ys=G&&G.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Sh(e,t,n);return Th(e,t),e},ce=G&&G.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})},le=G&&G.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},Eh=G&&G.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(G,"__esModule",{value:!0});G.Container=void 0;var xh=Jo(),ge=Ys(H()),_t=pe(),nt=Ys(M()),Ch=Kr(),Gn=ni(),Ah=ks(),Ih=Vs(),rt=Gt(),Oh=Ke(),Ph=pt(),Nh=$s(),$t=mi(),Rh=zs(),Dh=function(){function t(e){var n=e||{};if(typeof n!="object")throw new Error(""+ge.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(n.defaultScope===void 0)n.defaultScope=_t.BindingScopeEnum.Transient;else if(n.defaultScope!==_t.BindingScopeEnum.Singleton&&n.defaultScope!==_t.BindingScopeEnum.Transient&&n.defaultScope!==_t.BindingScopeEnum.Request)throw new Error(""+ge.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(n.autoBindInjectable===void 0)n.autoBindInjectable=!1;else if(typeof n.autoBindInjectable!="boolean")throw new Error(""+ge.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(n.skipBaseClassChecks===void 0)n.skipBaseClassChecks=!1;else if(typeof n.skipBaseClassChecks!="boolean")throw new Error(""+ge.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=(0,Oh.id)(),this._bindingDictionary=new $t.Lookup,this._snapshots=[],this._middleware=null,this._activations=new $t.Lookup,this._deactivations=new $t.Lookup,this.parent=null,this._metadataReader=new Ch.MetadataReader,this._moduleActivationStore=new Rh.ModuleActivationStore}return t.merge=function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new t,s=Eh([e,n],r,!0).map(function(a){return(0,Gn.getBindingDictionary)(a)}),u=(0,Gn.getBindingDictionary)(o);function c(a,l){a.traverse(function(d,m){m.forEach(function(y){l.add(y.serviceIdentifier,y.clone())})})}return s.forEach(function(a){c(a,u)}),o},t.prototype.load=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],u=r(s.id);s.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return ce(this,void 0,void 0,function(){var r,i,o,s,u;return le(this,function(c){switch(c.label){case 0:r=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],u=r(s.id),[4,s.registry(u.bindFunction,u.unbindFunction,u.isboundFunction,u.rebindFunction,u.unbindAsyncFunction,u.onActivationFunction,u.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return ce(this,void 0,void 0,function(){var r,i,o,s;return le(this,function(u){switch(u.label){case 0:r=0,i=e,u.label=1;case 1:return r<i.length?(o=i[r],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:u.sent(),this._removeModuleHandlers(o.id),u.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var n=this.options.defaultScope||_t.BindingScopeEnum.Transient,r=new xh.Binding(e,n);return this._bindingDictionary.add(e,r),new Ih.BindingToSyntax(r)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return ce(this,void 0,void 0,function(){return le(this,function(n){switch(n.label){case 0:return[4,this.unbindAsync(e)];case 1:return n.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var n=this._bindingDictionary.get(e);this._deactivateSingletons(n)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return ce(this,void 0,void 0,function(){var n;return le(this,function(r){switch(r.label){case 0:return this._bindingDictionary.hasKey(e)?(n=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(n,r){e._deactivateSingletons(r)}),this._bindingDictionary=new $t.Lookup},t.prototype.unbindAllAsync=function(){return ce(this,void 0,void 0,function(){var e,n=this;return le(this,function(r){switch(r.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(n._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return r.sent(),this._bindingDictionary=new $t.Lookup,[2]}})})},t.prototype.onActivation=function(e,n){this._activations.add(e,n)},t.prototype.onDeactivation=function(e,n){this._deactivations.add(e,n)},t.prototype.isBound=function(e){var n=this._bindingDictionary.hasKey(e);return!n&&this.parent&&(n=this.parent.isBound(e)),n},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,n){return this.isBoundTagged(e,nt.NAMED_TAG,n)},t.prototype.isBoundTagged=function(e,n,r){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,Gn.createMockRequest)(this,e,n,r);i=o.some(function(u){return u.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,n,r)),i},t.prototype.snapshot=function(){this._snapshots.push(Nh.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(ge.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},r)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var n=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(n)},t.prototype.getAsync=function(e){return ce(this,void 0,void 0,function(){var n;return le(this,function(r){return n=this._getNotAllArgs(e,!1),[2,this._get(n)]})})},t.prototype.getTagged=function(e,n,r){var i=this._getNotAllArgs(e,!1,n,r);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,n,r){return ce(this,void 0,void 0,function(){var i;return le(this,function(o){return i=this._getNotAllArgs(e,!1,n,r),[2,this._get(i)]})})},t.prototype.getNamed=function(e,n){return this.getTagged(e,nt.NAMED_TAG,n)},t.prototype.getNamedAsync=function(e,n){return this.getTaggedAsync(e,nt.NAMED_TAG,n)},t.prototype.getAll=function(e){var n=this._getAllArgs(e);return this._getButThrowIfAsync(n)},t.prototype.getAllAsync=function(e){var n=this._getAllArgs(e);return this._getAll(n)},t.prototype.getAllTagged=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,n,r){var i=this._getNotAllArgs(e,!0,n,r);return this._getAll(i)},t.prototype.getAllNamed=function(e,n){return this.getAllTagged(e,nt.NAMED_TAG,n)},t.prototype.getAllNamedAsync=function(e,n){return this.getAllTaggedAsync(e,nt.NAMED_TAG,n)},t.prototype.resolve=function(e){var n=this.isBound(e);n||this.bind(e).toSelf();var r=this.get(e);return n||this.unbind(e),r},t.prototype._preDestroy=function(e,n){if(Reflect.hasMetadata(nt.PRE_DESTROY,e)){var r=Reflect.getMetadata(nt.PRE_DESTROY,e);return n[r.value]()}},t.prototype._removeModuleHandlers=function(e){var n=this._moduleActivationStore.remove(e);this._activations.removeIntersection(n.onActivations),this._deactivations.removeIntersection(n.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(n){return n.moduleId===e})},t.prototype._deactivate=function(e,n){var r=this,i=Object.getPrototypeOf(n).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(n,this._deactivations.get(e.serviceIdentifier).values());if((0,rt.isPromise)(o))return this._handleDeactivationError(o.then(function(){return r._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,n,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,n,i);if((0,rt.isPromise)(s))return this._handleDeactivationError(s,i)}catch(u){throw new Error(ge.ON_DEACTIVATION_ERROR(i.name,u.message))}},t.prototype._handleDeactivationError=function(e,n){return ce(this,void 0,void 0,function(){var r;return le(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw r=i.sent(),new Error(ge.ON_DEACTIVATION_ERROR(n.name,r.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,n){for(var r=this,i=n.next();i.value;){var o=i.value(e);if((0,rt.isPromise)(o))return o.then(function(){return r._deactivateContainerAsync(e,n)});i=n.next()}},t.prototype._deactivateContainerAsync=function(e,n){return ce(this,void 0,void 0,function(){var r;return le(this,function(i){switch(i.label){case 0:r=n.next(),i.label=1;case 1:return r.value?[4,r.value(e)]:[3,3];case 2:return i.sent(),r=n.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,n=function(l,d){l._binding.moduleId=d},r=function(l){return function(d){var m=e.bind(d);return n(m,l),m}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},u=function(l){return function(d){var m=e.rebind(d);return n(m,l),m}},c=function(l){return function(d,m){e._moduleActivationStore.addActivation(l,d,m),e.onActivation(d,m)}},a=function(l){return function(d,m){e._moduleActivationStore.addDeactivation(l,d,m),e.onDeactivation(d,m)}};return function(l){return{bindFunction:r(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:a(l),rebindFunction:u(l),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var n=Wn(Wn({},e),{contextInterceptor:function(i){return i},targetType:_t.TargetTypeEnum.Variable});if(this._middleware){var r=this._middleware(n);if(r==null)throw new Error(ge.INVALID_MIDDLEWARE_RETURN);return r}return this._planAndResolve()(n)},t.prototype._getButThrowIfAsync=function(e){var n=this._get(e);if((0,rt.isPromiseOrContainsPromise)(n))throw new Error(ge.LAZY_IN_SYNC(e.serviceIdentifier));return n},t.prototype._getAllArgs=function(e){var n={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return n},t.prototype._getNotAllArgs=function(e,n,r,i){var o={avoidConstraints:!1,isMultiInject:n,serviceIdentifier:e,key:r,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(n){var r=(0,Gn.plan)(e._metadataReader,e,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);r=n.contextInterceptor(r);var i=(0,Ah.resolve)(r);return i}},t.prototype._deactivateIfSingleton=function(e){var n=this;if(e.activated)return(0,rt.isPromise)(e.cache)?e.cache.then(function(r){return n._deactivate(e,r)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=this._deactivateIfSingleton(i);if((0,rt.isPromise)(o))throw new Error(ge.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return ce(this,void 0,void 0,function(){var n=this;return le(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(i){return n._deactivateIfSingleton(i)}))];case 1:return r.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,n,r){return this.parent?this._deactivate.bind(this.parent)(e,n):this._bindingDeactivationAndPreDestroy(e,n,r)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,n,r){return ce(this,void 0,void 0,function(){return le(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,n)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,n,r)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(ge.CANNOT_UNBIND+" "+(0,Ph.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,n,r){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(n);if((0,rt.isPromise)(o))return o.then(function(){return i._preDestroy(r,n)})}return this._preDestroy(r,n)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,n,r){return ce(this,void 0,void 0,function(){return le(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(n)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(r,n)];case 3:return i.sent(),[2]}})})},t}();G.Container=Dh});var Qs=h(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.AsyncContainerModule=vt.ContainerModule=void 0;var Xs=Ke(),Mh=function(){function t(e){this.id=(0,Xs.id)(),this.registry=e}return t}();vt.ContainerModule=Mh;var Lh=function(){function t(e){this.id=(0,Xs.id)(),this.registry=e}return t}();vt.AsyncContainerModule=Lh});var Zs=h(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.getFirstArrayDuplicate=void 0;function kh(t){for(var e=new Set,n=0,r=t;n<r.length;n++){var i=r[n];if(e.has(i))return i;e.add(i)}}Vn.getFirstArrayDuplicate=kh});var Fe=h(J=>{"use strict";var Bh=J&&J.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jh=J&&J.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ta=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Bh(e,t,n);return jh(e,t),e};Object.defineProperty(J,"__esModule",{value:!0});J.createTaggedDecorator=J.tagProperty=J.tagParameter=J.decorate=void 0;var $n=ta(H()),na=ta(M()),Fh=Zs();function Uh(t){return t.prototype!==void 0}function qh(t){if(t!==void 0)throw new Error($n.INVALID_DECORATOR_OPERATION)}function ra(t,e,n,r){qh(e),oa(na.TAGGED,t,n.toString(),r)}J.tagParameter=ra;function ia(t,e,n){if(Uh(t))throw new Error($n.INVALID_DECORATOR_OPERATION);oa(na.TAGGED_PROP,t.constructor,e,n)}J.tagProperty=ia;function Gh(t){var e=[];if(Array.isArray(t)){e=t;var n=(0,Fh.getFirstArrayDuplicate)(e.map(function(r){return r.key}));if(n!==void 0)throw new Error($n.DUPLICATED_METADATA+" "+n.toString())}else e=[t];return e}function oa(t,e,n,r){var i=Gh(r),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[n];if(s===void 0)s=[];else for(var u=function(d){if(i.some(function(m){return m.key===d.key}))throw new Error($n.DUPLICATED_METADATA+" "+d.key.toString())},c=0,a=s;c<a.length;c++){var l=a[c];u(l)}s.push.apply(s,i),o[n]=s,Reflect.defineMetadata(t,o,e)}function Wh(t){return function(e,n,r){typeof r=="number"?ra(e,n,r,t):ia(e,n,t)}}J.createTaggedDecorator=Wh;function ea(t,e){Reflect.decorate(t,e)}function Vh(t,e){return function(n,r){e(n,r,t)}}function $h(t,e,n){typeof n=="number"?ea([Vh(n,t)],e):typeof n=="string"?Reflect.decorate([t],e,n):ea([t],e)}J.decorate=$h});var aa=h(Ee=>{"use strict";var Kh=Ee&&Ee.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Hh=Ee&&Ee.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),sa=Ee&&Ee.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Kh(e,t,n);return Hh(e,t),e};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.injectable=void 0;var zh=sa(H()),yi=sa(M());function Yh(){return function(t){if(Reflect.hasOwnMetadata(yi.PARAM_TYPES,t))throw new Error(zh.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(yi.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(yi.PARAM_TYPES,e,t),t}}Ee.injectable=Yh});var ua=h(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.tagged=void 0;var Jh=he(),Xh=Fe();function Qh(t,e){return(0,Xh.createTaggedDecorator)(new Jh.Metadata(t,e))}Kn.tagged=Qh});var ca=h(xe=>{"use strict";var Zh=xe&&xe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),eg=xe&&xe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tg=xe&&xe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Zh(e,t,n);return eg(e,t),e};Object.defineProperty(xe,"__esModule",{value:!0});xe.named=void 0;var ng=tg(M()),rg=he(),ig=Fe();function og(t){return(0,ig.createTaggedDecorator)(new rg.Metadata(ng.NAMED_TAG,t))}xe.named=og});var _i=h(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.injectBase=void 0;var sg=H(),ag=he(),ug=Fe();function cg(t){return function(e){return function(n,r,i){if(e===void 0){var o=typeof n=="function"?n.name:n.constructor.name;throw new Error((0,sg.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,ug.createTaggedDecorator)(new ag.Metadata(t,e))(n,r,i)}}}Hn.injectBase=cg});var la=h(Ce=>{"use strict";var lg=Ce&&Ce.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),fg=Ce&&Ce.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dg=Ce&&Ce.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&lg(e,t,n);return fg(e,t),e};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.inject=void 0;var pg=dg(M()),hg=_i(),gg=(0,hg.injectBase)(pg.INJECT_TAG);Ce.inject=gg});var fa=h(Ae=>{"use strict";var mg=Ae&&Ae.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),yg=Ae&&Ae.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_g=Ae&&Ae.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&mg(e,t,n);return yg(e,t),e};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.optional=void 0;var vg=_g(M()),bg=he(),wg=Fe();function Sg(){return(0,wg.createTaggedDecorator)(new bg.Metadata(vg.OPTIONAL_TAG,!0))}Ae.optional=Sg});var da=h(Ie=>{"use strict";var Tg=Ie&&Ie.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Eg=Ie&&Ie.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xg=Ie&&Ie.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Tg(e,t,n);return Eg(e,t),e};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.unmanaged=void 0;var Cg=xg(M()),Ag=he(),Ig=Fe();function Og(){return function(t,e,n){var r=new Ag.Metadata(Cg.UNMANAGED_TAG,!0);(0,Ig.tagParameter)(t,e,n,r)}}Ie.unmanaged=Og});var pa=h(Oe=>{"use strict";var Pg=Oe&&Oe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Ng=Oe&&Oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rg=Oe&&Oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Pg(e,t,n);return Ng(e,t),e};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.multiInject=void 0;var Dg=Rg(M()),Mg=_i(),Lg=(0,Mg.injectBase)(Dg.MULTI_INJECT_TAG);Oe.multiInject=Lg});var ha=h(Pe=>{"use strict";var kg=Pe&&Pe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Bg=Pe&&Pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jg=Pe&&Pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&kg(e,t,n);return Bg(e,t),e};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.targetName=void 0;var Fg=jg(M()),Ug=he(),qg=Fe();function Gg(t){return function(e,n,r){var i=new Ug.Metadata(Fg.NAME_TAG,t);(0,qg.tagParameter)(e,n,r,i)}}Pe.targetName=Gg});var vi=h(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.propertyEventDecorator=void 0;var Wg=he();function Vg(t,e){return function(){return function(n,r){var i=new Wg.Metadata(t,r);if(Reflect.hasOwnMetadata(t,n.constructor))throw new Error(e);Reflect.defineMetadata(t,i,n.constructor)}}}zn.propertyEventDecorator=Vg});var ma=h(Ne=>{"use strict";var $g=Ne&&Ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Kg=Ne&&Ne.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ga=Ne&&Ne.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&$g(e,t,n);return Kg(e,t),e};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.postConstruct=void 0;var Hg=ga(H()),zg=ga(M()),Yg=vi(),Jg=(0,Yg.propertyEventDecorator)(zg.POST_CONSTRUCT,Hg.MULTIPLE_POST_CONSTRUCT_METHODS);Ne.postConstruct=Jg});var _a=h(Re=>{"use strict";var Xg=Re&&Re.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Qg=Re&&Re.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ya=Re&&Re.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&Xg(e,t,n);return Qg(e,t),e};Object.defineProperty(Re,"__esModule",{value:!0});Re.preDestroy=void 0;var Zg=ya(H()),em=ya(M()),tm=vi(),nm=(0,tm.propertyEventDecorator)(em.PRE_DESTROY,Zg.MULTIPLE_PRE_DESTROY_METHODS);Re.preDestroy=nm});var va=h(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.interfaces=void 0;var bi;bi||(bi={});Yn.interfaces=bi});var Wt=h(b=>{"use strict";var rm=b&&b.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),im=b&&b.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),om=b&&b.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&rm(e,t,n);return im(e,t),e};Object.defineProperty(b,"__esModule",{value:!0});b.multiBindToService=b.getServiceIdentifierAsString=b.typeConstraint=b.namedConstraint=b.taggedConstraint=b.traverseAncerstors=b.decorate=b.interfaces=b.id=b.MetadataReader=b.preDestroy=b.postConstruct=b.targetName=b.multiInject=b.unmanaged=b.optional=b.LazyServiceIdentifer=b.inject=b.named=b.tagged=b.injectable=b.createTaggedDecorator=b.ContainerModule=b.AsyncContainerModule=b.TargetTypeEnum=b.BindingTypeEnum=b.BindingScopeEnum=b.Container=b.METADATA_KEY=void 0;var sm=om(M());b.METADATA_KEY=sm;var am=Js();Object.defineProperty(b,"Container",{enumerable:!0,get:function(){return am.Container}});var wi=pe();Object.defineProperty(b,"BindingScopeEnum",{enumerable:!0,get:function(){return wi.BindingScopeEnum}});Object.defineProperty(b,"BindingTypeEnum",{enumerable:!0,get:function(){return wi.BindingTypeEnum}});Object.defineProperty(b,"TargetTypeEnum",{enumerable:!0,get:function(){return wi.TargetTypeEnum}});var ba=Qs();Object.defineProperty(b,"AsyncContainerModule",{enumerable:!0,get:function(){return ba.AsyncContainerModule}});Object.defineProperty(b,"ContainerModule",{enumerable:!0,get:function(){return ba.ContainerModule}});var um=Fe();Object.defineProperty(b,"createTaggedDecorator",{enumerable:!0,get:function(){return um.createTaggedDecorator}});var cm=aa();Object.defineProperty(b,"injectable",{enumerable:!0,get:function(){return cm.injectable}});var lm=ua();Object.defineProperty(b,"tagged",{enumerable:!0,get:function(){return lm.tagged}});var fm=ca();Object.defineProperty(b,"named",{enumerable:!0,get:function(){return fm.named}});var dm=la();Object.defineProperty(b,"inject",{enumerable:!0,get:function(){return dm.inject}});var pm=zr();Object.defineProperty(b,"LazyServiceIdentifer",{enumerable:!0,get:function(){return pm.LazyServiceIdentifer}});var hm=fa();Object.defineProperty(b,"optional",{enumerable:!0,get:function(){return hm.optional}});var gm=da();Object.defineProperty(b,"unmanaged",{enumerable:!0,get:function(){return gm.unmanaged}});var mm=pa();Object.defineProperty(b,"multiInject",{enumerable:!0,get:function(){return mm.multiInject}});var ym=ha();Object.defineProperty(b,"targetName",{enumerable:!0,get:function(){return ym.targetName}});var _m=ma();Object.defineProperty(b,"postConstruct",{enumerable:!0,get:function(){return _m.postConstruct}});var vm=_a();Object.defineProperty(b,"preDestroy",{enumerable:!0,get:function(){return vm.preDestroy}});var bm=Kr();Object.defineProperty(b,"MetadataReader",{enumerable:!0,get:function(){return bm.MetadataReader}});var wm=Ke();Object.defineProperty(b,"id",{enumerable:!0,get:function(){return wm.id}});var Sm=va();Object.defineProperty(b,"interfaces",{enumerable:!0,get:function(){return Sm.interfaces}});var Tm=Fe();Object.defineProperty(b,"decorate",{enumerable:!0,get:function(){return Tm.decorate}});var Jn=di();Object.defineProperty(b,"traverseAncerstors",{enumerable:!0,get:function(){return Jn.traverseAncerstors}});Object.defineProperty(b,"taggedConstraint",{enumerable:!0,get:function(){return Jn.taggedConstraint}});Object.defineProperty(b,"namedConstraint",{enumerable:!0,get:function(){return Jn.namedConstraint}});Object.defineProperty(b,"typeConstraint",{enumerable:!0,get:function(){return Jn.typeConstraint}});var Em=pt();Object.defineProperty(b,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return Em.getServiceIdentifierAsString}});var xm=oi();Object.defineProperty(b,"multiBindToService",{enumerable:!0,get:function(){return xm.multiBindToService}})});var Ra=h((US,Na)=>{"use strict";var{Transform:Bm}=T("stream"),{StringDecoder:jm}=T("string_decoder"),He=Symbol("last"),tr=Symbol("decoder");function Fm(t,e,n){let r;if(this.overflow){if(r=this[tr].write(t).split(this.matcher),r.length===1)return n();r.shift(),this.overflow=!1}else this[He]+=this[tr].write(t),r=this[He].split(this.matcher);this[He]=r.pop();for(let i=0;i<r.length;i++)try{Pa(this,this.mapper(r[i]))}catch(o){return n(o)}if(this.overflow=this[He].length>this.maxLength,this.overflow&&!this.skipOverflow){n(new Error("maximum buffer reached"));return}n()}function Um(t){if(this[He]+=this[tr].end(),this[He])try{Pa(this,this.mapper(this[He]))}catch(e){return t(e)}t()}function Pa(t,e){e!==void 0&&t.push(e)}function Oa(t){return t}function qm(t,e,n){switch(t=t||/\r?\n/,e=e||Oa,n=n||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(n=t,t=/\r?\n/);break;case 2:typeof t=="function"?(n=e,e=t,t=/\r?\n/):typeof e=="object"&&(n=e,e=Oa)}n=Object.assign({},n),n.autoDestroy=!0,n.transform=Fm,n.flush=Um,n.readableObjectMode=!0;let r=new Bm(n);return r[He]="",r[tr]=new jm("utf8"),r.matcher=t,r.mapper=e,r.maxLength=n.maxLength,r.skipOverflow=n.skipOverflow||!1,r.overflow=!1,r._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},r}Na.exports=qm});var Ba=h((zS,ka)=>{"use strict";var{Duplex:Gm}=T("stream");function Ma(t){t.emit("close")}function Wm(){!this.destroyed&&this._writableState.finished&&this.destroy()}function La(t){this.removeListener("error",La),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Vm(t,e){let n=!0,r=new Gm({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let u=!s&&r._readableState.objectMode?o.toString():o;r.push(u)||t.pause()}),t.once("error",function(o){r.destroyed||(n=!1,r.destroy(o))}),t.once("close",function(){r.destroyed||r.push(null)}),r._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(Ma,r);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(Ma,r)}),n&&t.terminate()},r._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){r._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),r._readableState.endEmitted&&r.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},r._read=function(){t.isPaused&&t.resume()},r._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){r._write(i,o,s)});return}t.send(i,s)},r.on("end",Wm),r.on("error",La),r}ka.exports=Vm});var ze=h((YS,ja)=>{"use strict";ja.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Ht=h((JS,rr)=>{"use strict";var{EMPTY_BUFFER:$m}=ze(),Ai=Buffer[Symbol.species];function Km(t,e){if(t.length===0)return $m;if(t.length===1)return t[0];let n=Buffer.allocUnsafe(e),r=0;for(let i=0;i<t.length;i++){let o=t[i];n.set(o,r),r+=o.length}return r<e?new Ai(n.buffer,n.byteOffset,r):n}function Fa(t,e,n,r,i){for(let o=0;o<i;o++)n[r+o]=t[o]^e[o&3]}function Ua(t,e){for(let n=0;n<t.length;n++)t[n]^=e[n&3]}function Hm(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Ii(t){if(Ii.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new Ai(t):ArrayBuffer.isView(t)?e=new Ai(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Ii.readOnly=!1),e}rr.exports={concat:Km,mask:Fa,toArrayBuffer:Hm,toBuffer:Ii,unmask:Ua};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=T("bufferutil");rr.exports.mask=function(e,n,r,i,o){o<48?Fa(e,n,r,i,o):t.mask(e,n,r,i,o)},rr.exports.unmask=function(e,n){e.length<32?Ua(e,n):t.unmask(e,n)}}catch{}});var Wa=h((XS,Ga)=>{"use strict";var qa=Symbol("kDone"),Oi=Symbol("kRun"),Pi=class{constructor(e){this[qa]=()=>{this.pending--,this[Oi]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Oi]()}[Oi](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[qa])}}};Ga.exports=Pi});var Jt=h((QS,Ha)=>{"use strict";var zt=T("zlib"),Va=Ht(),zm=Wa(),{kStatusCode:$a}=ze(),Ym=Buffer[Symbol.species],Jm=Buffer.from([0,0,255,255]),sr=Symbol("permessage-deflate"),Ue=Symbol("total-length"),Yt=Symbol("callback"),Ye=Symbol("buffers"),or=Symbol("error"),ir,Ni=class{constructor(e,n,r){if(this._maxPayload=r|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!n,this._deflate=null,this._inflate=null,this.params=null,!ir){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;ir=new zm(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Yt];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let n=this._options,r=e.find(i=>!(n.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(n.serverMaxWindowBits===!1||typeof n.serverMaxWindowBits=="number"&&n.serverMaxWindowBits>i.server_max_window_bits)||typeof n.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!r)throw new Error("None of the extension offers can be accepted");return n.serverNoContextTakeover&&(r.server_no_context_takeover=!0),n.clientNoContextTakeover&&(r.client_no_context_takeover=!0),typeof n.serverMaxWindowBits=="number"&&(r.server_max_window_bits=n.serverMaxWindowBits),typeof n.clientMaxWindowBits=="number"?r.client_max_window_bits=n.clientMaxWindowBits:(r.client_max_window_bits===!0||n.clientMaxWindowBits===!1)&&delete r.client_max_window_bits,r}acceptAsClient(e){let n=e[0];if(this._options.clientNoContextTakeover===!1&&n.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!n.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(n.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&n.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return n}normalizeParams(e){return e.forEach(n=>{Object.keys(n).forEach(r=>{let i=n[r];if(i.length>1)throw new Error(`Parameter "${r}" must have only a single value`);if(i=i[0],r==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else if(r==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${r}": ${i}`);i=o}else if(r==="client_no_context_takeover"||r==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${r}": ${i}`)}else throw new Error(`Unknown parameter "${r}"`);n[r]=i})}),e}decompress(e,n,r){ir.add(i=>{this._decompress(e,n,(o,s)=>{i(),r(o,s)})})}compress(e,n,r){ir.add(i=>{this._compress(e,n,(o,s)=>{i(),r(o,s)})})}_decompress(e,n,r){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?zt.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=zt.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[sr]=this,this._inflate[Ue]=0,this._inflate[Ye]=[],this._inflate.on("error",Qm),this._inflate.on("data",Ka)}this._inflate[Yt]=r,this._inflate.write(e),n&&this._inflate.write(Jm),this._inflate.flush(()=>{let o=this._inflate[or];if(o){this._inflate.close(),this._inflate=null,r(o);return}let s=Va.concat(this._inflate[Ye],this._inflate[Ue]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ue]=0,this._inflate[Ye]=[],n&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),r(null,s)})}_compress(e,n,r){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?zt.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=zt.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Ue]=0,this._deflate[Ye]=[],this._deflate.on("data",Xm)}this._deflate[Yt]=r,this._deflate.write(e),this._deflate.flush(zt.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=Va.concat(this._deflate[Ye],this._deflate[Ue]);n&&(o=new Ym(o.buffer,o.byteOffset,o.length-4)),this._deflate[Yt]=null,this._deflate[Ue]=0,this._deflate[Ye]=[],n&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),r(null,o)})}};Ha.exports=Ni;function Xm(t){this[Ye].push(t),this[Ue]+=t.length}function Ka(t){if(this[Ue]+=t.length,this[sr]._maxPayload<1||this[Ue]<=this[sr]._maxPayload){this[Ye].push(t);return}this[or]=new RangeError("Max payload size exceeded"),this[or].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[or][$a]=1009,this.removeListener("data",Ka),this.reset()}function Qm(t){this[sr]._inflate=null,t[$a]=1007,this[Yt](t)}});var Xt=h((ZS,ar)=>{"use strict";var{isUtf8:za}=T("buffer"),Zm=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function ey(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Ri(t){let e=t.length,n=0;for(;n<e;)if(!(t[n]&128))n++;else if((t[n]&224)===192){if(n+1===e||(t[n+1]&192)!==128||(t[n]&254)===192)return!1;n+=2}else if((t[n]&240)===224){if(n+2>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||t[n]===224&&(t[n+1]&224)===128||t[n]===237&&(t[n+1]&224)===160)return!1;n+=3}else if((t[n]&248)===240){if(n+3>=e||(t[n+1]&192)!==128||(t[n+2]&192)!==128||(t[n+3]&192)!==128||t[n]===240&&(t[n+1]&240)===128||t[n]===244&&t[n+1]>143||t[n]>244)return!1;n+=4}else return!1;return!0}ar.exports={isValidStatusCode:ey,isValidUTF8:Ri,tokenChars:Zm};if(za)ar.exports.isValidUTF8=function(t){return t.length<24?Ri(t):za(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=T("utf-8-validate");ar.exports.isValidUTF8=function(e){return e.length<32?Ri(e):t(e)}}catch{}});var Bi=h((eT,nu)=>{"use strict";var{Writable:ty}=T("stream"),Ya=Jt(),{BINARY_TYPES:ny,EMPTY_BUFFER:Ja,kStatusCode:ry,kWebSocket:iy}=ze(),{concat:Di,toArrayBuffer:oy,unmask:sy}=Ht(),{isValidStatusCode:ay,isValidUTF8:Xa}=Xt(),ur=Buffer[Symbol.species],uy=Promise.resolve(),cy=typeof queueMicrotask=="function"?queueMicrotask:ly,St=0,Qa=1,Za=2,eu=3,Mi=4,tu=5,Li=6,ki=class extends ty{constructor(e={}){super(),this._binaryType=e.binaryType||ny[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[iy]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=St,this._loop=!1}_write(e,n,r){if(this._opcode===8&&this._state==St)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let r=this._buffers[0];return this._buffers[0]=new ur(r.buffer,r.byteOffset+e,r.length-e),new ur(r.buffer,r.byteOffset,e)}let n=Buffer.allocUnsafe(e);do{let r=this._buffers[0],i=n.length-e;e>=r.length?n.set(this._buffers.shift(),i):(n.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new ur(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return n}startLoop(e){let n;this._loop=!0;do switch(this._state){case St:n=this.getInfo();break;case Qa:n=this.getPayloadLength16();break;case Za:n=this.getPayloadLength64();break;case eu:this.getMask();break;case Mi:n=this.getData(e);break;case tu:this._loop=!1;return;default:this._loop=!1,cy(()=>{this._state=St,this.startLoop(e)});return}while(this._loop);e(n)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,W(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let n=(e[0]&64)===64;if(n&&!this._extensions[Ya.extensionName])return this._loop=!1,W(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(n)return this._loop=!1,W(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,W(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,W(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,W(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(n)return this._loop=!1,W(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,W(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,W(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,W(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,W(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Qa;else if(this._payloadLength===127)this._state=Za;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),n=e.readUInt32BE(0);return n>Math.pow(2,53-32)-1?(this._loop=!1,W(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,W(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=eu:this._state=Mi}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Mi}getData(e){let n=Ja;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}n=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&sy(n,this._mask)}if(this._opcode>7)return this.controlMessage(n);if(this._compressed){this._state=tu,this.decompress(n,e);return}return n.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(n)),this.dataMessage()}decompress(e,n){this._extensions[Ya.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return n(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return n(W(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let s=this.dataMessage();if(s)return n(s);this.startLoop(n)})}dataMessage(){if(this._fin){let e=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let r;this._binaryType==="nodebuffer"?r=Di(n,e):this._binaryType==="arraybuffer"?r=oy(Di(n,e)):r=n,this.emit("message",r,!0)}else{let r=Di(n,e);if(!this._skipUTF8Validation&&!Xa(r))return this._loop=!1,W(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=Li}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Ja),this.end(),this._state=St;else{let n=e.readUInt16BE(0);if(!ay(n))return W(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let r=new ur(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!Xa(r))return W(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",n,r),this.end(),this._state=St}else this._opcode===9?(this.emit("ping",e),this._state=Li):(this.emit("pong",e),this._state=Li)}};nu.exports=ki;function W(t,e,n,r,i){let o=new t(n?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,W),o.code=i,o[ry]=r,o}function ly(t){uy.then(t).catch(dy)}function fy(t){throw t}function dy(t){process.nextTick(fy,t)}});var Fi=h((nT,ou)=>{"use strict";var{Duplex:tT}=T("stream"),{randomFillSync:py}=T("crypto"),ru=Jt(),{EMPTY_BUFFER:hy}=ze(),{isValidStatusCode:gy}=Xt(),{mask:iu,toBuffer:Tt}=Ht(),me=Symbol("kByteLength"),my=Buffer.alloc(4),ji=class t{constructor(e,n,r){this._extensions=n||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,n){let r,i=!1,o=2,s=!1;n.mask&&(r=n.maskBuffer||my,n.generateMask?n.generateMask(r):py(r,0,4),s=(r[0]|r[1]|r[2]|r[3])===0,o=6);let u;typeof e=="string"?(!n.mask||s)&&n[me]!==void 0?u=n[me]:(e=Buffer.from(e),u=e.length):(u=e.length,i=n.mask&&n.readOnly&&!s);let c=u;u>=65536?(o+=8,c=127):u>125&&(o+=2,c=126);let a=Buffer.allocUnsafe(i?u+o:o);return a[0]=n.fin?n.opcode|128:n.opcode,n.rsv1&&(a[0]|=64),a[1]=c,c===126?a.writeUInt16BE(u,2):c===127&&(a[2]=a[3]=0,a.writeUIntBE(u,4,6)),n.mask?(a[1]|=128,a[o-4]=r[0],a[o-3]=r[1],a[o-2]=r[2],a[o-1]=r[3],s?[a,e]:i?(iu(e,r,a,o,u),[a]):(iu(e,r,e,0,u),[a,e])):[a,e]}close(e,n,r,i){let o;if(e===void 0)o=hy;else{if(typeof e!="number"||!gy(e))throw new TypeError("First argument must be a valid error code number");if(n===void 0||!n.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let u=Buffer.byteLength(n);if(u>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+u),o.writeUInt16BE(e,0),typeof n=="string"?o.write(n,2):o.set(n,2)}}let s={[me]:o.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,n,r){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=Tt(e),i=e.length,o=Tt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[me]:i,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}pong(e,n,r){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=Tt(e),i=e.length,o=Tt.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[me]:i,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(t.frame(e,s),r)}send(e,n,r){let i=this._extensions[ru.extensionName],o=n.binary?2:1,s=n.compress,u,c;if(typeof e=="string"?(u=Buffer.byteLength(e),c=!1):(e=Tt(e),u=e.length,c=Tt.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=u>=i._threshold),this._compress=s):(s=!1,o=0),n.fin&&(this._firstFragment=!0),i){let a={[me]:u,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,a,r]):this.dispatch(e,this._compress,a,r)}else this.sendFrame(t.frame(e,{[me]:u,fin:n.fin,generateMask:this._generateMask,mask:n.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),r)}dispatch(e,n,r,i){if(!n){this.sendFrame(t.frame(e,r),i);return}let o=this._extensions[ru.extensionName];this._bufferedBytes+=r[me],this._deflating=!0,o.compress(e,r.fin,(s,u)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let a=0;a<this._queue.length;a++){let l=this._queue[a],d=l[l.length-1];typeof d=="function"&&d(c)}return}this._bufferedBytes-=r[me],this._deflating=!1,r.readOnly=!1,this.sendFrame(t.frame(u,r),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][me],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][me],this._queue.push(e)}sendFrame(e,n){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],n),this._socket.uncork()):this._socket.write(e[0],n)}};ou.exports=ji});var hu=h((rT,pu)=>{"use strict";var{kForOnEventAttribute:Qt,kListener:Ui}=ze(),su=Symbol("kCode"),au=Symbol("kData"),uu=Symbol("kError"),cu=Symbol("kMessage"),lu=Symbol("kReason"),Et=Symbol("kTarget"),fu=Symbol("kType"),du=Symbol("kWasClean"),qe=class{constructor(e){this[Et]=null,this[fu]=e}get target(){return this[Et]}get type(){return this[fu]}};Object.defineProperty(qe.prototype,"target",{enumerable:!0});Object.defineProperty(qe.prototype,"type",{enumerable:!0});var it=class extends qe{constructor(e,n={}){super(e),this[su]=n.code===void 0?0:n.code,this[lu]=n.reason===void 0?"":n.reason,this[du]=n.wasClean===void 0?!1:n.wasClean}get code(){return this[su]}get reason(){return this[lu]}get wasClean(){return this[du]}};Object.defineProperty(it.prototype,"code",{enumerable:!0});Object.defineProperty(it.prototype,"reason",{enumerable:!0});Object.defineProperty(it.prototype,"wasClean",{enumerable:!0});var xt=class extends qe{constructor(e,n={}){super(e),this[uu]=n.error===void 0?null:n.error,this[cu]=n.message===void 0?"":n.message}get error(){return this[uu]}get message(){return this[cu]}};Object.defineProperty(xt.prototype,"error",{enumerable:!0});Object.defineProperty(xt.prototype,"message",{enumerable:!0});var Zt=class extends qe{constructor(e,n={}){super(e),this[au]=n.data===void 0?null:n.data}get data(){return this[au]}};Object.defineProperty(Zt.prototype,"data",{enumerable:!0});var yy={addEventListener(t,e,n={}){for(let i of this.listeners(t))if(!n[Qt]&&i[Ui]===e&&!i[Qt])return;let r;if(t==="message")r=function(o,s){let u=new Zt("message",{data:s?o:o.toString()});u[Et]=this,cr(e,this,u)};else if(t==="close")r=function(o,s){let u=new it("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});u[Et]=this,cr(e,this,u)};else if(t==="error")r=function(o){let s=new xt("error",{error:o,message:o.message});s[Et]=this,cr(e,this,s)};else if(t==="open")r=function(){let o=new qe("open");o[Et]=this,cr(e,this,o)};else return;r[Qt]=!!n[Qt],r[Ui]=e,n.once?this.once(t,r):this.on(t,r)},removeEventListener(t,e){for(let n of this.listeners(t))if(n[Ui]===e&&!n[Qt]){this.removeListener(t,n);break}}};pu.exports={CloseEvent:it,ErrorEvent:xt,Event:qe,EventTarget:yy,MessageEvent:Zt};function cr(t,e,n){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,n):t.call(e,n)}});var qi=h((iT,gu)=>{"use strict";var{tokenChars:en}=Xt();function De(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}function _y(t){let e=Object.create(null),n=Object.create(null),r=!1,i=!1,o=!1,s,u,c=-1,a=-1,l=-1,d=0;for(;d<t.length;d++)if(a=t.charCodeAt(d),s===void 0)if(l===-1&&en[a]===1)c===-1&&(c=d);else if(d!==0&&(a===32||a===9))l===-1&&c!==-1&&(l=d);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1&&(l=d);let y=t.slice(c,l);a===44?(De(e,y,n),n=Object.create(null)):s=y,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(u===void 0)if(l===-1&&en[a]===1)c===-1&&(c=d);else if(a===32||a===9)l===-1&&c!==-1&&(l=d);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1&&(l=d),De(n,t.slice(c,l),!0),a===44&&(De(e,s,n),n=Object.create(null),s=void 0),c=l=-1}else if(a===61&&c!==-1&&l===-1)u=t.slice(c,d),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(i){if(en[a]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);c===-1?c=d:r||(r=!0),i=!1}else if(o)if(en[a]===1)c===-1&&(c=d);else if(a===34&&c!==-1)o=!1,l=d;else if(a===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(a===34&&t.charCodeAt(d-1)===61)o=!0;else if(l===-1&&en[a]===1)c===-1&&(c=d);else if(c!==-1&&(a===32||a===9))l===-1&&(l=d);else if(a===59||a===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1&&(l=d);let y=t.slice(c,l);r&&(y=y.replace(/\\/g,""),r=!1),De(n,u,y),a===44&&(De(e,s,n),n=Object.create(null),s=void 0),u=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(c===-1||o||a===32||a===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=d);let m=t.slice(c,l);return s===void 0?De(e,m,n):(u===void 0?De(n,m,!0):r?De(n,u,m.replace(/\\/g,"")):De(n,u,m),De(e,s,n)),e}function vy(t){return Object.keys(t).map(e=>{let n=t[e];return Array.isArray(n)||(n=[n]),n.map(r=>[e].concat(Object.keys(r).map(i=>{let o=r[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}gu.exports={format:vy,parse:_y}});var Ki=h((aT,Cu)=>{"use strict";var by=T("events"),wy=T("https"),Sy=T("http"),_u=T("net"),Ty=T("tls"),{randomBytes:Ey,createHash:xy}=T("crypto"),{Duplex:oT,Readable:sT}=T("stream"),{URL:Gi}=T("url"),Je=Jt(),Cy=Bi(),Ay=Fi(),{BINARY_TYPES:mu,EMPTY_BUFFER:lr,GUID:Iy,kForOnEventAttribute:Wi,kListener:Oy,kStatusCode:Py,kWebSocket:X,NOOP:vu}=ze(),{EventTarget:{addEventListener:Ny,removeEventListener:Ry}}=hu(),{format:Dy,parse:My}=qi(),{toBuffer:Ly}=Ht(),ky=30*1e3,bu=Symbol("kAborted"),Vi=[8,13],Ge=["CONNECTING","OPEN","CLOSING","CLOSED"],By=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,D=class t extends by{constructor(e,n,r){super(),this._binaryType=mu[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=lr,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,n===void 0?n=[]:Array.isArray(n)||(typeof n=="object"&&n!==null?(r=n,n=[]):n=[n]),wu(this,e,n,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){mu.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,n,r){let i=new Cy({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new Ay(e,this._extensions,r.generateMask),this._receiver=i,this._socket=e,i[X]=this,e[X]=this,i.on("conclude",Uy),i.on("drain",qy),i.on("error",Gy),i.on("message",Wy),i.on("ping",Vy),i.on("pong",$y),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),n.length>0&&e.unshift(n),e.on("close",Tu),e.on("data",dr),e.on("end",Eu),e.on("error",xu),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Je.extensionName]&&this._extensions[Je.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,n){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let r="WebSocket was closed before the connection was established";se(this,this._req,r);return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,n,!this._isServer,r=>{r||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),ky)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){$i(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.ping(e||lr,n,r)}pong(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(r=e,e=n=void 0):typeof n=="function"&&(r=n,n=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){$i(this,e,r);return}n===void 0&&(n=!this._isServer),this._sender.pong(e||lr,n,r)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,n,r){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof n=="function"&&(r=n,n={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){$i(this,e,r);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...n};this._extensions[Je.extensionName]||(i.compress=!1),this._sender.send(e||lr,i,r)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let e="WebSocket was closed before the connection was established";se(this,this._req,e);return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(D,"CONNECTING",{enumerable:!0,value:Ge.indexOf("CONNECTING")});Object.defineProperty(D.prototype,"CONNECTING",{enumerable:!0,value:Ge.indexOf("CONNECTING")});Object.defineProperty(D,"OPEN",{enumerable:!0,value:Ge.indexOf("OPEN")});Object.defineProperty(D.prototype,"OPEN",{enumerable:!0,value:Ge.indexOf("OPEN")});Object.defineProperty(D,"CLOSING",{enumerable:!0,value:Ge.indexOf("CLOSING")});Object.defineProperty(D.prototype,"CLOSING",{enumerable:!0,value:Ge.indexOf("CLOSING")});Object.defineProperty(D,"CLOSED",{enumerable:!0,value:Ge.indexOf("CLOSED")});Object.defineProperty(D.prototype,"CLOSED",{enumerable:!0,value:Ge.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(D.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(D.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[Wi])return e[Oy];return null},set(e){for(let n of this.listeners(t))if(n[Wi]){this.removeListener(t,n);break}typeof e=="function"&&this.addEventListener(t,e,{[Wi]:!0})}})});D.prototype.addEventListener=Ny;D.prototype.removeEventListener=Ry;Cu.exports=D;function wu(t,e,n,r){let i={protocolVersion:Vi[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...r,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!Vi.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${Vi.join(", ")})`);let o;if(e instanceof Gi)o=e;else try{o=new Gi(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",u=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!u?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:u&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let S=new SyntaxError(c);if(t._redirects===0)throw S;fr(t,S);return}let a=s?443:80,l=Ey(16).toString("base64"),d=s?wy.request:Sy.request,m=new Set,y;if(i.createConnection=s?Fy:jy,i.defaultPort=i.defaultPort||a,i.port=o.port||a,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(y=new Je(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=Dy({[Je.extensionName]:y.offer()})),n.length){for(let S of n){if(typeof S!="string"||!By.test(S)||m.has(S))throw new SyntaxError("An invalid or duplicated subprotocol was specified");m.add(S)}i.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),u){let S=i.path.split(":");i.socketPath=S[0],i.path=S[1]}let w;if(i.followRedirects){if(t._redirects===0){t._originalIpc=u,t._originalSecure=s,t._originalHostOrSocketPath=u?i.socketPath:o.host;let S=r&&r.headers;if(r={...r,headers:{}},S)for(let[R,Q]of Object.entries(S))r.headers[R.toLowerCase()]=Q}else if(t.listenerCount("redirect")===0){let S=u?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!S||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,S||delete i.headers.host,i.auth=void 0)}i.auth&&!r.headers.authorization&&(r.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),w=t._req=d(i),t._redirects&&t.emit("redirect",t.url,w)}else w=t._req=d(i);i.timeout&&w.on("timeout",()=>{se(t,w,"Opening handshake has timed out")}),w.on("error",S=>{w===null||w[bu]||(w=t._req=null,fr(t,S))}),w.on("response",S=>{let R=S.headers.location,Q=S.statusCode;if(R&&i.followRedirects&&Q>=300&&Q<400){if(++t._redirects>i.maxRedirects){se(t,w,"Maximum redirects exceeded");return}w.abort();let de;try{de=new Gi(R,e)}catch{let ae=new SyntaxError(`Invalid URL: ${R}`);fr(t,ae);return}wu(t,de,n,r)}else t.emit("unexpected-response",w,S)||se(t,w,`Unexpected server response: ${S.statusCode}`)}),w.on("upgrade",(S,R,Q)=>{if(t.emit("upgrade",S),t.readyState!==D.CONNECTING)return;if(w=t._req=null,S.headers.upgrade.toLowerCase()!=="websocket"){se(t,R,"Invalid Upgrade header");return}let de=xy("sha1").update(l+Iy).digest("base64");if(S.headers["sec-websocket-accept"]!==de){se(t,R,"Invalid Sec-WebSocket-Accept header");return}let ke=S.headers["sec-websocket-protocol"],ae;if(ke!==void 0?m.size?m.has(ke)||(ae="Server sent an invalid subprotocol"):ae="Server sent a subprotocol but none was requested":m.size&&(ae="Server sent no subprotocol"),ae){se(t,R,ae);return}ke&&(t._protocol=ke);let Ze=S.headers["sec-websocket-extensions"];if(Ze!==void 0){if(!y){se(t,R,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let We;try{We=My(Ze)}catch{se(t,R,"Invalid Sec-WebSocket-Extensions header");return}let et=Object.keys(We);if(et.length!==1||et[0]!==Je.extensionName){se(t,R,"Server indicated an extension that was not requested");return}try{y.accept(We[Je.extensionName])}catch{se(t,R,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Je.extensionName]=y}t.setSocket(R,Q,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(w,t):w.end()}function fr(t,e){t._readyState=D.CLOSING,t.emit("error",e),t.emitClose()}function jy(t){return t.path=t.socketPath,_u.connect(t)}function Fy(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=_u.isIP(t.host)?"":t.host),Ty.connect(t)}function se(t,e,n){t._readyState=D.CLOSING;let r=new Error(n);Error.captureStackTrace(r,se),e.setHeader?(e[bu]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(fr,t,r)):(e.destroy(r),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function $i(t,e,n){if(e){let r=Ly(e).length;t._socket?t._sender._bufferedBytes+=r:t._bufferedAmount+=r}if(n){let r=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ge[t.readyState]})`);process.nextTick(n,r)}}function Uy(t,e){let n=this[X];n._closeFrameReceived=!0,n._closeMessage=e,n._closeCode=t,n._socket[X]!==void 0&&(n._socket.removeListener("data",dr),process.nextTick(Su,n._socket),t===1005?n.close():n.close(t,e))}function qy(){let t=this[X];t.isPaused||t._socket.resume()}function Gy(t){let e=this[X];e._socket[X]!==void 0&&(e._socket.removeListener("data",dr),process.nextTick(Su,e._socket),e.close(t[Py])),e.emit("error",t)}function yu(){this[X].emitClose()}function Wy(t,e){this[X].emit("message",t,e)}function Vy(t){let e=this[X];e.pong(t,!e._isServer,vu),e.emit("ping",t)}function $y(t){this[X].emit("pong",t)}function Su(t){t.resume()}function Tu(){let t=this[X];this.removeListener("close",Tu),this.removeListener("data",dr),this.removeListener("end",Eu),t._readyState=D.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[X]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",yu),t._receiver.on("finish",yu))}function dr(t){this[X]._receiver.write(t)||this.pause()}function Eu(){let t=this[X];t._readyState=D.CLOSING,t._receiver.end(),this.end()}function xu(){let t=this[X];this.removeListener("error",xu),this.on("error",vu),t&&(t._readyState=D.CLOSING,this.destroy())}});var Iu=h((uT,Au)=>{"use strict";var{tokenChars:Ky}=Xt();function Hy(t){let e=new Set,n=-1,r=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(r===-1&&Ky[s]===1)n===-1&&(n=i);else if(i!==0&&(s===32||s===9))r===-1&&n!==-1&&(r=i);else if(s===44){if(n===-1)throw new SyntaxError(`Unexpected character at index ${i}`);r===-1&&(r=i);let u=t.slice(n,r);if(e.has(u))throw new SyntaxError(`The "${u}" subprotocol is duplicated`);e.add(u),n=r=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(n===-1||r!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(n,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}Au.exports={parse:Hy}});var Lu=h((lT,Mu)=>{"use strict";var zy=T("events"),pr=T("http"),{Duplex:cT}=T("stream"),{createHash:Yy}=T("crypto"),Ou=qi(),ot=Jt(),Jy=Iu(),Xy=Ki(),{GUID:Qy,kWebSocket:Zy}=ze(),e_=/^[+/0-9A-Za-z]{22}==$/,Pu=0,Nu=1,Du=2,Hi=class extends zy{constructor(e,n){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Xy,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=pr.createServer((r,i)=>{let o=pr.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,n)):e.server&&(this._server=e.server),this._server){let r=this.emit.bind(this,"connection");this._removeListeners=t_(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,r)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=Pu}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===Du){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(tn,this);return}if(e&&this.once("close",e),this._state!==Nu)if(this._state=Nu,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(tn,this):process.nextTick(tn,this);else{let n=this._server;this._removeListeners(),this._removeListeners=this._server=null,n.close(()=>{tn(this)})}}shouldHandle(e){if(this.options.path){let n=e.url.indexOf("?");if((n!==-1?e.url.slice(0,n):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,n,r,i){n.on("error",Ru);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){st(this,e,n,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){st(this,e,n,400,"Invalid Upgrade header");return}if(!o||!e_.test(o)){st(this,e,n,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){st(this,e,n,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){nn(n,400);return}let u=e.headers["sec-websocket-protocol"],c=new Set;if(u!==void 0)try{c=Jy.parse(u)}catch{st(this,e,n,400,"Invalid Sec-WebSocket-Protocol header");return}let a=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&a!==void 0){let d=new ot(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let m=Ou.parse(a);m[ot.extensionName]&&(d.accept(m[ot.extensionName]),l[ot.extensionName]=d)}catch{st(this,e,n,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let d={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(d,(m,y,w,S)=>{if(!m)return nn(n,y||401,w,S);this.completeUpgrade(l,o,c,e,n,r,i)});return}if(!this.options.verifyClient(d))return nn(n,401)}this.completeUpgrade(l,o,c,e,n,r,i)}completeUpgrade(e,n,r,i,o,s,u){if(!o.readable||!o.writable)return o.destroy();if(o[Zy])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>Pu)return nn(o,503);let a=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Yy("sha1").update(n+Qy).digest("base64")}`],l=new this.options.WebSocket(null);if(r.size){let d=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;d&&(a.push(`Sec-WebSocket-Protocol: ${d}`),l._protocol=d)}if(e[ot.extensionName]){let d=e[ot.extensionName].params,m=Ou.format({[ot.extensionName]:[d]});a.push(`Sec-WebSocket-Extensions: ${m}`),l._extensions=e}this.emit("headers",a,i),o.write(a.concat(`\r
`).join(`\r
`)),o.removeListener("error",Ru),l.setSocket(o,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(tn,this)})),u(l,i)}};Mu.exports=Hi;function t_(t,e){for(let n of Object.keys(e))t.on(n,e[n]);return function(){for(let r of Object.keys(e))t.removeListener(r,e[r])}}function tn(t){t._state=Du,t.emit("close")}function Ru(){this.destroy()}function nn(t,e,n,r){n=n||pr.STATUS_CODES[e],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${pr.STATUS_CODES[e]}\r
`+Object.keys(r).map(i=>`${i}: ${r[i]}`).join(`\r
`)+`\r
\r
`+n)}function st(t,e,n,r,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,st),t.emit("wsClientError",o,n,e)}else nn(n,r,i)}});var Xu=h(Ju=>{var Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Ju.encode=function(t){if(0<=t&&t<Yu.length)return Yu[t];throw new TypeError("Must be between 0 and 63: "+t)}});var Yi=h(ec=>{var f_=Xu(),Qu=5,Zu=1<<Qu,d_=Zu-1,p_=Zu;function h_(t){return t<0?(-t<<1)+1:(t<<1)+0}ec.encode=function(e){let n="",r,i=h_(e);do r=i&d_,i>>>=Qu,i>0&&(r|=p_),n+=f_.encode(r);while(i>0);return n}});var nc=h((AT,tc)=>{"use strict";tc.exports=typeof URL=="function"?URL:T("url").URL});var an=h(Me=>{var Qe=nc();function g_(t,e,n){if(e in t)return t[e];if(arguments.length===3)return n;throw new Error('"'+e+'" is a required argument.')}Me.getArg=g_;var ic=function(){return!("__proto__"in Object.create(null))}();function oc(t){return t}function m_(t){return sc(t)?"$"+t:t}Me.toSetString=ic?oc:m_;function y_(t){return sc(t)?t.slice(1):t}Me.fromSetString=ic?oc:y_;function sc(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let n=e-10;n>=0;n--)if(t.charCodeAt(n)!==36)return!1;return!0}function rc(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function __(t,e){let n=t.generatedLine-e.generatedLine;return n!==0||(n=t.generatedColumn-e.generatedColumn,n!==0)||(n=rc(t.source,e.source),n!==0)||(n=t.originalLine-e.originalLine,n!==0)||(n=t.originalColumn-e.originalColumn,n!==0)?n:rc(t.name,e.name)}Me.compareByGeneratedPositionsInflated=__;function v_(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}Me.parseSourceMapInput=v_;var Xi="http:",on=`${Xi}//host`;function Qi(t){return e=>{let n=Ot(e),r=Zi(e),i=new Qe(e,r);t(i);let o=i.toString();return n==="absolute"?o:n==="scheme-relative"?o.slice(Xi.length):n==="path-absolute"?o.slice(on.length):eo(r,o)}}function Xe(t,e){return new Qe(t,e).toString()}function b_(t,e){let n=0;do{let r=t+n++;if(e.indexOf(r)===-1)return r}while(!0)}function Zi(t){let e=t.split("..").length-1,n=b_("p",t),r=`${on}/`;for(let i=0;i<e;i++)r+=`${n}/`;return r}var w_=/^[A-Za-z0-9\+\-\.]+:/;function Ot(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":w_.test(t)?"absolute":"path-relative"}function eo(t,e){typeof t=="string"&&(t=new Qe(t)),typeof e=="string"&&(e=new Qe(e));let n=e.pathname.split("/"),r=t.pathname.split("/");for(r.length>0&&!r[r.length-1]&&r.pop();n.length>0&&r.length>0&&n[0]===r[0];)n.shift(),r.shift();return r.map(()=>"..").concat(n).join("/")+e.search+e.hash}var S_=Qi(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),T_=Qi(t=>{t.href=new Qe(".",t.toString()).toString()}),sn=Qi(t=>{});Me.normalize=sn;function Ji(t,e){let n=Ot(e),r=Ot(t);if(t=S_(t),n==="absolute")return Xe(e,void 0);if(r==="absolute")return Xe(e,t);if(n==="scheme-relative")return sn(e);if(r==="scheme-relative")return Xe(e,Xe(t,on)).slice(Xi.length);if(n==="path-absolute")return sn(e);if(r==="path-absolute")return Xe(e,Xe(t,on)).slice(on.length);let i=Zi(e+t),o=Xe(e,Xe(t,i));return eo(i,o)}Me.join=Ji;function E_(t,e){let n=x_(t,e);return typeof n=="string"?n:sn(e)}Me.relative=E_;function x_(t,e){if(Ot(t)!==Ot(e))return null;let r=Zi(t+e),i=new Qe(t,r),o=new Qe(e,r);try{new Qe("",o.toString())}catch{return null}return o.protocol!==i.protocol||o.user!==i.user||o.password!==i.password||o.hostname!==i.hostname||o.port!==i.port?null:eo(i,o)}function C_(t,e,n){t&&Ot(e)==="path-absolute"&&(e=e.replace(/^\//,""));let r=sn(e||"");return t&&(r=Ji(t,r)),n&&(r=Ji(T_(n),r)),r}Me.computeSourceURL=C_});var no=h(ac=>{var to=class t{constructor(){this._array=[],this._set=new Map}static fromArray(e,n){let r=new t;for(let i=0,o=e.length;i<o;i++)r.add(e[i],n);return r}size(){return this._set.size}add(e,n){let r=this.has(e),i=this._array.length;(!r||n)&&this._array.push(e),r||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){let n=this._set.get(e);if(n>=0)return n;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};ac.ArraySet=to});var lc=h(cc=>{var uc=an();function A_(t,e){let n=t.generatedLine,r=e.generatedLine,i=t.generatedColumn,o=e.generatedColumn;return r>n||r==n&&o>=i||uc.compareByGeneratedPositionsInflated(t,e)<=0}var ro=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,n){this._array.forEach(e,n)}add(e){A_(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(uc.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};cc.MappingList=ro});var io=h(fc=>{var un=Yi(),k=an(),yr=no().ArraySet,I_=lc().MappingList,_r=class t{constructor(e){e||(e={}),this._file=k.getArg(e,"file",null),this._sourceRoot=k.getArg(e,"sourceRoot",null),this._skipValidation=k.getArg(e,"skipValidation",!1),this._sources=new yr,this._names=new yr,this._mappings=new I_,this._sourcesContents=null}static fromSourceMap(e){let n=e.sourceRoot,r=new t({file:e.file,sourceRoot:n});return e.eachMapping(function(i){let o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,n!=null&&(o.source=k.relative(n,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),r.addMapping(o)}),e.sources.forEach(function(i){let o=i;n!==null&&(o=k.relative(n,i)),r._sources.has(o)||r._sources.add(o);let s=e.sourceContentFor(i);s!=null&&r.setSourceContent(i,s)}),r}addMapping(e){let n=k.getArg(e,"generated"),r=k.getArg(e,"original",null),i=k.getArg(e,"source",null),o=k.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:r!=null&&r.line,originalColumn:r!=null&&r.column,source:i,name:o})}setSourceContent(e,n){let r=e;this._sourceRoot!=null&&(r=k.relative(this._sourceRoot,r)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[k.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[k.toSetString(r)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,n,r){let i=n;if(n==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}let o=this._sourceRoot;o!=null&&(i=k.relative(o,i));let s=this._mappings.toArray().length>0?new yr:this._sources,u=new yr;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){let d=e.originalPositionFor({line:c.originalLine,column:c.originalColumn});d.source!=null&&(c.source=d.source,r!=null&&(c.source=k.join(r,c.source)),o!=null&&(c.source=k.relative(o,c.source)),c.originalLine=d.line,c.originalColumn=d.column,d.name!=null&&(c.name=d.name))}let a=c.source;a!=null&&!s.has(a)&&s.add(a);let l=c.name;l!=null&&!u.has(l)&&u.add(l)},this),this._sources=s,this._names=u,e.sources.forEach(function(c){let a=e.sourceContentFor(c);a!=null&&(r!=null&&(c=k.join(r,c)),o!=null&&(c=k.relative(o,c)),this.setSourceContent(c,a))},this)}_validateMapping(e,n,r,i){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!n&&!r&&!i)){if(!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:i}))}}_serializeMappings(){let e=0,n=1,r=0,i=0,o=0,s=0,u="",c,a,l,d,m=this._mappings.toArray();for(let y=0,w=m.length;y<w;y++){if(a=m[y],c="",a.generatedLine!==n)for(e=0;a.generatedLine!==n;)c+=";",n++;else if(y>0){if(!k.compareByGeneratedPositionsInflated(a,m[y-1]))continue;c+=","}c+=un.encode(a.generatedColumn-e),e=a.generatedColumn,a.source!=null&&(d=this._sources.indexOf(a.source),c+=un.encode(d-s),s=d,c+=un.encode(a.originalLine-1-i),i=a.originalLine-1,c+=un.encode(a.originalColumn-r),r=a.originalColumn,a.name!=null&&(l=this._names.indexOf(a.name),c+=un.encode(l-o),o=l)),u+=c}return u}_generateSourcesContent(e,n){return e.map(function(r){if(!this._sourcesContents)return null;n!=null&&(r=k.relative(n,r));let i=k.toSetString(r);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};_r.prototype._version=3;fc.SourceMapGenerator=_r});var dc=h(ut=>{ut.GREATEST_LOWER_BOUND=1;ut.LEAST_UPPER_BOUND=2;function oo(t,e,n,r,i,o){let s=Math.floor((e-t)/2)+t,u=i(n,r[s],!0);return u===0?s:u>0?e-s>1?oo(s,e,n,r,i,o):o==ut.LEAST_UPPER_BOUND?e<r.length?e:-1:s:s-t>1?oo(t,s,n,r,i,o):o==ut.LEAST_UPPER_BOUND?s:t<0?-1:t}ut.search=function(e,n,r,i){if(n.length===0)return-1;let o=oo(-1,n.length,e,n,r,i||ut.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&r(n[o],n[o-1],!0)===0;)--o;return o}});var ao=h((DT,so)=>{"use strict";var O_=T("fs"),P_=T("path");so.exports=function(){return new Promise((e,n)=>{let r=P_.join(__dirname,"mappings.wasm");O_.readFile(r,null,(i,o)=>{if(i){n(i);return}e(o.buffer)})})};so.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var hc=h((MT,pc)=>{var N_=ao();function R_(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var cn=null;pc.exports=function(){if(cn)return cn;let e=[];return cn=N_().then(n=>WebAssembly.instantiate(n,{env:{mapping_callback(r,i,o,s,u,c,a,l,d,m){let y=new R_;y.generatedLine=r+1,y.generatedColumn=i,o&&(y.lastGeneratedColumn=s-1),u&&(y.source=c,y.originalLine=a+1,y.originalColumn=l,d&&(y.name=m)),e[e.length-1](y)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(n=>({exports:n.instance.exports,withMappingCallback:(r,i)=>{e.push(r);try{i()}finally{e.pop()}}})).then(null,n=>{throw cn=null,n}),cn}});var gc=h(br=>{var I=an(),D_=dc(),uo=no().ArraySet,LT=Yi(),M_=ao(),L_=hc(),co=Symbol("smcInternal"),F=class t{constructor(e,n){return e==co?Promise.resolve(this):k_(e,n)}static initialize(e){M_.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,n){return B_(e,n)}static async with(e,n,r){let i=await new t(e,n);try{return await r(i)}finally{i.destroy()}}eachMapping(e,n,r){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};F.prototype._version=3;F.GENERATED_ORDER=1;F.ORIGINAL_ORDER=2;F.GREATEST_LOWER_BOUND=1;F.LEAST_UPPER_BOUND=2;br.SourceMapConsumer=F;var Pt=class t extends F{constructor(e,n){return super(co).then(r=>{let i=e;typeof e=="string"&&(i=I.parseSourceMapInput(e));let o=I.getArg(i,"version"),s=I.getArg(i,"sources").map(String),u=I.getArg(i,"names",[]),c=I.getArg(i,"sourceRoot",null),a=I.getArg(i,"sourcesContent",null),l=I.getArg(i,"mappings"),d=I.getArg(i,"file",null);if(o!=r._version)throw new Error("Unsupported version: "+o);return r._sourceLookupCache=new Map,r._names=uo.fromArray(u.map(String),!0),r._sources=uo.fromArray(s,!0),r._absoluteSources=uo.fromArray(r._sources.toArray().map(function(m){return I.computeSourceURL(c,m,n)}),!0),r.sourceRoot=c,r.sourcesContent=a,r._mappings=l,r._sourceMapURL=n,r.file=d,r._computedColumnSpans=!1,r._mappingsPtr=0,r._wasm=null,L_().then(m=>(r._wasm=m,r))})}_findSourceIndex(e){let n=this._sourceLookupCache.get(e);if(typeof n=="number")return n;let r=I.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(r)){let o=this._absoluteSources.indexOf(r);return this._sourceLookupCache.set(e,o),o}let i=I.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let o=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,o),o}return-1}static fromSourceMap(e,n){return new t(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,n=e.length,r=this._wasm.exports.allocate_mappings(n),i=new Uint8Array(this._wasm.exports.memory.buffer,r,n);for(let s=0;s<n;s++)i[s]=e.charCodeAt(s);let o=this._wasm.exports.parse_mappings(r);if(!o){let s=this._wasm.exports.get_last_error(),u=`Error parsing mappings (code ${s}): `;switch(s){case 1:u+="the mappings contained a negative line, column, source index, or name index";break;case 2:u+="the mappings contained a number larger than 2**32";break;case 3:u+="reached EOF while in the middle of parsing a VLQ";break;case 4:u+="invalid base 64 character while parsing a VLQ";break;default:u+="unknown error code";break}throw new Error(u)}this._mappingsPtr=o}eachMapping(e,n,r){let i=n||null,o=r||F.GENERATED_ORDER;this._wasm.withMappingCallback(s=>{s.source!==null&&(s.source=this._absoluteSources.at(s.source),s.name!==null&&(s.name=this._names.at(s.name))),this._computedColumnSpans&&s.lastGeneratedColumn===null&&(s.lastGeneratedColumn=1/0),e.call(i,s)},()=>{switch(o){case F.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case F.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let n=I.getArg(e,"source"),r=I.getArg(e,"line"),i=e.column||0;if(n=this._findSourceIndex(n),n<0)return[];if(r<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");let o=[];return this._wasm.withMappingCallback(s=>{let u=s.lastGeneratedColumn;this._computedColumnSpans&&u===null&&(u=1/0),o.push({line:s.generatedLine,column:s.generatedColumn,lastColumn:u})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),n,r-1,"column"in e,i)}),o}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let n={generatedLine:I.getArg(e,"line"),generatedColumn:I.getArg(e,"column")};if(n.generatedLine<1)throw new Error("Line numbers must be >= 1");if(n.generatedColumn<0)throw new Error("Column numbers must be >= 0");let r=I.getArg(e,"bias",F.GREATEST_LOWER_BOUND);r==null&&(r=F.GREATEST_LOWER_BOUND);let i;if(this._wasm.withMappingCallback(o=>i=o,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),n.generatedLine-1,n.generatedColumn,r)}),i&&i.generatedLine===n.generatedLine){let o=I.getArg(i,"source",null);o!==null&&(o=this._absoluteSources.at(o));let s=I.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:o,line:I.getArg(i,"originalLine",null),column:I.getArg(i,"originalColumn",null),name:s}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,n){if(!this.sourcesContent)return null;let r=this._findSourceIndex(e);if(r>=0)return this.sourcesContent[r];if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let n=I.getArg(e,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};let r={source:n,originalLine:I.getArg(e,"line"),originalColumn:I.getArg(e,"column")};if(r.originalLine<1)throw new Error("Line numbers must be >= 1");if(r.originalColumn<0)throw new Error("Column numbers must be >= 0");let i=I.getArg(e,"bias",F.GREATEST_LOWER_BOUND);i==null&&(i=F.GREATEST_LOWER_BOUND);let o;if(this._wasm.withMappingCallback(s=>o=s,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),r.source,r.originalLine-1,r.originalColumn,i)}),o&&o.source===r.source){let s=o.lastGeneratedColumn;return this._computedColumnSpans&&s===null&&(s=1/0),{line:I.getArg(o,"generatedLine",null),column:I.getArg(o,"generatedColumn",null),lastColumn:s}}return{line:null,column:null,lastColumn:null}}};Pt.prototype.consumer=F;br.BasicSourceMapConsumer=Pt;var vr=class extends F{constructor(e,n){return super(co).then(r=>{let i=e;typeof e=="string"&&(i=I.parseSourceMapInput(e));let o=I.getArg(i,"version"),s=I.getArg(i,"sections");if(o!=r._version)throw new Error("Unsupported version: "+o);let u={line:-1,column:0};return Promise.all(s.map(c=>{if(c.url)throw new Error("Support for url field in sections not implemented.");let a=I.getArg(c,"offset"),l=I.getArg(a,"line"),d=I.getArg(a,"column");if(l<u.line||l===u.line&&d<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,new F(I.getArg(c,"map"),n).then(y=>({generatedOffset:{generatedLine:l+1,generatedColumn:d+1},consumer:y}))})).then(c=>(r._sections=c,r))})}get sources(){let e=[];for(let n=0;n<this._sections.length;n++)for(let r=0;r<this._sections[n].consumer.sources.length;r++)e.push(this._sections[n].consumer.sources[r]);return e}originalPositionFor(e){let n={generatedLine:I.getArg(e,"line"),generatedColumn:I.getArg(e,"column")},r=D_.search(n,this._sections,function(o,s){let u=o.generatedLine-s.generatedOffset.generatedLine;return u||o.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,n){for(let r=0;r<this._sections.length;r++){let o=this._sections[r].consumer.sourceContentFor(e,!0);if(o)return o}if(n)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let n=0;n<this._sections.length;n++){let{consumer:r}=this._sections[n];if(r._findSourceIndex(e)!==-1)return n}return-1}generatedPositionFor(e){let n=this._findSectionIndex(I.getArg(e,"source")),r=n>=0?this._sections[n]:null,i=n>=0&&n+1<this._sections.length?this._sections[n+1]:null,o=r&&r.consumer.generatedPositionFor(e);if(o&&o.line!==null){let s=r.generatedOffset.generatedLine-1,u=r.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=u,typeof o.lastColumn=="number"&&(o.lastColumn+=u)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let n=this._findSectionIndex(I.getArg(e,"source")),r=n>=0?this._sections[n]:null,i=n>=0&&n+1<this._sections.length?this._sections[n+1]:null;return r?r.consumer.allGeneratedPositionsFor(e).map(o=>{let s=r.generatedOffset.generatedLine-1,u=r.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=u,typeof o.lastColumn=="number"&&(o.lastColumn+=u)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}):[]}eachMapping(e,n,r){this._sections.forEach((i,o)=>{let s=o+1<this._sections.length?this._sections[o+1]:null,{generatedOffset:u}=i,c=u.generatedLine-1,a=u.generatedColumn-1;i.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=a,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=a)),l.lastGeneratedColumn===1/0&&s&&l.generatedLine===s.generatedOffset.generatedLine&&(l.lastGeneratedColumn=s.generatedOffset.generatedColumn-2),l.generatedLine+=c,e.call(this,l)},n,r)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};br.IndexedSourceMapConsumer=vr;function k_(t,e){let n=t;typeof t=="string"&&(n=I.parseSourceMapInput(t));let r=n.sections!=null?new vr(n,e):new Pt(n,e);return Promise.resolve(r)}function B_(t,e){return Pt.fromSourceMap(t,e)}});var yc=h(mc=>{var j_=io().SourceMapGenerator,wr=an(),F_=/(\r?\n)/,U_=10,Nt="$$$isSourceNode$$$",lo=class t{constructor(e,n,r,i,o){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=n==null?null:n,this.source=r==null?null:r,this.name=o==null?null:o,this[Nt]=!0,i!=null&&this.add(i)}static fromStringWithSourceMap(e,n,r){let i=new t,o=e.split(F_),s=0,u=function(){let y=S(),w=S()||"";return y+w;function S(){return s<o.length?o[s++]:void 0}},c=1,a=0,l=null,d;return n.eachMapping(function(y){if(l!==null)if(c<y.generatedLine)m(l,u()),c++,a=0;else{d=o[s]||"";let w=d.substr(0,y.generatedColumn-a);o[s]=d.substr(y.generatedColumn-a),a=y.generatedColumn,m(l,w),l=y;return}for(;c<y.generatedLine;)i.add(u()),c++;a<y.generatedColumn&&(d=o[s]||"",i.add(d.substr(0,y.generatedColumn)),o[s]=d.substr(y.generatedColumn),a=y.generatedColumn),l=y},this),s<o.length&&(l&&m(l,u()),i.add(o.splice(s).join(""))),n.sources.forEach(function(y){let w=n.sourceContentFor(y);w!=null&&(r!=null&&(y=wr.join(r,y)),i.setSourceContent(y,w))}),i;function m(y,w){if(y===null||y.source===void 0)i.add(w);else{let S=r?wr.join(r,y.source):y.source;i.add(new t(y.originalLine,y.originalColumn,S,w,y.name))}}}add(e){if(Array.isArray(e))e.forEach(function(n){this.add(n)},this);else if(e[Nt]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let n=e.length-1;n>=0;n--)this.prepend(e[n]);else if(e[Nt]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let n;for(let r=0,i=this.children.length;r<i;r++)n=this.children[r],n[Nt]?n.walk(e):n!==""&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let n,r,i=this.children.length;if(i>0){for(n=[],r=0;r<i-1;r++)n.push(this.children[r]),n.push(e);n.push(this.children[r]),this.children=n}return this}replaceRight(e,n){let r=this.children[this.children.length-1];return r[Nt]?r.replaceRight(e,n):typeof r=="string"?this.children[this.children.length-1]=r.replace(e,n):this.children.push("".replace(e,n)),this}setSourceContent(e,n){this.sourceContents[wr.toSetString(e)]=n}walkSourceContents(e){for(let r=0,i=this.children.length;r<i;r++)this.children[r][Nt]&&this.children[r].walkSourceContents(e);let n=Object.keys(this.sourceContents);for(let r=0,i=n.length;r<i;r++)e(wr.fromSetString(n[r]),this.sourceContents[n[r]])}toString(){let e="";return this.walk(function(n){e+=n}),e}toStringWithSourceMap(e){let n={code:"",line:1,column:0},r=new j_(e),i=!1,o=null,s=null,u=null,c=null;return this.walk(function(a,l){n.code+=a,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||s!==l.line||u!==l.column||c!==l.name)&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:n.line,column:n.column},name:l.name}),o=l.source,s=l.line,u=l.column,c=l.name,i=!0):i&&(r.addMapping({generated:{line:n.line,column:n.column}}),o=null,i=!1);for(let d=0,m=a.length;d<m;d++)a.charCodeAt(d)===U_?(n.line++,n.column=0,d+1===m?(o=null,i=!1):i&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:n.line,column:n.column},name:l.name})):n.column++}),this.walkSourceContents(function(a,l){r.setSourceContent(a,l)}),{code:n.code,map:r}}};mc.SourceNode=lo});var _c=h(Sr=>{Sr.SourceMapGenerator=io().SourceMapGenerator;Sr.SourceMapConsumer=gc().SourceMapConsumer;Sr.SourceNode=yc().SourceNode});var Tc=h((GT,Sc)=>{Sc.exports=wc;wc.sync=$_;var vc=T("fs");function V_(t,e){var n=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!n||(n=n.split(";"),n.indexOf("")!==-1))return!0;for(var r=0;r<n.length;r++){var i=n[r].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function bc(t,e,n){return!t.isSymbolicLink()&&!t.isFile()?!1:V_(e,n)}function wc(t,e,n){vc.stat(t,function(r,i){n(r,r?!1:bc(i,t,e))})}function $_(t,e){return bc(vc.statSync(t),t,e)}});var Ic=h((WT,Ac)=>{Ac.exports=xc;xc.sync=K_;var Ec=T("fs");function xc(t,e,n){Ec.stat(t,function(r,i){n(r,r?!1:Cc(i,e))})}function K_(t,e){return Cc(Ec.statSync(t),e)}function Cc(t,e){return t.isFile()&&H_(t,e)}function H_(t,e){var n=t.mode,r=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),u=parseInt("100",8),c=parseInt("010",8),a=parseInt("001",8),l=u|c,d=n&a||n&c&&i===s||n&u&&r===o||n&l&&o===0;return d}});var Pc=h(($T,Oc)=>{var VT=T("fs"),Tr;process.platform==="win32"||global.TESTING_WINDOWS?Tr=Tc():Tr=Ic();Oc.exports=po;po.sync=z_;function po(t,e,n){if(typeof e=="function"&&(n=e,e={}),!n){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,i){po(t,e||{},function(o,s){o?i(o):r(s)})})}Tr(t,e||{},function(r,i){r&&(r.code==="EACCES"||e&&e.ignoreErrors)&&(r=null,i=!1),n(r,i)})}function z_(t,e){try{return Tr.sync(t,e||{})}catch(n){if(e&&e.ignoreErrors||n.code==="EACCES")return!1;throw n}}});var Bc=h((KT,kc)=>{var Rt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Nc=T("path"),Y_=Rt?";":":",Rc=Pc(),Dc=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Mc=(t,e)=>{let n=e.colon||Y_,r=t.match(/\//)||Rt&&t.match(/\\/)?[""]:[...Rt?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(n)],i=Rt?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=Rt?i.split(n):[""];return Rt&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:r,pathExt:o,pathExtExe:i}},Lc=(t,e,n)=>{typeof e=="function"&&(n=e,e={}),e||(e={});let{pathEnv:r,pathExt:i,pathExtExe:o}=Mc(t,e),s=[],u=a=>new Promise((l,d)=>{if(a===r.length)return e.all&&s.length?l(s):d(Dc(t));let m=r[a],y=/^".*"$/.test(m)?m.slice(1,-1):m,w=Nc.join(y,t),S=!y&&/^\.[\\\/]/.test(t)?t.slice(0,2)+w:w;l(c(S,a,0))}),c=(a,l,d)=>new Promise((m,y)=>{if(d===i.length)return m(u(l+1));let w=i[d];Rc(a+w,{pathExt:o},(S,R)=>{if(!S&&R)if(e.all)s.push(a+w);else return m(a+w);return m(c(a,l,d+1))})});return n?u(0).then(a=>n(null,a),n):u(0)},J_=(t,e)=>{e=e||{};let{pathEnv:n,pathExt:r,pathExtExe:i}=Mc(t,e),o=[];for(let s=0;s<n.length;s++){let u=n[s],c=/^".*"$/.test(u)?u.slice(1,-1):u,a=Nc.join(c,t),l=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+a:a;for(let d=0;d<r.length;d++){let m=l+r[d];try{if(Rc.sync(m,{pathExt:i}))if(e.all)o.push(m);else return m}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw Dc(t)};kc.exports=Lc;Lc.sync=J_});var Fc=h((HT,ho)=>{"use strict";var jc=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};ho.exports=jc;ho.exports.default=jc});var Wc=h((zT,Gc)=>{"use strict";var Uc=T("path"),X_=Bc(),Q_=Fc();function qc(t,e){let n=t.options.env||process.env,r=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=X_.sync(t.command,{path:n[Q_({env:n})],pathExt:e?Uc.delimiter:void 0})}catch{}finally{o&&process.chdir(r)}return s&&(s=Uc.resolve(i?t.options.cwd:"",s)),s}function Z_(t){return qc(t)||qc(t,!0)}Gc.exports=Z_});var Vc=h((YT,mo)=>{"use strict";var go=/([()\][%!^"`<>&|;, *?])/g;function ev(t){return t=t.replace(go,"^$1"),t}function tv(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(go,"^$1"),e&&(t=t.replace(go,"^$1")),t}mo.exports.command=ev;mo.exports.argument=tv});var Kc=h((JT,$c)=>{"use strict";$c.exports=/^#!(.*)/});var zc=h((XT,Hc)=>{"use strict";var nv=Kc();Hc.exports=(t="")=>{let e=t.match(nv);if(!e)return null;let[n,r]=e[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return i==="env"?r:r?`${i} ${r}`:i}});var Jc=h((QT,Yc)=>{"use strict";var yo=T("fs"),rv=zc();function iv(t){let n=Buffer.alloc(150),r;try{r=yo.openSync(t,"r"),yo.readSync(r,n,0,150,0),yo.closeSync(r)}catch{}return rv(n.toString())}Yc.exports=iv});var el=h((ZT,Zc)=>{"use strict";var ov=T("path"),Xc=Wc(),Qc=Vc(),sv=Jc(),av=process.platform==="win32",uv=/\.(?:com|exe)$/i,cv=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function lv(t){t.file=Xc(t);let e=t.file&&sv(t.file);return e?(t.args.unshift(t.file),t.command=e,Xc(t)):t.file}function fv(t){if(!av)return t;let e=lv(t),n=!uv.test(e);if(t.options.forceShell||n){let r=cv.test(e);t.command=ov.normalize(t.command),t.command=Qc.command(t.command),t.args=t.args.map(o=>Qc.argument(o,r));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function dv(t,e,n){e&&!Array.isArray(e)&&(n=e,e=null),e=e?e.slice(0):[],n=Object.assign({},n);let r={command:t,args:e,options:n,file:void 0,original:{command:t,args:e}};return n.shell?r:fv(r)}Zc.exports=dv});var rl=h((eE,nl)=>{"use strict";var _o=process.platform==="win32";function vo(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function pv(t,e){if(!_o)return;let n=t.emit;t.emit=function(r,i){if(r==="exit"){let o=tl(i,e,"spawn");if(o)return n.call(t,"error",o)}return n.apply(t,arguments)}}function tl(t,e){return _o&&t===1&&!e.file?vo(e.original,"spawn"):null}function hv(t,e){return _o&&t===1&&!e.file?vo(e.original,"spawnSync"):null}nl.exports={hookChildProcess:pv,verifyENOENT:tl,verifyENOENTSync:hv,notFoundError:vo}});var sl=h((tE,Dt)=>{"use strict";var il=T("child_process"),bo=el(),wo=rl();function ol(t,e,n){let r=bo(t,e,n),i=il.spawn(r.command,r.args,r.options);return wo.hookChildProcess(i,r),i}function gv(t,e,n){let r=bo(t,e,n),i=il.spawnSync(r.command,r.args,r.options);return i.error=i.error||wo.verifyENOENTSync(i.status,r),i}Dt.exports=ol;Dt.exports.spawn=ol;Dt.exports.sync=gv;Dt.exports._parse=bo;Dt.exports._enoent=wo});var ul=h((nE,al)=>{"use strict";al.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),n=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===n&&(t=t.slice(0,t.length-1)),t}});var ll=h((rE,So)=>{"use strict";var cl=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};So.exports=cl;So.exports.default=cl});var pl=h((iE,fn)=>{"use strict";var ln=T("path"),fl=ll(),dl=t=>{t={cwd:process.cwd(),path:process.env[fl()],execPath:process.execPath,...t};let e,n=ln.resolve(t.cwd),r=[];for(;e!==n;)r.push(ln.join(n,"node_modules/.bin")),e=n,n=ln.resolve(n,"..");let i=ln.resolve(t.cwd,t.execPath,"..");return r.push(i),r.concat(t.path).join(ln.delimiter)};fn.exports=dl;fn.exports.default=dl;fn.exports.env=t=>{t={env:process.env,...t};let e={...t.env},n=fl({env:e});return t.path=e[n],e[n]=fn.exports(t),e}});var gl=h((oE,To)=>{"use strict";var hl=(t,e)=>{for(let n of Reflect.ownKeys(e))Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n));return t};To.exports=hl;To.exports.default=hl});var yl=h((sE,xr)=>{"use strict";var mv=gl(),Er=new WeakMap,ml=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let n,r=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(Er.set(o,++r),r===1)n=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return n};return mv(o,t),Er.set(o,r),o};xr.exports=ml;xr.exports.default=ml;xr.exports.callCount=t=>{if(!Er.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Er.get(t)}});var _l=h(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.SIGNALS=void 0;var yv=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Cr.SIGNALS=yv});var Eo=h(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.SIGRTMAX=Mt.getRealtimeSignals=void 0;var _v=function(){let t=bl-vl+1;return Array.from({length:t},vv)};Mt.getRealtimeSignals=_v;var vv=function(t,e){return{name:`SIGRT${e+1}`,number:vl+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},vl=34,bl=64;Mt.SIGRTMAX=bl});var wl=h(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getSignals=void 0;var bv=T("os"),wv=_l(),Sv=Eo(),Tv=function(){let t=(0,Sv.getRealtimeSignals)();return[...wv.SIGNALS,...t].map(Ev)};Ar.getSignals=Tv;var Ev=function({name:t,number:e,description:n,action:r,forced:i=!1,standard:o}){let{signals:{[t]:s}}=bv.constants,u=s!==void 0;return{name:t,number:u?s:e,description:n,supported:u,action:r,forced:i,standard:o}}});var Tl=h(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.signalsByNumber=Lt.signalsByName=void 0;var xv=T("os"),Sl=wl(),Cv=Eo(),Av=function(){return(0,Sl.getSignals)().reduce(Iv,{})},Iv=function(t,{name:e,number:n,description:r,supported:i,action:o,forced:s,standard:u}){return{...t,[e]:{name:e,number:n,description:r,supported:i,action:o,forced:s,standard:u}}},Ov=Av();Lt.signalsByName=Ov;var Pv=function(){let t=(0,Sl.getSignals)(),e=Cv.SIGRTMAX+1,n=Array.from({length:e},(r,i)=>Nv(i,t));return Object.assign({},...n)},Nv=function(t,e){let n=Rv(t,e);if(n===void 0)return{};let{name:r,description:i,supported:o,action:s,forced:u,standard:c}=n;return{[t]:{name:r,number:t,description:i,supported:o,action:s,forced:u,standard:c}}},Rv=function(t,e){let n=e.find(({name:r})=>xv.constants.signals[r]===t);return n!==void 0?n:e.find(r=>r.number===t)},Dv=Pv();Lt.signalsByNumber=Dv});var xl=h((fE,El)=>{"use strict";var{signalsByName:Mv}=Tl(),Lv=({timedOut:t,timeout:e,errorCode:n,signal:r,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":n!==void 0?`failed with ${n}`:r!==void 0?`was killed with ${r} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",kv=({stdout:t,stderr:e,all:n,error:r,signal:i,exitCode:o,command:s,escapedCommand:u,timedOut:c,isCanceled:a,killed:l,parsed:{options:{timeout:d}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let m=i===void 0?void 0:Mv[i].description,y=r&&r.code,S=`Command ${Lv({timedOut:c,timeout:d,errorCode:y,signal:i,signalDescription:m,exitCode:o,isCanceled:a})}: ${s}`,R=Object.prototype.toString.call(r)==="[object Error]",Q=R?`${S}
${r.message}`:S,de=[Q,e,t].filter(Boolean).join(`
`);return R?(r.originalMessage=r.message,r.message=de):r=new Error(de),r.shortMessage=Q,r.command=s,r.escapedCommand=u,r.exitCode=o,r.signal=i,r.signalDescription=m,r.stdout=t,r.stderr=e,n!==void 0&&(r.all=n),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=!!c,r.isCanceled=a,r.killed=l&&!c,r};El.exports=kv});var Al=h((dE,xo)=>{"use strict";var Ir=["stdin","stdout","stderr"],Bv=t=>Ir.some(e=>t[e]!==void 0),Cl=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return Ir.map(r=>t[r]);if(Bv(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Ir.map(r=>`\`${r}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let n=Math.max(e.length,Ir.length);return Array.from({length:n},(r,i)=>e[i])};xo.exports=Cl;xo.exports.node=t=>{let e=Cl(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Il=h((pE,Or)=>{Or.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&Or.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Or.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Nl=h((hE,hn)=>{var jv=T("assert"),dn=Il(),Fv=/^win/i.test(process.platform),Pr=T("events");typeof Pr!="function"&&(Pr=Pr.EventEmitter);var $;process.__signal_exit_emitter__?$=process.__signal_exit_emitter__:($=process.__signal_exit_emitter__=new Pr,$.count=0,$.emitted={});$.infinite||($.setMaxListeners(1/0),$.infinite=!0);hn.exports=function(t,e){jv.equal(typeof t,"function","a callback must be provided for exit handler"),pn===!1&&Ol();var n="exit";e&&e.alwaysLast&&(n="afterexit");var r=function(){$.removeListener(n,t),$.listeners("exit").length===0&&$.listeners("afterexit").length===0&&Ao()};return $.on(n,t),r};hn.exports.unload=Ao;function Ao(){pn&&(pn=!1,dn.forEach(function(t){try{process.removeListener(t,Io[t])}catch{}}),process.emit=Co,process.reallyExit=Pl,$.count-=1)}function kt(t,e,n){$.emitted[t]||($.emitted[t]=!0,$.emit(t,e,n))}var Io={};dn.forEach(function(t){Io[t]=function(){var n=process.listeners(t);n.length===$.count&&(Ao(),kt("exit",null,t),kt("afterexit",null,t),Fv&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});hn.exports.signals=function(){return dn};hn.exports.load=Ol;var pn=!1;function Ol(){pn||(pn=!0,$.count+=1,dn=dn.filter(function(t){try{return process.on(t,Io[t]),!0}catch{return!1}}),process.emit=qv,process.reallyExit=Uv)}var Pl=process.reallyExit;function Uv(t){process.exitCode=t||0,kt("exit",process.exitCode,null),kt("afterexit",process.exitCode,null),Pl.call(process,process.exitCode)}var Co=process.emit;function qv(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var n=Co.apply(this,arguments);return kt("exit",process.exitCode,null),kt("afterexit",process.exitCode,null),n}else return Co.apply(this,arguments)}});var Dl=h((gE,Rl)=>{"use strict";var Gv=T("os"),Wv=Nl(),Vv=1e3*5,$v=(t,e="SIGTERM",n={})=>{let r=t(e);return Kv(t,e,n,r),r},Kv=(t,e,n,r)=>{if(!Hv(e,n,r))return;let i=Yv(n),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},Hv=(t,{forceKillAfterTimeout:e},n)=>zv(t)&&e!==!1&&n,zv=t=>t===Gv.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",Yv=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return Vv;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Jv=(t,e)=>{t.kill()&&(e.isCanceled=!0)},Xv=(t,e,n)=>{t.kill(e),n(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Qv=(t,{timeout:e,killSignal:n="SIGTERM"},r)=>{if(e===0||e===void 0)return r;let i,o=new Promise((u,c)=>{i=setTimeout(()=>{Xv(t,n,c)},e)}),s=r.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},Zv=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},eb=async(t,{cleanup:e,detached:n},r)=>{if(!e||n)return r;let i=Wv(()=>{t.kill()});return r.finally(()=>{i()})};Rl.exports={spawnedKill:$v,spawnedCancel:Jv,setupTimeout:Qv,validateTimeout:Zv,setExitHandler:eb}});var Ll=h((mE,Ml)=>{"use strict";var Le=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Le.writable=t=>Le(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Le.readable=t=>Le(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Le.duplex=t=>Le.writable(t)&&Le.readable(t);Le.transform=t=>Le.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";Ml.exports=Le});var Bl=h((yE,kl)=>{"use strict";var{PassThrough:tb}=T("stream");kl.exports=t=>{t={...t};let{array:e}=t,{encoding:n}=t,r=n==="buffer",i=!1;e?i=!(n||r):n=n||"utf8",r&&(n=null);let o=new tb({objectMode:i});n&&o.setEncoding(n);let s=0,u=[];return o.on("data",c=>{u.push(c),i?s=u.length:s+=c.length}),o.getBufferedValue=()=>e?u:r?Buffer.concat(u,s):u.join(""),o.getBufferedLength=()=>s,o}});var jl=h((_E,gn)=>{"use strict";var{constants:nb}=T("buffer"),rb=T("stream"),{promisify:ib}=T("util"),ob=Bl(),sb=ib(rb.pipeline),Nr=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Oo(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:n}=e,r=ob(e);return await new Promise((i,o)=>{let s=u=>{u&&r.getBufferedLength()<=nb.MAX_LENGTH&&(u.bufferedData=r.getBufferedValue()),o(u)};(async()=>{try{await sb(t,r),i()}catch(u){s(u)}})(),r.on("data",()=>{r.getBufferedLength()>n&&s(new Nr)})}),r.getBufferedValue()}gn.exports=Oo;gn.exports.buffer=(t,e)=>Oo(t,{...e,encoding:"buffer"});gn.exports.array=(t,e)=>Oo(t,{...e,array:!0});gn.exports.MaxBufferError=Nr});var Ul=h((vE,Fl)=>{"use strict";var{PassThrough:ab}=T("stream");Fl.exports=function(){var t=[],e=new ab({objectMode:!0});return e.setMaxListeners(0),e.add=n,e.isEmpty=r,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(n),e;function n(o){return Array.isArray(o)?(o.forEach(n),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function r(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var Vl=h((bE,Wl)=>{"use strict";var Gl=Ll(),ql=jl(),ub=Ul(),cb=(t,e)=>{e===void 0||t.stdin===void 0||(Gl(e)?e.pipe(t.stdin):t.stdin.end(e))},lb=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let n=ub();return t.stdout&&n.add(t.stdout),t.stderr&&n.add(t.stderr),n},Po=async(t,e)=>{if(t){t.destroy();try{return await e}catch(n){return n.bufferedData}}},No=(t,{encoding:e,buffer:n,maxBuffer:r})=>{if(!(!t||!n))return e?ql(t,{encoding:e,maxBuffer:r}):ql.buffer(t,{maxBuffer:r})},fb=async({stdout:t,stderr:e,all:n},{encoding:r,buffer:i,maxBuffer:o},s)=>{let u=No(t,{encoding:r,buffer:i,maxBuffer:o}),c=No(e,{encoding:r,buffer:i,maxBuffer:o}),a=No(n,{encoding:r,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,u,c,a])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},Po(t,u),Po(e,c),Po(n,a)])}},db=({input:t})=>{if(Gl(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};Wl.exports={handleInput:cb,makeAllStream:lb,getSpawnedResult:fb,validateInputSync:db}});var Kl=h((wE,$l)=>{"use strict";var pb=(async()=>{})().constructor.prototype,hb=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(pb,t)]),gb=(t,e)=>{for(let[n,r]of hb){let i=typeof e=="function"?(...o)=>Reflect.apply(r.value,e(),o):r.value.bind(e);Reflect.defineProperty(t,n,{...r,value:i})}return t},mb=t=>new Promise((e,n)=>{t.on("exit",(r,i)=>{e({exitCode:r,signal:i})}),t.on("error",r=>{n(r)}),t.stdin&&t.stdin.on("error",r=>{n(r)})});$l.exports={mergePromise:gb,getSpawnedPromise:mb}});var Yl=h((SE,zl)=>{"use strict";var Hl=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],yb=/^[\w.-]+$/,_b=/"/g,vb=t=>typeof t!="string"||yb.test(t)?t:`"${t.replace(_b,'\\"')}"`,bb=(t,e)=>Hl(t,e).join(" "),wb=(t,e)=>Hl(t,e).map(n=>vb(n)).join(" "),Sb=/ +/g,Tb=t=>{let e=[];for(let n of t.trim().split(Sb)){let r=e[e.length-1];r&&r.endsWith("\\")?e[e.length-1]=`${r.slice(0,-1)} ${n}`:e.push(n)}return e};zl.exports={joinCommand:bb,getEscapedCommand:wb,parseCommand:Tb}});var nf=h((TE,Bt)=>{"use strict";var Eb=T("path"),Ro=T("child_process"),xb=sl(),Cb=ul(),Ab=pl(),Ib=yl(),Rr=xl(),Xl=Al(),{spawnedKill:Ob,spawnedCancel:Pb,setupTimeout:Nb,validateTimeout:Rb,setExitHandler:Db}=Dl(),{handleInput:Mb,getSpawnedResult:Lb,makeAllStream:kb,validateInputSync:Bb}=Vl(),{mergePromise:Jl,getSpawnedPromise:jb}=Kl(),{joinCommand:Ql,parseCommand:Zl,getEscapedCommand:ef}=Yl(),Fb=1e3*1e3*100,Ub=({env:t,extendEnv:e,preferLocal:n,localDir:r,execPath:i})=>{let o=e?{...process.env,...t}:t;return n?Ab.env({env:o,cwd:r,execPath:i}):o},tf=(t,e,n={})=>{let r=xb._parse(t,e,n);return t=r.command,e=r.args,n=r.options,n={maxBuffer:Fb,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:n.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...n},n.env=Ub(n),n.stdio=Xl(n),process.platform==="win32"&&Eb.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:n,parsed:r}},mn=(t,e,n)=>typeof e!="string"&&!Buffer.isBuffer(e)?n===void 0?void 0:"":t.stripFinalNewline?Cb(e):e,Dr=(t,e,n)=>{let r=tf(t,e,n),i=Ql(t,e),o=ef(t,e);Rb(r.options);let s;try{s=Ro.spawn(r.file,r.args,r.options)}catch(y){let w=new Ro.ChildProcess,S=Promise.reject(Rr({error:y,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Jl(w,S)}let u=jb(s),c=Nb(s,r.options,u),a=Db(s,r.options,c),l={isCanceled:!1};s.kill=Ob.bind(null,s.kill.bind(s)),s.cancel=Pb.bind(null,s,l);let m=Ib(async()=>{let[{error:y,exitCode:w,signal:S,timedOut:R},Q,de,ke]=await Lb(s,r.options,a),ae=mn(r.options,Q),Ze=mn(r.options,de),We=mn(r.options,ke);if(y||w!==0||S!==null){let et=Rr({error:y,exitCode:w,signal:S,stdout:ae,stderr:Ze,all:We,command:i,escapedCommand:o,parsed:r,timedOut:R,isCanceled:l.isCanceled,killed:s.killed});if(!r.options.reject)return et;throw et}return{command:i,escapedCommand:o,exitCode:0,stdout:ae,stderr:Ze,all:We,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Mb(s,r.options.input),s.all=kb(s,r.options),Jl(s,m)};Bt.exports=Dr;Bt.exports.sync=(t,e,n)=>{let r=tf(t,e,n),i=Ql(t,e),o=ef(t,e);Bb(r.options);let s;try{s=Ro.spawnSync(r.file,r.args,r.options)}catch(a){throw Rr({error:a,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let u=mn(r.options,s.stdout,s.error),c=mn(r.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let a=Rr({stdout:u,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:r,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!r.options.reject)return a;throw a}return{command:i,escapedCommand:o,exitCode:0,stdout:u,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Bt.exports.command=(t,e)=>{let[n,...r]=Zl(t);return Dr(n,r,e)};Bt.exports.commandSync=(t,e)=>{let[n,...r]=Zl(t);return Dr.sync(n,r,e)};Bt.exports.node=(t,e,n={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(n=e,e=[]);let r=Xl.node(n),i=process.execArgv.filter(u=>!u.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=n;return Dr(o,[...s,t,...Array.isArray(e)?e:[]],{...n,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var zo;(function(t){(function(e){var n=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),r=i(t);typeof n.Reflect>"u"?n.Reflect=t:r=i(n.Reflect,r),e(r);function i(o,s){return function(u,c){typeof o[u]!="function"&&Object.defineProperty(o,u,{configurable:!0,writable:!0,value:c}),s&&s(u,c)}}})(function(e){var n=Object.prototype.hasOwnProperty,r=typeof Symbol=="function",i=r&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=r&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",u={__proto__:[]}instanceof Array,c=!s&&!u,a={create:s?function(){return Wr(Object.create(null))}:u?function(){return Wr({__proto__:null})}:function(){return Wr({})},has:c?function(f,p){return n.call(f,p)}:function(f,p){return p in f},get:c?function(f,p){return n.call(f,p)?f[p]:void 0}:function(f,p){return f[p]}},l=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",m=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Rf(),y=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Df(),w=!d&&typeof WeakMap=="function"?WeakMap:Mf(),S=new w;function R(f,p,g,_){if(B(g)){if(!Wo(f))throw new TypeError;if(!Vo(p))throw new TypeError;return bf(f,p)}else{if(!Wo(f))throw new TypeError;if(!U(p))throw new TypeError;if(!U(_)&&!B(_)&&!ft(_))throw new TypeError;return ft(_)&&(_=void 0),g=Be(g),wf(f,p,g,_)}}e("decorate",R);function Q(f,p){function g(_,E){if(!U(_))throw new TypeError;if(!B(E)&&!Af(E))throw new TypeError;Fo(f,p,_,E)}return g}e("metadata",Q);function de(f,p,g,_){if(!U(g))throw new TypeError;return B(_)||(_=Be(_)),Fo(f,p,g,_)}e("defineMetadata",de);function ke(f,p,g){if(!U(p))throw new TypeError;return B(g)||(g=Be(g)),ko(f,p,g)}e("hasMetadata",ke);function ae(f,p,g){if(!U(p))throw new TypeError;return B(g)||(g=Be(g)),qr(f,p,g)}e("hasOwnMetadata",ae);function Ze(f,p,g){if(!U(p))throw new TypeError;return B(g)||(g=Be(g)),Bo(f,p,g)}e("getMetadata",Ze);function We(f,p,g){if(!U(p))throw new TypeError;return B(g)||(g=Be(g)),jo(f,p,g)}e("getOwnMetadata",We);function et(f,p){if(!U(f))throw new TypeError;return B(p)||(p=Be(p)),Uo(f,p)}e("getMetadataKeys",et);function jt(f,p){if(!U(f))throw new TypeError;return B(p)||(p=Be(p)),qo(f,p)}e("getOwnMetadataKeys",jt);function Ur(f,p,g){if(!U(p))throw new TypeError;B(g)||(g=Be(g));var _=Ft(p,g,!1);if(B(_)||!_.delete(f))return!1;if(_.size>0)return!0;var E=S.get(p);return E.delete(g),E.size>0||S.delete(p),!0}e("deleteMetadata",Ur);function bf(f,p){for(var g=f.length-1;g>=0;--g){var _=f[g],E=_(p);if(!B(E)&&!ft(E)){if(!Vo(E))throw new TypeError;p=E}}return p}function wf(f,p,g,_){for(var E=f.length-1;E>=0;--E){var V=f[E],C=V(p,g,_);if(!B(C)&&!ft(C)){if(!U(C))throw new TypeError;_=C}}return _}function Ft(f,p,g){var _=S.get(f);if(B(_)){if(!g)return;_=new m,S.set(f,_)}var E=_.get(p);if(B(E)){if(!g)return;E=new m,_.set(p,E)}return E}function ko(f,p,g){var _=qr(f,p,g);if(_)return!0;var E=Gr(p);return ft(E)?!1:ko(f,E,g)}function qr(f,p,g){var _=Ft(p,g,!1);return B(_)?!1:xf(_.has(f))}function Bo(f,p,g){var _=qr(f,p,g);if(_)return jo(f,p,g);var E=Gr(p);if(!ft(E))return Bo(f,E,g)}function jo(f,p,g){var _=Ft(p,g,!1);if(!B(_))return _.get(f)}function Fo(f,p,g,_){var E=Ft(g,_,!0);E.set(f,p)}function Uo(f,p){var g=qo(f,p),_=Gr(f);if(_===null)return g;var E=Uo(_,p);if(E.length<=0)return g;if(g.length<=0)return E;for(var V=new y,C=[],A=0,x=g;A<x.length;A++){var P=x[A],N=V.has(P);N||(V.add(P),C.push(P))}for(var Ve=0,Ko=E;Ve<Ko.length;Ve++){var P=Ko[Ve],N=V.has(P);N||(V.add(P),C.push(P))}return C}function qo(f,p){var g=[],_=Ft(f,p,!1);if(B(_))return g;for(var E=_.keys(),V=If(E),C=0;;){var A=Pf(V);if(!A)return g.length=C,g;var x=Of(A);try{g[C]=x}catch(P){try{Nf(V)}finally{throw P}}C++}}function Go(f){if(f===null)return 1;switch(typeof f){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return f===null?1:6;default:return 6}}function B(f){return f===void 0}function ft(f){return f===null}function Sf(f){return typeof f=="symbol"}function U(f){return typeof f=="object"?f!==null:typeof f=="function"}function Tf(f,p){switch(Go(f)){case 0:return f;case 1:return f;case 2:return f;case 3:return f;case 4:return f;case 5:return f}var g=p===3?"string":p===5?"number":"default",_=$o(f,i);if(_!==void 0){var E=_.call(f,g);if(U(E))throw new TypeError;return E}return Ef(f,g==="default"?"number":g)}function Ef(f,p){if(p==="string"){var g=f.toString;if(dt(g)){var _=g.call(f);if(!U(_))return _}var E=f.valueOf;if(dt(E)){var _=E.call(f);if(!U(_))return _}}else{var E=f.valueOf;if(dt(E)){var _=E.call(f);if(!U(_))return _}var V=f.toString;if(dt(V)){var _=V.call(f);if(!U(_))return _}}throw new TypeError}function xf(f){return!!f}function Cf(f){return""+f}function Be(f){var p=Tf(f,3);return Sf(p)?p:Cf(p)}function Wo(f){return Array.isArray?Array.isArray(f):f instanceof Object?f instanceof Array:Object.prototype.toString.call(f)==="[object Array]"}function dt(f){return typeof f=="function"}function Vo(f){return typeof f=="function"}function Af(f){switch(Go(f)){case 3:return!0;case 4:return!0;default:return!1}}function $o(f,p){var g=f[p];if(g!=null){if(!dt(g))throw new TypeError;return g}}function If(f){var p=$o(f,o);if(!dt(p))throw new TypeError;var g=p.call(f);if(!U(g))throw new TypeError;return g}function Of(f){return f.value}function Pf(f){var p=f.next();return p.done?!1:p}function Nf(f){var p=f.return;p&&p.call(f)}function Gr(f){var p=Object.getPrototypeOf(f);if(typeof f!="function"||f===l||p!==l)return p;var g=f.prototype,_=g&&Object.getPrototypeOf(g);if(_==null||_===Object.prototype)return p;var E=_.constructor;return typeof E!="function"||E===f?p:E}function Rf(){var f={},p=[],g=function(){function C(A,x,P){this._index=0,this._keys=A,this._values=x,this._selector=P}return C.prototype["@@iterator"]=function(){return this},C.prototype[o]=function(){return this},C.prototype.next=function(){var A=this._index;if(A>=0&&A<this._keys.length){var x=this._selector(this._keys[A],this._values[A]);return A+1>=this._keys.length?(this._index=-1,this._keys=p,this._values=p):this._index++,{value:x,done:!1}}return{value:void 0,done:!0}},C.prototype.throw=function(A){throw this._index>=0&&(this._index=-1,this._keys=p,this._values=p),A},C.prototype.return=function(A){return this._index>=0&&(this._index=-1,this._keys=p,this._values=p),{value:A,done:!0}},C}();return function(){function C(){this._keys=[],this._values=[],this._cacheKey=f,this._cacheIndex=-2}return Object.defineProperty(C.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),C.prototype.has=function(A){return this._find(A,!1)>=0},C.prototype.get=function(A){var x=this._find(A,!1);return x>=0?this._values[x]:void 0},C.prototype.set=function(A,x){var P=this._find(A,!0);return this._values[P]=x,this},C.prototype.delete=function(A){var x=this._find(A,!1);if(x>=0){for(var P=this._keys.length,N=x+1;N<P;N++)this._keys[N-1]=this._keys[N],this._values[N-1]=this._values[N];return this._keys.length--,this._values.length--,A===this._cacheKey&&(this._cacheKey=f,this._cacheIndex=-2),!0}return!1},C.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=f,this._cacheIndex=-2},C.prototype.keys=function(){return new g(this._keys,this._values,_)},C.prototype.values=function(){return new g(this._keys,this._values,E)},C.prototype.entries=function(){return new g(this._keys,this._values,V)},C.prototype["@@iterator"]=function(){return this.entries()},C.prototype[o]=function(){return this.entries()},C.prototype._find=function(A,x){return this._cacheKey!==A&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=A)),this._cacheIndex<0&&x&&(this._cacheIndex=this._keys.length,this._keys.push(A),this._values.push(void 0)),this._cacheIndex},C}();function _(C,A){return C}function E(C,A){return A}function V(C,A){return[C,A]}}function Df(){return function(){function f(){this._map=new m}return Object.defineProperty(f.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),f.prototype.has=function(p){return this._map.has(p)},f.prototype.add=function(p){return this._map.set(p,p),this},f.prototype.delete=function(p){return this._map.delete(p)},f.prototype.clear=function(){this._map.clear()},f.prototype.keys=function(){return this._map.keys()},f.prototype.values=function(){return this._map.values()},f.prototype.entries=function(){return this._map.entries()},f.prototype["@@iterator"]=function(){return this.keys()},f.prototype[o]=function(){return this.keys()},f}()}function Mf(){var f=16,p=a.create(),g=_();return function(){function x(){this._key=_()}return x.prototype.has=function(P){var N=E(P,!1);return N!==void 0?a.has(N,this._key):!1},x.prototype.get=function(P){var N=E(P,!1);return N!==void 0?a.get(N,this._key):void 0},x.prototype.set=function(P,N){var Ve=E(P,!0);return Ve[this._key]=N,this},x.prototype.delete=function(P){var N=E(P,!1);return N!==void 0?delete N[this._key]:!1},x.prototype.clear=function(){this._key=_()},x}();function _(){var x;do x="@@WeakMap@@"+A();while(a.has(p,x));return p[x]=!0,x}function E(x,P){if(!n.call(x,g)){if(!P)return;Object.defineProperty(x,g,{value:a.create()})}return x[g]}function V(x,P){for(var N=0;N<P;++N)x[N]=Math.random()*255|0;return x}function C(x){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(x)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(x)):V(new Uint8Array(x),x):V(new Array(x),x)}function A(){var x=C(f);x[6]=x[6]&79|64,x[8]=x[8]&191|128;for(var P="",N=0;N<f;++N){var Ve=x[N];(N===4||N===6||N===8)&&(P+="-"),Ve<16&&(P+="0"),P+=Ve.toString(16).toLowerCase()}return P}}function Wr(f){return f.__=void 0,delete f.__,f}})})(zo||(zo={}));var Uf={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},Xb=Object.keys(Uf),Qb=Symbol("ILogger");var xa=K(Wt()),Zn=K(T("os"));var Cm={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},Am={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null},Zw=new Set(Object.keys(Am)),eS=new Set(Object.keys(Cm));var Si=Symbol("unset");function Ti(t){let e=Si,n=(...r)=>(e===Si&&(n.value=e=t(...r)),e);return n.forget=()=>{e=Si,n.value=void 0},n.value=void 0,n}function wa(t){let e=new Map,n=r=>{if(e.has(r))return e.get(r);let i=t(r);return e.set(r,i),i};return n.clear=()=>e.clear(),n}var nS=2**31-1;var cS=Symbol("AnyLaunchConfiguration"),Sa={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:Ea("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},Kt={...Sa,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},Im={...Kt,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},lS={...Kt,type:"node-terminal",request:"attach",name:Im.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},fS={...Kt,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},dS={...Kt,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},Ta={...Sa,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:Ea("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},pS={...Ta,type:"pwa-msedge",useWebView:!1},Om={...Ta,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},hS={...Om,type:"pwa-msedge",useWebView:!1},gS={...Kt,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function Ea(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var Xn="js-debug",Ei="1.85.0",Pm="ms-vscode",mS=Xn.includes("nightly"),yS=`${Pm}.${Xn}`;var Qn=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var xi=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},fe=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new xi}static async test(){let e=new fe;return e.setup({sinks:[new Qn],showWelcome:!1}),e}info(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:1})}verbose(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:0})}warn(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:2})}error(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:3})}fatal(e,n,r){this.log({tag:e,timestamp:Date.now(),message:n,metadata:r,level:4})}assert(e,n){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",n,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(n);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let n of this.logTarget.sinks)n.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(r=>r.setup())),e.showWelcome!==!1){let r=Rm();for(let i of e.sinks)i.write(r)}let n=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in n?n.sinks.forEach(r=>r.dispose()):n.queue.forEach(r=>this.log(r))}};fe.null=(()=>{let e=new fe;return e.setup({sinks:[]}),e})(),fe=vn([(0,xa.injectable)()],fe);var Rm=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${Xn} v${Ei} started`,metadata:{os:`${Zn.platform()} ${Zn.arch()}`,nodeVersion:process.version,adapterVersion:Ei}});var te=class{constructor(){this._listeners=new Set;this.event=(e,n,r)=>{let i={listener:e,thisArg:n};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return r&&r.push(o),o}}get size(){return this._listeners.size}fire(e){let n=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let r of this._listeners)this._deliveryQueue.push({data:r,event:e});if(n){for(let r=0;r<this._deliveryQueue.length;r++){let{data:i,event:o}=this._deliveryQueue[r];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}};var Ca=K(Wt());var bt=class{constructor(){this.flushEmitter=new te;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};bt=vn([(0,Ca.injectable)()],bt);var er=K(T("path"));function Ia(t,e,n){let r=Aa(t,e,"uncaughtException",n),i=Aa(t,e,"unhandledRejection",n);return process.addListener("uncaughtException",r),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",r),process.removeListener("unhandledRejection",i)}}}var Aa=(t,e,n,r=!0)=>i=>{Lm(i)&&(e.report("error",{"!error":i,error:r?void 0:i,exceptionType:n}),t.error("runtime.exception","Unhandled error in debug adapter",i))},Dm=t=>typeof t=="object"&&!!t&&"stack"in t,Mm=er.dirname(er.dirname(er.dirname(__dirname)));function Lm(t){var e;return!km||Dm(t)&&!!((e=t.stack)!=null&&e.includes(Mm))}var km=!1;var vf=K(T("net"));var Da=K(Ra());var wt=class t{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new t().subtract(this)}subtract(e){let n=this.value[1]-e.value[1],r=this.value[0]-e.value[0];return n<0&&(n+=1e9,r--),new t([r,n])}};var nr=class{constructor(e,n,r){this.logger=e;this.pipeWrite=n;this.pipeRead=r;this.messageEmitter=new te;this.endEmitter=new te;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=Ti(()=>{var e;this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),(e=this.pipeRead)==null||e.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=r||n;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,Da.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new wt])).on("end",this.onceEnded),write:n.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){var n;(n=this.streams)==null||n.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var n_=K(Ba(),1),r_=K(Bi(),1),i_=K(Fi(),1),ku=K(Ki(),1),o_=K(Lu(),1);var Bu=ku.default;var rn=class extends Error{constructor(n){super("__errorMarker"in n?n.error.format:n.format);this._cause="__errorMarker"in n?n.error:n}get cause(){return this._cause}};var ju=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{});function Fu(){let t=null,e=null,n=!1,r,i=new Promise((o,s)=>{t=u=>{n=!0,r=u,o(u)},e=u=>{n=!0,s(u)}});return{resolve:t,reject:e,promise:i,get settledValue(){return r},hasSettled:()=>n}}var hr=class extends rn{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Uu(t,e,n){if(e.isCancellationRequested)return Promise.reject(new hr(n||"Task cancelled"));let r=Fu(),i=e.onCancellationRequested(r.resolve);return Promise.race([r.promise.then(()=>{throw new hr(n||"Task cancelled")}),t.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}var qu=Object.freeze(function(t,e){let n=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(n)}}}),s_=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),a_=Object.freeze({isCancellationRequested:!0,onCancellationRequested:qu}),At=class t{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,n){let r=new t(n),i=r._token=new Ct,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),r}get token(){return this._token||(this._token=new Ct),this._token}cancel(){this._token?this._token instanceof Ct&&this._token.cancel():this._token=a_}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof Ct&&this._token.dispose():this._token=s_}},Ct=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?qu:(this._emitter||(this._emitter=new te),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var hf=T("dns"),lt=K(T("path")),_n=T("url");var{stringify:u_}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var gr={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},at=17;function It(t,e){let{generator:n}=t;if(t.write("("),e!=null&&e.length>0){n[e[0].type](e[0],t);let{length:r}=e;for(let i=1;i<r;i++){let o=e[i];t.write(", "),n[o.type](o,t)}}t.write(")")}function zu(t,e,n,r){let i=t.expressionsPrecedence[e.type];if(i===at)return!0;let o=t.expressionsPrecedence[n.type];return i!==o?!r&&i===15&&o===14&&n.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&n.operator==="**"?!r:i===13&&o===13&&(e.operator==="??"||n.operator==="??")?!0:r?gr[e.operator]<=gr[n.operator]:gr[e.operator]<gr[n.operator]}function mr(t,e,n,r){let{generator:i}=t;zu(t,e,n,r)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function c_(t,e,n,r){let i=e.split(`
`),o=i.length-1;if(t.write(i[0].trim()),o>0){t.write(r);for(let s=1;s<o;s++)t.write(n+i[s].trim()+r);t.write(n+i[o].trim())}}function ne(t,e,n,r){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];t.write(n),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),c_(t,s.value,n,r),t.write("*/"+r))}}function l_(t){let e=t;for(;e!=null;){let{type:n}=e;if(n[0]==="C"&&n[1]==="a")return!0;if(n[0]==="M"&&n[1]==="e"&&n[2]==="m")e=e.object;else return!1}}function zi(t,e){let{generator:n}=t,{declarations:r}=e;t.write(e.kind+" ");let{length:i}=r;if(i>0){n.VariableDeclarator(r[0],t);for(let o=1;o<i;o++)t.write(", "),n.VariableDeclarator(r[o],t)}}var Gu,Wu,Vu,$u,Ku,Hu,TT={Program(t,e){let n=e.indent.repeat(e.indentLevel),{lineEnd:r,writeComments:i}=e;i&&t.comments!=null&&ne(e,t.comments,n,r);let o=t.body,{length:s}=o;for(let u=0;u<s;u++){let c=o[u];i&&c.comments!=null&&ne(e,c.comments,n,r),e.write(n),this[c.type](c,e),e.write(r)}i&&t.trailingComments!=null&&ne(e,t.trailingComments,n,r)},BlockStatement:Hu=function(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,o=n+e.indent;e.write("{");let s=t.body;if(s!=null&&s.length>0){e.write(r),i&&t.comments!=null&&ne(e,t.comments,o,r);let{length:u}=s;for(let c=0;c<u;c++){let a=s[c];i&&a.comments!=null&&ne(e,a.comments,o,r),e.write(o),this[a.type](a,e),e.write(r)}e.write(n)}else i&&t.comments!=null&&(e.write(r),ne(e,t.comments,o,r),e.write(n));i&&t.trailingComments!=null&&ne(e,t.trailingComments,o,r),e.write("}"),e.indentLevel--},ClassBody:Hu,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let n=e.expressionsPrecedence[t.expression.type];n===at||n===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e;e.indentLevel++;let o=n+e.indent,s=o+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+r);let{cases:u}=t,{length:c}=u;for(let a=0;a<c;a++){let l=u[a];i&&l.comments!=null&&ne(e,l.comments,o,r),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+r)):e.write(o+"default:"+r);let{consequent:d}=l,{length:m}=d;for(let y=0;y<m;y++){let w=d[y];i&&w.comments!=null&&ne(e,w.comments,s,r),e.write(s),this[w.type](w,e),e.write(r)}}e.indentLevel-=2,e.write(n+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:n}=t;n.param==null?e.write(" catch "):(e.write(" catch ("),this[n.param.type](n.param,e),e.write(") ")),this[n.body.type](n.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:n}=t;n.type[0]==="V"?zi(e,n):this[n.type](n,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:Gu=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:n}=t;n.type[0]==="V"?zi(e,n):this[n.type](n,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:Gu,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:Wu=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),It(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:Wu,VariableDeclaration(t,e){zi(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:n}=t,{type:r}=n,i=e.expressionsPrecedence[r];(r[0]!=="C"||r[1]!=="l"||r[5]!=="E")&&(i===at||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:n}=t,{length:r}=n,i=0;if(r>0){for(;i<r;){i>0&&e.write(", ");let o=n[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<r){for(e.write("{");;){let o=n[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<r)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:n}=t,{length:r}=n;if(r>0)for(let i=0;;){let o=n[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<r)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let n=t.kind[0];(n==="g"||n==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),It(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:n}=t;n!=null&&(n.length===1&&n[0].type[0]==="I"?e.write(n[0].name,n[0]):It(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:Vu=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:Vu,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),mr(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:n,expressions:r}=t;e.write("`");let{length:i}=r;for(let s=0;s<i;s++){let u=r[s],c=n[s];e.write(c.value.raw,c),e.write("${"),this[u.type](u,e),e.write("}")}let o=n[n.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){mr(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:Ku=function(t,e){if(e.write("["),t.elements.length>0){let{elements:n}=t,{length:r}=n;for(let i=0;;){let o=n[i];if(o!=null&&this[o.type](o,e),++i<r)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:Ku,ObjectExpression(t,e){let n=e.indent.repeat(e.indentLevel++),{lineEnd:r,writeComments:i}=e,o=n+e.indent;if(e.write("{"),t.properties.length>0){e.write(r),i&&t.comments!=null&&ne(e,t.comments,o,r);let s=","+r,{properties:u}=t,{length:c}=u;for(let a=0;;){let l=u[a];if(i&&l.comments!=null&&ne(e,l.comments,o,r),e.write(o),this[l.type](l,e),++a<c)e.write(s);else break}e.write(r),i&&t.trailingComments!=null&&ne(e,t.trailingComments,o,r),e.write(n+"}")}else i?t.comments!=null?(e.write(r),ne(e,t.comments,o,r),t.trailingComments!=null&&ne(e,t.trailingComments,o,r),e.write(n+"}")):t.trailingComments!=null?(e.write(r),ne(e,t.trailingComments,o,r),e.write(n+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:n}=t,{length:r}=n;for(let i=0;this[n[i].type](n[i],e),++i<r;)e.write(", ")}e.write("}")},SequenceExpression(t,e){It(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:n,argument:r,argument:{type:i}}=t;e.write(n);let o=zu(e,r,t);!o&&(n.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&r.prefix&&r.operator[0]===n&&(n==="+"||n==="-"))&&e.write(" "),o?(e.write(n.length>1?" (":"("),this[i](r,e),e.write(")")):this[i](r,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:$u=function(t,e){let n=t.operator==="in";n&&e.write("("),mr(e,t.left,t,!1),e.write(" "+t.operator+" "),mr(e,t.right,t,!0),n&&e.write(")")},LogicalExpression:$u,ConditionalExpression(t,e){let{test:n}=t,r=e.expressionsPrecedence[n.type];r===at||r<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[n.type](n,e),e.write(")")):this[n.type](n,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let n=e.expressionsPrecedence[t.callee.type];n===at||n<e.expressionsPrecedence.CallExpression||l_(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),It(e,t.arguments)},CallExpression(t,e){let n=e.expressionsPrecedence[t.callee.type];n===at||n<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),It(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let n=e.expressionsPrecedence[t.object.type];n===at||n<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(u_(t.value),t)},RegExpLiteral(t,e){let{regex:n}=t;e.write(`/${n.pattern}/${n.flags}`,t)}};var ff=K(_c());var fo={ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],AwaitExpression:["argument"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXClosingFragment:[],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXFragment:["openingFragment","children","closingFragment"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXOpeningFragment:[],JSXSpreadAttribute:["argument"],JSXSpreadChild:["expression"],JSXText:[],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},q_=Object.keys(fo);for(let t of q_)Object.freeze(fo[t]);Object.freeze(fo);var qb=K(nf()),of=T("os");var ct=K(T("fs")),rf=K(T("util"));var EE=rf.promisify(ct.writeFile);var xE=Symbol("FsUtils");var NE=process.platform==="win32"?"\\\\.\\pipe\\":(0,of.tmpdir)();var yn="file:///",sf=t=>t.startsWith(yn)&&t[yn.length+1]===":";function Gb(t,e=!1){if(!t)return t;if(sf(t)){let n=yn.length;t=yn+t[n].toLowerCase()+t.substr(n+1)}else uf(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function Do(t,e=!1){if(!t)return t;if(t=Gb(t,e),sf(t)){let n=yn.length;t=t.substr(0,n+1)+t.substr(n+1).replace(/\//g,"\\")}else uf(t)&&(t=t.replace(/\//g,"\\"));return t}var af=t=>t.startsWith("\\\\"),uf=t=>/^[A-Za-z]:/.test(t)||af(t);var Mr=class Mr{constructor(e,n,r,i,o){this.original=e;this.metadata=n;this.actualRoot=r;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=Mr.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++)this.sourceActualToOriginal.set(i[s],e.sources[s]),this.sourceOriginalToActual.set(e.sources[s],i[s])}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return Do(cf(lf(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){var r;let n=this.original.originalPositionFor(e);return n.source&&(n.source=(r=this.sourceOriginalToActual.get(n.source))!=null?r:n.source),n}generatedPositionFor(e){var n;return this.original.generatedPositionFor({...e,source:(n=this.sourceActualToOriginal.get(e.source))!=null?n:e.source})}allGeneratedPositionsFor(e){var n;return this.original.allGeneratedPositionsFor({...e,source:(n=this.sourceActualToOriginal.get(e.source))!=null?n:e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,n){var r;return this.original.sourceContentFor((r=this.sourceActualToOriginal.get(e))!=null?r:e,n)}eachMapping(e,n,r){return this.original.eachMapping(e,n,r)}destroy(){this.original.destroy()}};Mr.idCounter=0;var Mo=Mr;var Lr=class{constructor(e,n){this.key=e;this.value=n}toString(){return`${this.key}: ${this.value}`}},Lo=class{constructor(e,n){this.projection=e;this.initialContents=n;let r=Array.from(n||[]).map(i=>[this.projection(i[0]),new Lr(i[0],i[1])]);this.projectionToKeyAndValue=new Map(r)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let n=this.projection(e);return this.projectionToKeyAndValue.delete(n)}forEach(e,n){this.projectionToKeyAndValue.forEach(r=>{e.call(n,r.value,r.key,this)},n)}get(e){let n=this.projection(e),r=this.projectionToKeyAndValue.get(n);return r?r.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,n){return this.projectionToKeyAndValue.set(this.projection(e),new Lr(e,n)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var vx=process.platform!=="win32";var pf,bx=process.platform==="win32"?(pf=process.env.PATHEXT)==null?void 0:pf.toLowerCase().split(";"):void 0;var Vb=new Set(["localhost","127.0.0.1","::1"]);var df=t=>Vb.has(t.toLowerCase()),$b=t=>{try{return new _n.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var gf=wa(async t=>{let e=$b(t);if(df(e))return!0;try{let n=await hf.promises.lookup(e);return df(n.address)}catch{return!1}});function cf(t,e){try{return new _n.URL(e),e}catch{}let n;try{n=new _n.URL(t||"")}catch{return e}let r=n.protocol+"//";return n.username&&(r+=n.username+":"+n.password+"@"),r+=n.host,r+=lt.dirname(n.pathname),r[r.length-1]!=="/"&&(r+="/"),r+=e,r}function lf(t){return!!t&&t.startsWith("data:")}var wx=process.platform;var Kb=50,kr=class t{constructor(e){this.messageEmitter=new te;this.endEmitter=new te;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",n=>{this.messageEmitter.fire([n.data.toString("utf-8"),new wt])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,n,r){let i=!e.startsWith("ws://"),o=await gf(e);for(;;){let s=Date.now()+Kb;try{let u={headers:{host:r!=null?r:"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},c=new Bu(e,[],u);return await Uu(new Promise((a,l)=>{c.addEventListener("open",()=>a(new t(c))),c.addEventListener("error",d=>{let m=e===c.url?e:c.url.replace(/^http(s?):/,"ws$1:");if(m===e){l(d.error);return}this.create(m,n,r).then(a,l)})}),At.withTimeout(2e3,n).token,`Could not open ${e}`).catch(a=>{throw c.close(),a})}catch(u){if(n.isCancellationRequested)throw u;let c=s-Date.now();c>0&&await ju(c)}}}send(e){var n;(n=this._ws)==null||n.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var mf=T("crypto"),yf=()=>(0,mf.randomBytes)(12).toString("hex");var _f,Br=class t{constructor(e,n){this.info=e;this.server=n;this.onEndEmitter=new te;this.cts=new At;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:(_f=this.info.ownId)!=null?_f:yf(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let n=await new Promise((i,o)=>{let s=vf.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),r=new nr(fe.null,n);return new t(e,r)}listenToServer(){let{server:e,targetInfo:n}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:n}})),e.onMessage(async([r])=>{if(this.target&&!r.includes("Target.attachToTarget")&&!r.includes("Target.detachFromTarget")){this.target.send(r);return}let i=await this.execute(r);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){var r;let n=JSON.parse(e);switch(n.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:n.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:n.id,result:{}};default:(r=this.target)==null||r.send(n);return}}async createTarget(){this.gracefulExit=!1;let e=await kr.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([n])=>this.server.send(n)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var jr=JSON.parse(process.env.NODE_INSPECTOR_INFO),Fr=new fe;Fr.setup({sinks:[]});Ia(Fr,new bt);(async()=>{process.on("exit",()=>{Fr.info("runtime","Process exiting"),Fr.dispose(),jr.pid&&!jr.dynamicAttach&&(!t||t.isTargetAlive)&&process.kill(Number(jr.pid))});let t=await Br.attach(jr);t.onEnd(()=>process.exit())})();})();
/*! Bundled license information:

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=watchdog.js.map
