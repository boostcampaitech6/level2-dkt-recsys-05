"use strict";var zX=Object.create;var jf=Object.defineProperty;var l$=Object.getOwnPropertyDescriptor;var KX=Object.getOwnPropertyNames;var XX=Object.getPrototypeOf,JX=Object.prototype.hasOwnProperty;var YX=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),QX=(t,e)=>{for(var r in e)jf(t,r,{get:e[r],enumerable:!0})},p$=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of KX(e))!JX.call(t,i)&&i!==r&&jf(t,i,{get:()=>e[i],enumerable:!(n=l$(e,i))||n.enumerable});return t};var A=(t,e,r)=>(r=t!=null?zX(XX(t)):{},p$(e||!t||!t.__esModule?jf(r,"default",{value:t,enumerable:!0}):r,t)),ZX=t=>p$(jf({},"__esModule",{value:!0}),t),E=(t,e,r,n)=>{for(var i=n>1?void 0:n?l$(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&jf(e,r,i),i},b=(t,e)=>(r,n)=>e(r,n,t);var xe=y((tAe,y$)=>{"use strict";var e7=Object.create,rH=Object.defineProperty,t7=Object.getOwnPropertyDescriptor,h$=Object.getOwnPropertyNames,r7=Object.getPrototypeOf,n7=Object.prototype.hasOwnProperty,i7=(t,e)=>function(){return e||(0,t[h$(t)[0]])((e={exports:{}}).exports,e),e.exports},o7=(t,e)=>{for(var r in e)rH(t,r,{get:e[r],enumerable:!0})},m$=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of h$(e))!n7.call(t,i)&&i!==r&&rH(t,i,{get:()=>e[i],enumerable:!(n=t7(e,i))||n.enumerable});return t},s7=(t,e,r)=>(r=t!=null?e7(r7(t)):{},m$(e||!t||!t.__esModule?rH(r,"default",{value:t,enumerable:!0}):r,t)),a7=t=>m$(rH({},"__esModule",{value:!0}),t),c7=i7({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c,u,{signal:l}={}){return new Promise((p,d)=>{function m(){l?.removeEventListener("abort",m),c.removeListener(u,f),c.removeListener("error",g)}function f(...v){m(),p(v)}function g(v){m(),d(v)}l?.addEventListener("abort",m),c.on(u,f),c.on("error",g)})}},54:function(s,a,c){"use strict";var u=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};let l=c(361),p=u(c(374)),d=u(c(304)),m=p.default("agent-base");function f(){let{stack:v}=new Error;return typeof v=="string"&&v.split(`
`).some(x=>x.indexOf("(https.js:")!==-1||x.indexOf("node:https:")!==-1)}function g(v,x){return new g.Agent(v,x)}(function(v){class x extends l.EventEmitter{constructor($,T){super();let R=T;typeof $=="function"?this.callback=$:$&&(R=$),this.timeout=null,R&&typeof R.timeout=="number"&&(this.timeout=R.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:f()?443:80}set defaultPort($){this.explicitDefaultPort=$}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:f()?"https:":"http:"}set protocol($){this.explicitProtocol=$}callback($,T,R){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest($,T){let R=Object.assign({},T);typeof R.secureEndpoint!="boolean"&&(R.secureEndpoint=f()),R.host==null&&(R.host="localhost"),R.port==null&&(R.port=R.secureEndpoint?443:80),R.protocol==null&&(R.protocol=R.secureEndpoint?"https:":"http:"),R.host&&R.path&&delete R.path,delete R.agent,delete R.hostname,delete R._defaultAgent,delete R.defaultPort,delete R.createConnection,$._last=!0,$.shouldKeepAlive=!1;let J=!1,X=null,F=R.timeout||this.timeout,M=B=>{$._hadError||($.emit("error",B),$._hadError=!0)},O=()=>{X=null,J=!0;let B=new Error(`A "socket" was not created for HTTP request before ${F}ms`);B.code="ETIMEOUT",M(B)},D=B=>{J||(X!==null&&(clearTimeout(X),X=null),M(B))},W=B=>{if(J)return;if(X!=null&&(clearTimeout(X),X=null),G=B,!!G&&typeof G.addRequest=="function")return m("Callback returned another Agent instance %o",B.constructor.name),void B.addRequest($,R);var G;if(B)return B.once("free",()=>{this.freeSocket(B,R)}),void $.onSocket(B);let S=new Error(`no Duplex stream was returned to agent-base for \`${$.method} ${$.path}\``);M(S)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(m("Converting legacy callback function to promise"),this.promisifiedCallback=d.default(this.callback)):this.promisifiedCallback=this.callback),typeof F=="number"&&F>0&&(X=setTimeout(O,F)),"port"in R&&typeof R.port!="number"&&(R.port=Number(R.port));try{m("Resolving socket for %o request: %o",R.protocol,`${$.method} ${$.path}`),Promise.resolve(this.promisifiedCallback($,R)).then(W,D)}catch(B){Promise.reject(B).catch(D)}}else M(new Error("`callback` is not defined"))}freeSocket($,T){m("Freeing socket %o %o",$.constructor.name,T),$.destroy()}destroy(){m("Destroying agent %o",this.constructor.name)}}v.Agent=x,v.prototype=v.Agent.prototype})(g||(g={})),s.exports=g},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return function(u,l){return new Promise((p,d)=>{c.call(this,u,l,(m,f)=>{m?d(m):p(f)})})}}},370:function(s,a,c){"use strict";var u=this&&this.__awaiter||function($,T,R,J){return new(R||(R=Promise))(function(X,F){function M(W){try{D(J.next(W))}catch(B){F(B)}}function O(W){try{D(J.throw(W))}catch(B){F(B)}}function D(W){var B;W.done?X(W.value):(B=W.value,B instanceof R?B:new R(function(G){G(B)})).then(M,O)}D((J=J.apply($,T||[])).next())})},l=this&&this.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(c(808)),d=l(c(404)),m=l(c(310)),f=l(c(374)),g=l(c(46)),v=c(54),x=(0,f.default)("http-proxy-agent");class C extends v.Agent{constructor(T){let R;if(R=typeof T=="string"?m.default.parse(T):T,!R)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");x("Creating new HttpProxyAgent instance: %o",R),super(R);let J=Object.assign({},R);var X;this.secureProxy=R.secureProxy||typeof(X=J.protocol)=="string"&&/^https:?$/i.test(X),J.host=J.hostname||J.host,typeof J.port=="string"&&(J.port=parseInt(J.port,10)),!J.port&&J.host&&(J.port=this.secureProxy?443:80),J.host&&J.path&&(delete J.path,delete J.pathname),this.proxy=J}callback(T,R){return u(this,void 0,void 0,function*(){let{proxy:J,secureProxy:X}=this,F=m.default.parse(T.path),M;if(F.protocol||(F.protocol="http:"),F.hostname||(F.hostname=R.hostname||R.host||null),F.port==null&&(R.port,1)&&(F.port=String(R.port)),F.port==="80"&&(F.port=""),T.path=m.default.format(F),J.auth&&T.setHeader("Proxy-Authorization",`Basic ${Buffer.from(J.auth).toString("base64")}`),X?(x("Creating `tls.Socket`: %o",J),M=d.default.connect(J)):(x("Creating `net.Socket`: %o",J),M=p.default.connect(J)),T._header){let O,D;x("Regenerating stored HTTP header string for request"),T._header=null,T._implicitHeader(),T.output&&T.output.length>0?(x("Patching connection write() output buffer with updated header"),O=T.output[0],D=O.indexOf(`\r
\r
`)+4,T.output[0]=T._header+O.substring(D),x("Output buffer: %o",T.output)):T.outputData&&T.outputData.length>0&&(x("Patching connection write() output buffer with updated header"),O=T.outputData[0].data,D=O.indexOf(`\r
\r
`)+4,T.outputData[0].data=T._header+O.substring(D),x("Output buffer: %o",T.outputData[0].data))}return yield(0,g.default)(M,"connect"),M})}}a.default=C},201:function(s,a,c){"use strict";let u=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(c(370));function l(p){return new u.default(p)}(function(p){p.HttpProxyAgent=u.default,p.prototype=u.default.prototype})(l||(l={})),s.exports=l},146:function(s,a,c){"use strict";var u=this&&this.__awaiter||function(R,J,X,F){return new(X||(X=Promise))(function(M,O){function D(G){try{B(F.next(G))}catch(S){O(S)}}function W(G){try{B(F.throw(G))}catch(S){O(S)}}function B(G){var S;G.done?M(G.value):(S=G.value,S instanceof X?S:new X(function(L){L(S)})).then(D,W)}B((F=F.apply(R,J||[])).next())})},l=this&&this.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(c(808)),d=l(c(404)),m=l(c(310)),f=l(c(491)),g=l(c(374)),v=c(54),x=l(c(829)),C=g.default("https-proxy-agent:agent");class $ extends v.Agent{constructor(J){let X;if(X=typeof J=="string"?m.default.parse(J):J,!X)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");C("creating new HttpsProxyAgent instance: %o",X),super(X);let F=Object.assign({},X);var M;this.secureProxy=X.secureProxy||typeof(M=F.protocol)=="string"&&/^https:?$/i.test(M),F.host=F.hostname||F.host,typeof F.port=="string"&&(F.port=parseInt(F.port,10)),!F.port&&F.host&&(F.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in F)&&(F.ALPNProtocols=["http 1.1"]),F.host&&F.path&&(delete F.path,delete F.pathname),this.proxy=F}callback(J,X){return u(this,void 0,void 0,function*(){let{proxy:F,secureProxy:M}=this,O;M?(C("Creating `tls.Socket`: %o",F),O=d.default.connect(F)):(C("Creating `net.Socket`: %o",F),O=p.default.connect(F));let D=Object.assign({},F.headers),W=`CONNECT ${X.host}:${X.port} HTTP/1.1\r
`;F.auth&&(D["Proxy-Authorization"]=`Basic ${Buffer.from(F.auth).toString("base64")}`);let{host:B,port:G,secureEndpoint:S}=X;(function(ne,Q){return!!(!Q&&ne===80||Q&&ne===443)})(G,S)||(B+=`:${G}`),D.Host=B,D.Connection="close";for(let ne of Object.keys(D))W+=`${ne}: ${D[ne]}\r
`;let L=x.default(O);O.write(`${W}\r
`);let{statusCode:K,buffered:z}=yield L;if(K===200){if(J.once("socket",T),X.secureEndpoint){C("Upgrading socket connection to TLS");let ne=X.servername||X.host;return d.default.connect(Object.assign(Object.assign({},function(Q,...pe){let Ae={},me;for(me in Q)pe.includes(me)||(Ae[me]=Q[me]);return Ae}(X,"host","hostname","path","port")),{socket:O,servername:ne}))}return O}O.destroy();let ee=new p.default.Socket({writable:!1});return ee.readable=!0,J.once("socket",ne=>{C("replaying proxy buffer for failed request"),f.default(ne.listenerCount("data")>0),ne.push(z),ne.push(null)}),ee})}}function T(R){R.resume()}a.default=$},18:function(s,a,c){"use strict";let u=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(c(146));function l(p){return new u.default(p)}(function(p){p.HttpsProxyAgent=u.default,p.prototype=u.default.prototype})(l||(l={})),s.exports=l},829:function(s,a,c){"use strict";var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=u(c(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((d,m)=>{let f=0,g=[];function v(){let $=p.read();$?function(T){g.push(T),f+=T.length;let R=Buffer.concat(g,f);if(R.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void v();let J=R.toString("ascii",0,R.indexOf(`\r
`)),X=+J.split(" ")[1];l("got proxy server response: %o",J),d({statusCode:X,buffered:R})}($):p.once("readable",v)}function x($){l("onclose had error %o",$)}function C(){l("onend")}p.on("error",function $(T){p.removeListener("end",C),p.removeListener("error",$),p.removeListener("close",x),p.removeListener("readable",v),l("onerror %o",T),m(T)}),p.on("close",x),p.on("end",C),v()})}},539:function(s,a,c){"use strict";var u,l=this&&this.__extends||(u=function(M,O){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,W){D.__proto__=W}||function(D,W){for(var B in W)Object.prototype.hasOwnProperty.call(W,B)&&(D[B]=W[B])},u(M,O)},function(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function D(){this.constructor=M}u(M,O),M.prototype=O===null?Object.create(O):(D.prototype=O.prototype,new D)}),p=this&&this.__assign||function(){return p=Object.assign||function(M){for(var O,D=1,W=arguments.length;D<W;D++)for(var B in O=arguments[D])Object.prototype.hasOwnProperty.call(O,B)&&(M[B]=O[B]);return M},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var d=c(685),m=c(687),f=c(310),g=c(472),v=c(796),x=c(201),C=c(18);if(process.env.VSCODE_NLS_CONFIG){var $=process.env.VSCODE_NLS_CONFIG;g.config(JSON.parse($))}var T=g.loadMessageBundle(),R=void 0,J=!0;function X(M){var O;return new Promise(function(D,W){var B=(0,f.parse)(M.url),G={hostname:B.hostname,agent:!!M.agent&&M.agent,port:B.port?parseInt(B.port):B.protocol==="https:"?443:80,path:B.path,method:M.type||"GET",headers:M.headers,rejectUnauthorized:typeof M.strictSSL!="boolean"||M.strictSSL};M.user&&M.password&&(G.auth=M.user+":"+M.password);var S=function(L){if(L.statusCode>=300&&L.statusCode<400&&M.followRedirects&&M.followRedirects>0&&L.headers.location){var K=L.headers.location;K.startsWith("/")&&(K=(0,f.format)({protocol:B.protocol,hostname:B.hostname,port:B.port,pathname:K})),D(X(function(z){for(var ee=[],ne=1;ne<arguments.length;ne++)ee[ne-1]=arguments[ne];return ee.forEach(function(Q){return Object.keys(Q).forEach(function(pe){return z[pe]=Q[pe]})}),z}({},M,{url:K,followRedirects:M.followRedirects-1})))}else D({req:O,res:L})};(O=B.protocol==="https:"?m.request(G,S):d.request(G,S)).on("error",W),M.timeout&&O.setTimeout(M.timeout),M.data&&O.write(M.data),O.end(),M.token&&(M.token.isCancellationRequested&&O.destroy(new F),M.token.onCancellationRequested(function(){O.destroy(new F)}))})}a.configure=function(M,O){R=M,J=O},a.xhr=function(M){return typeof(M=p({},M)).strictSSL!="boolean"&&(M.strictSSL=J),M.agent||(M.agent=function(O,D){D===void 0&&(D={});var W=(0,f.parse)(O),B=D.proxyUrl||function(L){return L.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:L.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(W);if(!B)return null;var G=(0,f.parse)(B);if(!/^https?:$/.test(G.protocol))return null;var S={host:G.hostname,port:Number(G.port),auth:G.auth,rejectUnauthorized:typeof D.strictSSL!="boolean"||D.strictSSL,protocol:G.protocol};return W.protocol==="http:"?x(S):C(S)}(M.url,{proxyUrl:R,strictSSL:J})),typeof M.followRedirects!="number"&&(M.followRedirects=5),X(M).then(function(O){return new Promise(function(D,W){var B,G,S=O.res,L=S,K=!1,z=S.headers&&S.headers["content-encoding"];if(z&&(B=M.type,G=O.res.statusCode,!(B==="HEAD"||G>=100&&G<200||G===204||G===304))){var ee={flush:v.constants.Z_SYNC_FLUSH,finishFlush:v.constants.Z_SYNC_FLUSH};if(z==="gzip"){var ne=v.createGunzip(ee);S.pipe(ne),L=ne}else if(z==="deflate"){var Q=v.createInflate(ee);S.pipe(Q),L=Q}}var pe=[];L.on("data",function(Ae){return pe.push(Ae)}),L.on("end",function(){if(!K){if(K=!0,M.followRedirects>0&&(S.statusCode>=300&&S.statusCode<=303||S.statusCode===307)){var Ae=S.headers.location;if(Ae.startsWith("/")){var me=(0,f.parse)(M.url);Ae=(0,f.format)({protocol:me.protocol,hostname:me.hostname,port:me.port,pathname:Ae})}if(Ae){var Xe={type:M.type,url:Ae,user:M.user,password:M.password,headers:M.headers,timeout:M.timeout,followRedirects:M.followRedirects-1,data:M.data,token:M.token};return void(0,a.xhr)(Xe).then(D,W)}}var ge=Buffer.concat(pe),Jt={responseText:ge.toString(),body:ge,status:S.statusCode,headers:S.headers||{}};S.statusCode>=200&&S.statusCode<300||S.statusCode===1223?D(Jt):W(Jt)}}),L.on("error",function(Ae){var me;me=F.is(Ae)?Ae:{responseText:T("error","Unable to access {0}. Error: {1}",M.url,Ae.message),body:Buffer.concat(pe),status:500,headers:{}},K=!0,W(me)}),M.token&&(M.token.isCancellationRequested&&L.destroy(new F),M.token.onCancellationRequested(function(){L.destroy(new F)}))})},function(O){var D;return D=F.is(O)?O:{responseText:M.agent?T("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",M.url,O.message):T("error.cannot.connect","Unable to connect to {0}. Error: {1}",M.url,O.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(D)})},a.getErrorStatusDescription=function(M){if(!(M<400))switch(M){case 400:return T("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return T("status.401","Unauthorized. The server is refusing to respond.");case 403:return T("status.403","Forbidden. The server is refusing to respond.");case 404:return T("status.404","Not Found. The requested location could not be found.");case 405:return T("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return T("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return T("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return T("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return T("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return T("status.410","Gone. The requested page is no longer available.");case 411:return T("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return T("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return T("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return T("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return T("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return T("status.500","Internal Server Error.");case 501:return T("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return T("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return T("status.416","HTTP status code {0}",M)}};var F=function(M){function O(){var D=M.call(this,"The user aborted a request")||this;return D.name="AbortError",Object.setPrototypeOf(D,O.prototype),D}return l(O,M),O.is=function(D){return D instanceof O},O}(Error)},800:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var u,l,p,d=c(926);function m(g){return g!==void 0}function f(g,v){return a.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),v.length===0?g:g.replace(/\{(\d+)\}/g,function(x,C){var $=C[0],T=v[$],R=x;return typeof T=="string"?R=T:typeof T!="number"&&typeof T!="boolean"&&T!=null||(R=String(T)),R})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(g){g.is=function(v){var x=v;return x&&m(x.key)&&m(x.comment)}}(u||(u={})),a.isDefined=m,a.isPseudo=!1,a.setPseudo=function(g){a.isPseudo=g},a.format=f,a.localize=function(g,v){for(var x=[],C=2;C<arguments.length;C++)x[C-2]=arguments[C];return f(v,x)},a.loadMessageBundle=function(g){return(0,d.default)().loadMessageBundle(g)},a.config=function(g){return(0,d.default)().config(g)}},926:(s,a)=>{"use strict";var c;function u(){if(c===void 0)throw new Error("No runtime abstraction layer installed");return c}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");c=p}}(u||(u={})),a.default=u},472:(s,a,c)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var u=c(17),l=c(147),p=c(926),d=c(800),m=c(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return m.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return m.BundleFormat}});var f,g,v=Object.prototype.toString;function x(O){return v.call(O)==="[object Number]"}function C(O){return v.call(O)==="[object String]"}function $(O){return JSON.parse(l.readFileSync(O,"utf8"))}function T(O){return function(D,W){for(var B=[],G=2;G<arguments.length;G++)B[G-2]=arguments[G];return x(D)?D>=O.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,d.format)(O[D],B):C(W)?(console.warn("Message ".concat(W," didn't get externalized correctly.")),(0,d.format)(W,B)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function R(O,D){return f[O]=D,D}function J(O){try{return function(D){var W=$(u.join(D,"nls.metadata.json")),B=Object.create(null);for(var G in W){var S=W[G];B[G]=S.messages}return B}(O)}catch(D){return void console.log("Generating default bundle from meta data failed.",D)}}function X(O,D){var W;if(g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0)try{W=function(G,S){var L,K,z,ee=u.join(g.cacheRoot,"".concat(G.id,"-").concat(G.hash,".json")),ne=!1,Q=!1;try{return L=JSON.parse(l.readFileSync(ee,{encoding:"utf8",flag:"r"})),K=ee,z=new Date,l.utimes(K,z,z,function(){}),L}catch(pe){if(pe.code==="ENOENT")Q=!0;else{if(!(pe instanceof SyntaxError))throw pe;console.log("Syntax error parsing message bundle: ".concat(pe.message,".")),l.unlink(ee,function(Ae){Ae&&console.error("Deleting corrupted bundle ".concat(ee," failed."))}),ne=!0}}if(L=function(pe,Ae){var me=g.translationsConfig[pe.id];if(me){var Xe=$(me).contents,ge=$(u.join(Ae,"nls.metadata.json")),Jt=Object.create(null);for(var Je in ge){var ie=ge[Je],Te=Xe["".concat(pe.outDir,"/").concat(Je)];if(Te){for(var te=[],ve=0;ve<ie.keys.length;ve++){var qe=ie.keys[ve],yt=Te[C(qe)?qe:qe.key];yt===void 0&&(yt=ie.messages[ve]),te.push(yt)}Jt[Je]=te}else Jt[Je]=ie.messages}return Jt}}(G,S),!L||ne)return L;if(Q)try{l.writeFileSync(ee,JSON.stringify(L),{encoding:"utf8",flag:"wx"})}catch(pe){if(pe.code==="EEXIST")return L;throw pe}return L}(O,D)}catch(G){console.log("Load or create bundle failed ",G)}if(!W){if(g.languagePackSupport)return J(D);var B=function(G){for(var S=g.language;S;){var L=u.join(G,"nls.bundle.".concat(S,".json"));if(l.existsSync(L))return L;var K=S.lastIndexOf("-");S=K>0?S.substring(0,K):void 0}if(S===void 0&&(L=u.join(G,"nls.bundle.json"),l.existsSync(L)))return L}(D);if(B)try{return $(B)}catch(G){console.log("Loading in the box message bundle failed.",G)}W=J(D)}return W}function F(O){if(!O)return d.localize;var D=u.extname(O);if(D&&(O=O.substr(0,O.length-D.length)),g.messageFormat===d.MessageFormat.both||g.messageFormat===d.MessageFormat.bundle){var W=function(ne){for(var Q,pe=u.dirname(ne);Q=u.join(pe,"nls.metadata.header.json"),!l.existsSync(Q);){var Ae=u.dirname(pe);if(Ae===pe){Q=void 0;break}pe=Ae}return Q}(O);if(W){var B=u.dirname(W),G=f[B];if(G===void 0)try{var S=JSON.parse(l.readFileSync(W,"utf8"));try{var L=X(S,B);G=R(B,L?{header:S,nlsBundle:L}:null)}catch(ne){console.error("Failed to load nls bundle",ne),G=R(B,null)}}catch(ne){console.error("Failed to read header file",ne),G=R(B,null)}if(G){var K=O.substr(B.length+1).replace(/\\/g,"/"),z=G.nlsBundle[K];return z===void 0?(console.error("Messages for file ".concat(O," not found. See console for details.")),function(){return"Messages not found."}):T(z)}}}if(g.messageFormat===d.MessageFormat.both||g.messageFormat===d.MessageFormat.file)try{var ee=$(function(ne){var Q;if(!(g.cacheLanguageResolution&&Q)){if(d.isPseudo||!g.language)Q=".nls.json";else for(var pe=g.language;pe;){var Ae=".nls."+pe+".json";if(l.existsSync(ne+Ae)){Q=Ae;break}var me=pe.lastIndexOf("-");me>0?pe=pe.substring(0,me):(Q=".nls.json",pe=null)}g.cacheLanguageResolution}return ne+Q}(O));return Array.isArray(ee)?T(ee):(0,d.isDefined)(ee.messages)&&(0,d.isDefined)(ee.keys)?T(ee.messages):(console.error("String bundle '".concat(O,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(ne){ne.code!=="ENOENT"&&console.error("Failed to load single file bundle",ne)}return console.error("Failed to load message bundle for file ".concat(O)),function(){return"Failed to load message bundle. See console for details."}}function M(O){return O&&(C(O.locale)&&(g.locale=O.locale.toLowerCase(),g.language=g.locale,f=Object.create(null)),O.messageFormat!==void 0&&(g.messageFormat=O.messageFormat),O.bundleFormat===d.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,d.setPseudo)(g.locale==="pseudo"),F}(function(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:d.MessageFormat.bundle},C(process.env.VSCODE_NLS_CONFIG))try{var O=JSON.parse(process.env.VSCODE_NLS_CONFIG),D=void 0;if(O.availableLanguages){var W=O.availableLanguages["*"];C(W)&&(D=W)}if(C(O.locale)&&(g.locale=O.locale.toLowerCase()),D===void 0?g.language=g.locale:D!=="en"&&(g.language=D),function(G){return G===!0||G===!1}(O._languagePackSupport)&&(g.languagePackSupport=O._languagePackSupport),C(O._cacheRoot)&&(g.cacheRoot=O._cacheRoot),C(O._languagePackId)&&(g.languagePackId=O._languagePackId),C(O._translationsConfigFile)){g.translationsConfigFile=O._translationsConfigFile;try{g.translationsConfig=$(g.translationsConfigFile)}catch{if(O._corruptedFile){var B=u.dirname(O._corruptedFile);l.exists(B,function(S){S&&l.writeFile(O._corruptedFile,"corrupted","utf8",function(L){console.error(L)})})}}}}catch{}(0,d.setPseudo)(g.locale==="pseudo"),f=Object.create(null)})(),a.loadMessageBundle=F,a.config=M,p.default.install(Object.freeze({loadMessageBundle:F,config:M}))},374:(s,a)=>{function c(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return c}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},r={},n=function s(a){var c=r[a];if(c!==void 0)return c.exports;var u=r[a]={exports:{}};return e[a].call(u.exports,u,u.exports,s),u.exports}(539),i=t;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}}),g$={};o7(g$,{config:()=>f7,t:()=>H$});y$.exports=a7(g$);var u7=require("fs"),l7=require("fs/promises"),d$=s7(c7());async function p7(t){if(t.protocol==="file:")return await(0,l7.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,d$.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,d$.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function d7(t){return(0,u7.readFileSync)(t,"utf8")}var Uf;function f7(t){if("contents"in t){typeof t.contents=="string"?Uf=JSON.parse(t.contents):Uf=t.contents;return}if("fsPath"in t){let e=d7(t.fsPath),r=JSON.parse(e);Uf=f$(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,n)=>{let i=p7(e).then(o=>{try{let s=JSON.parse(o);Uf=f$(s)?s.contents.bundle:s}catch(s){n(s)}}).catch(o=>{n(o)});r(i)})}}function H$(...t){let e=t[0],r,n,i;if(typeof e=="string")r=e,n=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0];else if(e instanceof Array){let s=t.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return H$(a,...s)}else n=e.message,r=n,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=Uf?.[r];return o?typeof o=="string"?tH(o,i):o.comment?tH(o.message,i):tH(n,i):tH(n,i)}var h7=/{([^}]+)}/g;function tH(t,e){return t.replace(h7,(r,n)=>e[n]??r)}function f$(t){return typeof t?.contents?.bundle=="object"&&typeof t?.version=="string"}});var es=y($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.findWindowsCandidates=$r.sort=$r.preferredEdgePath=$r.preferredFirefoxPath=$r.preferredChromePath=$r.escapeRegexSpecialChars=$r.canAccess=void 0;var A7=require("path");async function zf({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}$r.canAccess=zf;var I7="/\\.?*()^${}|[]+";function S7(t,e){let r=I7.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}$r.escapeRegexSpecialChars=S7;async function E7(t,e){if(await zf(t,e.CHROME_PATH))return e.CHROME_PATH}$r.preferredChromePath=E7;async function D7(t,e){if(await zf(t,e.FIREFOX_PATH))return e.FIREFOX_PATH}$r.preferredFirefoxPath=D7;async function C7(t,e){if(await zf(t,e.EDGE_PATH))return e.EDGE_PATH}$r.preferredEdgePath=C7;function P7(t,e){return[...t].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}$r.sort=P7;async function L7(t,e,r){let n=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of r){let a=A7.win32.join(o,s.name);i.push(zf(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}$r.findWindowsCandidates=L7});var mH=y(hH=>{"use strict";Object.defineProperty(hH,"__esModule",{value:!0});hH.DarwinFinderBase=void 0;var T7=require("path"),$7=require("fs"),W0=es(),D$=/( \(0x[a-f0-9]+\))/,V0=class{constructor(e=process.env,r=$7.promises,n=n){this.env=e,this.fs=r,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,W0.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${D$.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...r,...i.split(`
`).map(c=>c.trim().replace(D$,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=T7.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,W0.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${r}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,W0.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};hH.DarwinFinderBase=V0});var C$=y(gH=>{"use strict";Object.defineProperty(gH,"__esModule",{value:!0});gH.DarwinChromeBrowserFinder=void 0;var k7=es(),R7=mH(),G0=class extends R7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,k7.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};gH.DarwinChromeBrowserFinder=G0});var P$=y(HH=>{"use strict";Object.defineProperty(HH,"__esModule",{value:!0});HH.DarwinEdgeBrowserFinder=void 0;var M7=es(),O7=mH(),z0=class extends O7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,M7.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};HH.DarwinEdgeBrowserFinder=z0});var L$=y(yH=>{"use strict";Object.defineProperty(yH,"__esModule",{value:!0});yH.DarwinFirefoxBrowserFinder=void 0;var F7=es(),B7=mH(),K0=class extends B7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],r=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",r,e);return(0,F7.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};yH.DarwinFirefoxBrowserFinder=K0});var bH=y(vH=>{"use strict";Object.defineProperty(vH,"__esModule",{value:!0});vH.LinuxChromeBrowserFinder=void 0;var N7=require("path"),al=es(),X0=require("child_process"),j7=require("os"),U7=require("fs"),T$=/\r?\n/,J0=class{constructor(e=process.env,r=U7.promises){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,al.canAccess)(this.fs,r)&&e.add(r),[N7.posix.join((0,j7.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,X0.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(T$)[0];await(0,al.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=r?[{regex:new RegExp((0,al.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,al.sort)(e,o)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,al.canAccess)(this.fs,e)){let o;try{o=(0,X0.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,X0.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(T$).map(a=>a.replace(r,"$1"));await Promise.all(s.map(async a=>{await(0,al.canAccess)(this.fs,a)&&i.push(a)}))}return i}};vH.LinuxChromeBrowserFinder=J0});var $$=y(wH=>{"use strict";Object.defineProperty(wH,"__esModule",{value:!0});wH.LinuxEdgeBrowserFinder=void 0;var q7=bH(),Y0=class extends q7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};wH.LinuxEdgeBrowserFinder=Y0});var k$=y(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.LinuxFirefoxBrowserFinder=void 0;var W7=bH(),Q0=class extends W7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};xH.LinuxFirefoxBrowserFinder=Q0});var M$=y(_H=>{"use strict";Object.defineProperty(_H,"__esModule",{value:!0});_H.WindowsChromeBrowserFinder=void 0;var V7=require("path"),R$=es(),G7=require("fs"),Z0=class{constructor(e=process.env,r=G7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=V7.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,R$.findWindowsCandidates)(this.env,this.fs,r),i=await(0,R$.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};_H.WindowsChromeBrowserFinder=Z0});var F$=y(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.WindowsEdgeBrowserFinder=void 0;var kr=require("path"),z7=require("fs"),O$=es(),eA=class{constructor(e=process.env,r=z7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${kr.sep}Microsoft${kr.sep}Edge SxS${kr.sep}Application${kr.sep}msedge.exe`,type:"canary"},{name:`${kr.sep}Microsoft${kr.sep}Edge Dev${kr.sep}Application${kr.sep}msedge.exe`,type:"dev"},{name:`${kr.sep}Microsoft${kr.sep}Edge Beta${kr.sep}Application${kr.sep}msedge.exe`,type:"beta"},{name:`${kr.sep}Microsoft${kr.sep}Edge${kr.sep}Application${kr.sep}msedge.exe`,type:"stable"}],r=await(0,O$.findWindowsCandidates)(this.env,this.fs,e),n=await(0,O$.preferredEdgePath)(this.fs,this.env);return n&&r.unshift({path:n,quality:"custom"}),r}};AH.WindowsEdgeBrowserFinder=eA});var N$=y(IH=>{"use strict";Object.defineProperty(IH,"__esModule",{value:!0});IH.WindowsFirefoxBrowserFinder=void 0;var K7=require("path"),B$=es(),X7=require("fs"),tA=class{constructor(e=process.env,r=X7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=K7.win32.sep,r=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,B$.findWindowsCandidates)(this.env,this.fs,r),i=await(0,B$.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};IH.WindowsFirefoxBrowserFinder=tA});var rA=y(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.FirefoxBrowserFinder=xn.EdgeBrowserFinder=xn.ChromeBrowserFinder=xn.isQuality=xn.allQualities=void 0;var J7=C$(),Y7=P$(),Q7=L$(),Z7=bH(),eJ=$$(),tJ=k$(),rJ=M$(),nJ=F$(),iJ=N$(),oJ={canary:null,stable:null,beta:null,dev:null,custom:null};xn.allQualities=new Set(Object.keys(oJ));var sJ=t=>xn.allQualities.has(t);xn.isQuality=sJ;xn.ChromeBrowserFinder=process.platform==="win32"?rJ.WindowsChromeBrowserFinder:process.platform==="darwin"?J7.DarwinChromeBrowserFinder:Z7.LinuxChromeBrowserFinder;xn.EdgeBrowserFinder=process.platform==="win32"?nJ.WindowsEdgeBrowserFinder:process.platform==="darwin"?Y7.DarwinEdgeBrowserFinder:eJ.LinuxEdgeBrowserFinder;xn.FirefoxBrowserFinder=process.platform==="win32"?iJ.WindowsFirefoxBrowserFinder:process.platform==="darwin"?Q7.DarwinFirefoxBrowserFinder:tJ.LinuxFirefoxBrowserFinder});var V$=y((bAe,W$)=>{W$.exports=q$;q$.sync=cJ;var j$=require("fs");function aJ(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function U$(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:aJ(e,r)}function q$(t,e,r){j$.stat(t,function(n,i){r(n,n?!1:U$(i,t,e))})}function cJ(t,e){return U$(j$.statSync(t),t,e)}});var J$=y((wAe,X$)=>{X$.exports=z$;z$.sync=uJ;var G$=require("fs");function z$(t,e,r){G$.stat(t,function(n,i){r(n,n?!1:K$(i,e))})}function uJ(t,e){return K$(G$.statSync(t),e)}function K$(t,e){return t.isFile()&&lJ(t,e)}function lJ(t,e){var r=t.mode,n=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,p=r&u||r&c&&i===s||r&a&&n===o||r&l&&o===0;return p}});var iA=y((_Ae,Y$)=>{var xAe=require("fs"),SH;process.platform==="win32"||global.TESTING_WINDOWS?SH=V$():SH=J$();Y$.exports=nA;nA.sync=pJ;function nA(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){nA(t,e||{},function(o,s){o?i(o):n(s)})})}SH(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function pJ(t,e){try{return SH.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var ik=y((AAe,nk)=>{var cl=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Q$=require("path"),dJ=cl?";":":",Z$=iA(),ek=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),tk=(t,e)=>{let r=e.colon||dJ,n=t.match(/\//)||cl&&t.match(/\\/)?[""]:[...cl?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=cl?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=cl?i.split(r):[""];return cl&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},rk=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=tk(t,e),s=[],a=u=>new Promise((l,p)=>{if(u===n.length)return e.all&&s.length?l(s):p(ek(t));let d=n[u],m=/^".*"$/.test(d)?d.slice(1,-1):d,f=Q$.join(m,t),g=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+f:f;l(c(g,u,0))}),c=(u,l,p)=>new Promise((d,m)=>{if(p===i.length)return d(a(l+1));let f=i[p];Z$(u+f,{pathExt:o},(g,v)=>{if(!g&&v)if(e.all)s.push(u+f);else return d(u+f);return d(c(u,l,p+1))})});return r?a(0).then(u=>r(null,u),r):a(0)},fJ=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=tk(t,e),o=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=Q$.join(c,t),l=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+u:u;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(Z$.sync(d,{pathExt:i}))if(e.all)o.push(d);else return d}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw ek(t)};nk.exports=rk;rk.sync=fJ});var sk=y((IAe,oA)=>{"use strict";var ok=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};oA.exports=ok;oA.exports.default=ok});var lk=y((SAe,uk)=>{"use strict";var ak=require("path"),hJ=ik(),mJ=sk();function ck(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=hJ.sync(t.command,{path:r[mJ({env:r})],pathExt:e?ak.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=ak.resolve(i?t.options.cwd:"",s)),s}function gJ(t){return ck(t)||ck(t,!0)}uk.exports=gJ});var pk=y((EAe,aA)=>{"use strict";var sA=/([()\][%!^"`<>&|;, *?])/g;function HJ(t){return t=t.replace(sA,"^$1"),t}function yJ(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(sA,"^$1"),e&&(t=t.replace(sA,"^$1")),t}aA.exports.command=HJ;aA.exports.argument=yJ});var fk=y((DAe,dk)=>{"use strict";dk.exports=/^#!(.*)/});var mk=y((CAe,hk)=>{"use strict";var vJ=fk();hk.exports=(t="")=>{let e=t.match(vJ);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Hk=y((PAe,gk)=>{"use strict";var cA=require("fs"),bJ=mk();function wJ(t){let r=Buffer.alloc(150),n;try{n=cA.openSync(t,"r"),cA.readSync(n,r,0,150,0),cA.closeSync(n)}catch{}return bJ(r.toString())}gk.exports=wJ});var wk=y((LAe,bk)=>{"use strict";var xJ=require("path"),yk=lk(),vk=pk(),_J=Hk(),AJ=process.platform==="win32",IJ=/\.(?:com|exe)$/i,SJ=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function EJ(t){t.file=yk(t);let e=t.file&&_J(t.file);return e?(t.args.unshift(t.file),t.command=e,yk(t)):t.file}function DJ(t){if(!AJ)return t;let e=EJ(t),r=!IJ.test(e);if(t.options.forceShell||r){let n=SJ.test(e);t.command=xJ.normalize(t.command),t.command=vk.command(t.command),t.args=t.args.map(o=>vk.argument(o,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function CJ(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:DJ(n)}bk.exports=CJ});var Ak=y((TAe,_k)=>{"use strict";var uA=process.platform==="win32";function lA(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function PJ(t,e){if(!uA)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let o=xk(i,e,"spawn");if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function xk(t,e){return uA&&t===1&&!e.file?lA(e.original,"spawn"):null}function LJ(t,e){return uA&&t===1&&!e.file?lA(e.original,"spawnSync"):null}_k.exports={hookChildProcess:PJ,verifyENOENT:xk,verifyENOENTSync:LJ,notFoundError:lA}});var Ek=y(($Ae,ul)=>{"use strict";var Ik=require("child_process"),pA=wk(),dA=Ak();function Sk(t,e,r){let n=pA(t,e,r),i=Ik.spawn(n.command,n.args,n.options);return dA.hookChildProcess(i,n),i}function TJ(t,e,r){let n=pA(t,e,r),i=Ik.spawnSync(n.command,n.args,n.options);return i.error=i.error||dA.verifyENOENTSync(i.status,n),i}ul.exports=Sk;ul.exports.spawn=Sk;ul.exports.sync=TJ;ul.exports._parse=pA;ul.exports._enoent=dA});var Ck=y((kAe,Dk)=>{"use strict";Dk.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var Lk=y((RAe,fA)=>{"use strict";var Pk=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};fA.exports=Pk;fA.exports.default=Pk});var kk=y((MAe,Xf)=>{"use strict";var Kf=require("path"),Tk=Lk(),$k=t=>{t={cwd:process.cwd(),path:process.env[Tk()],execPath:process.execPath,...t};let e,r=Kf.resolve(t.cwd),n=[];for(;e!==r;)n.push(Kf.join(r,"node_modules/.bin")),e=r,r=Kf.resolve(r,"..");let i=Kf.resolve(t.cwd,t.execPath,"..");return n.push(i),n.concat(t.path).join(Kf.delimiter)};Xf.exports=$k;Xf.exports.default=$k;Xf.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=Tk({env:e});return t.path=e[r],e[r]=Xf.exports(t),e}});var Mk=y((OAe,hA)=>{"use strict";var Rk=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};hA.exports=Rk;hA.exports.default=Rk});var Fk=y((FAe,DH)=>{"use strict";var $J=Mk(),EH=new WeakMap,Ok=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(EH.set(o,++n),n===1)r=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return $J(o,t),EH.set(o,n),o};DH.exports=Ok;DH.exports.default=Ok;DH.exports.callCount=t=>{if(!EH.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return EH.get(t)}});var Bk=y(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0});CH.SIGNALS=void 0;var kJ=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];CH.SIGNALS=kJ});var mA=y(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.SIGRTMAX=ll.getRealtimeSignals=void 0;var RJ=function(){let t=jk-Nk+1;return Array.from({length:t},MJ)};ll.getRealtimeSignals=RJ;var MJ=function(t,e){return{name:`SIGRT${e+1}`,number:Nk+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},Nk=34,jk=64;ll.SIGRTMAX=jk});var Uk=y(PH=>{"use strict";Object.defineProperty(PH,"__esModule",{value:!0});PH.getSignals=void 0;var OJ=require("os"),FJ=Bk(),BJ=mA(),NJ=function(){let t=(0,BJ.getRealtimeSignals)();return[...FJ.SIGNALS,...t].map(jJ)};PH.getSignals=NJ;var jJ=function({name:t,number:e,description:r,action:n,forced:i=!1,standard:o}){let{signals:{[t]:s}}=OJ.constants,a=s!==void 0;return{name:t,number:a?s:e,description:r,supported:a,action:n,forced:i,standard:o}}});var Wk=y(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.signalsByNumber=pl.signalsByName=void 0;var UJ=require("os"),qk=Uk(),qJ=mA(),WJ=function(){return(0,qk.getSignals)().reduce(VJ,{})},VJ=function(t,{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}){return{...t,[e]:{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}}},GJ=WJ();pl.signalsByName=GJ;var zJ=function(){let t=(0,qk.getSignals)(),e=qJ.SIGRTMAX+1,r=Array.from({length:e},(n,i)=>KJ(i,t));return Object.assign({},...r)},KJ=function(t,e){let r=XJ(t,e);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=r;return{[t]:{name:n,number:t,description:i,supported:o,action:s,forced:a,standard:c}}},XJ=function(t,e){let r=e.find(({name:n})=>UJ.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},JJ=zJ();pl.signalsByNumber=JJ});var Gk=y((qAe,Vk)=>{"use strict";var{signalsByName:YJ}=Wk(),QJ=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",ZJ=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:p}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:YJ[i].description,m=n&&n.code,g=`Command ${QJ({timedOut:c,timeout:p,errorCode:m,signal:i,signalDescription:d,exitCode:o,isCanceled:u})}: ${s}`,v=Object.prototype.toString.call(n)==="[object Error]",x=v?`${g}
${n.message}`:g,C=[x,e,t].filter(Boolean).join(`
`);return v?(n.originalMessage=n.message,n.message=C):n=new Error(C),n.shortMessage=x,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n};Vk.exports=ZJ});var Kk=y((WAe,gA)=>{"use strict";var LH=["stdin","stdout","stderr"],eY=t=>LH.some(e=>t[e]!==void 0),zk=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return LH.map(n=>t[n]);if(eY(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${LH.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,LH.length);return Array.from({length:r},(n,i)=>e[i])};gA.exports=zk;gA.exports.node=t=>{let e=zk(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var Xk=y((VAe,TH)=>{TH.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&TH.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&TH.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Qk=y((GAe,Qf)=>{var tY=require("assert"),Jf=Xk(),rY=/^win/i.test(process.platform),$H=require("events");typeof $H!="function"&&($H=$H.EventEmitter);var br;process.__signal_exit_emitter__?br=process.__signal_exit_emitter__:(br=process.__signal_exit_emitter__=new $H,br.count=0,br.emitted={});br.infinite||(br.setMaxListeners(1/0),br.infinite=!0);Qf.exports=function(t,e){tY.equal(typeof t,"function","a callback must be provided for exit handler"),Yf===!1&&Jk();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){br.removeListener(r,t),br.listeners("exit").length===0&&br.listeners("afterexit").length===0&&yA()};return br.on(r,t),n};Qf.exports.unload=yA;function yA(){Yf&&(Yf=!1,Jf.forEach(function(t){try{process.removeListener(t,vA[t])}catch{}}),process.emit=HA,process.reallyExit=Yk,br.count-=1)}function dl(t,e,r){br.emitted[t]||(br.emitted[t]=!0,br.emit(t,e,r))}var vA={};Jf.forEach(function(t){vA[t]=function(){var r=process.listeners(t);r.length===br.count&&(yA(),dl("exit",null,t),dl("afterexit",null,t),rY&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});Qf.exports.signals=function(){return Jf};Qf.exports.load=Jk;var Yf=!1;function Jk(){Yf||(Yf=!0,br.count+=1,Jf=Jf.filter(function(t){try{return process.on(t,vA[t]),!0}catch{return!1}}),process.emit=iY,process.reallyExit=nY)}var Yk=process.reallyExit;function nY(t){process.exitCode=t||0,dl("exit",process.exitCode,null),dl("afterexit",process.exitCode,null),Yk.call(process,process.exitCode)}var HA=process.emit;function iY(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=HA.apply(this,arguments);return dl("exit",process.exitCode,null),dl("afterexit",process.exitCode,null),r}else return HA.apply(this,arguments)}});var eR=y((zAe,Zk)=>{"use strict";var oY=require("os"),sY=Qk(),aY=1e3*5,cY=(t,e="SIGTERM",r={})=>{let n=t(e);return uY(t,e,r,n),n},uY=(t,e,r,n)=>{if(!lY(e,r,n))return;let i=dY(r),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},lY=(t,{forceKillAfterTimeout:e},r)=>pY(t)&&e!==!1&&r,pY=t=>t===oY.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",dY=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return aY;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},fY=(t,e)=>{t.kill()&&(e.isCanceled=!0)},hY=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},mY=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,c)=>{i=setTimeout(()=>{hY(t,r,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},gY=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},HY=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=sY(()=>{t.kill()});return n.finally(()=>{i()})};Zk.exports={spawnedKill:cY,spawnedCancel:fY,setupTimeout:mY,validateTimeout:gY,setExitHandler:HY}});var rR=y((KAe,tR)=>{"use strict";var Ki=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";Ki.writable=t=>Ki(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";Ki.readable=t=>Ki(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";Ki.duplex=t=>Ki.writable(t)&&Ki.readable(t);Ki.transform=t=>Ki.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";tR.exports=Ki});var iR=y((XAe,nR)=>{"use strict";var{PassThrough:yY}=require("stream");nR.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new yY({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var oR=y((JAe,Zf)=>{"use strict";var{constants:vY}=require("buffer"),bY=require("stream"),{promisify:wY}=require("util"),xY=iR(),_Y=wY(bY.pipeline),kH=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function bA(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=xY(e);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=vY.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await _Y(t,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new kH)})}),n.getBufferedValue()}Zf.exports=bA;Zf.exports.buffer=(t,e)=>bA(t,{...e,encoding:"buffer"});Zf.exports.array=(t,e)=>bA(t,{...e,array:!0});Zf.exports.MaxBufferError=kH});var aR=y((YAe,sR)=>{"use strict";var{PassThrough:AY}=require("stream");sR.exports=function(){var t=[],e=new AY({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var pR=y((QAe,lR)=>{"use strict";var uR=rR(),cR=oR(),IY=aR(),SY=(t,e)=>{e===void 0||t.stdin===void 0||(uR(e)?e.pipe(t.stdin):t.stdin.end(e))},EY=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=IY();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},wA=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},xA=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?cR(t,{encoding:e,maxBuffer:n}):cR.buffer(t,{maxBuffer:n})},DY=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=xA(t,{encoding:n,buffer:i,maxBuffer:o}),c=xA(e,{encoding:n,buffer:i,maxBuffer:o}),u=xA(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},wA(t,a),wA(e,c),wA(r,u)])}},CY=({input:t})=>{if(uR(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};lR.exports={handleInput:SY,makeAllStream:EY,getSpawnedResult:DY,validateInputSync:CY}});var fR=y((ZAe,dR)=>{"use strict";var PY=(async()=>{})().constructor.prototype,LY=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(PY,t)]),TY=(t,e)=>{for(let[r,n]of LY){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}return t},$Y=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});dR.exports={mergePromise:TY,getSpawnedPromise:$Y}});var gR=y((eIe,mR)=>{"use strict";var hR=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],kY=/^[\w.-]+$/,RY=/"/g,MY=t=>typeof t!="string"||kY.test(t)?t:`"${t.replace(RY,'\\"')}"`,OY=(t,e)=>hR(t,e).join(" "),FY=(t,e)=>hR(t,e).map(r=>MY(r)).join(" "),BY=/ +/g,NY=t=>{let e=[];for(let r of t.trim().split(BY)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${r}`:e.push(r)}return e};mR.exports={joinCommand:OY,getEscapedCommand:FY,parseCommand:NY}});var AA=y((tIe,fl)=>{"use strict";var jY=require("path"),_A=require("child_process"),UY=Ek(),qY=Ck(),WY=kk(),VY=Fk(),RH=Gk(),yR=Kk(),{spawnedKill:GY,spawnedCancel:zY,setupTimeout:KY,validateTimeout:XY,setExitHandler:JY}=eR(),{handleInput:YY,getSpawnedResult:QY,makeAllStream:ZY,validateInputSync:eQ}=pR(),{mergePromise:HR,getSpawnedPromise:tQ}=fR(),{joinCommand:vR,parseCommand:bR,getEscapedCommand:wR}=gR(),rQ=1e3*1e3*100,nQ=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let o=e?{...process.env,...t}:t;return r?WY.env({env:o,cwd:n,execPath:i}):o},xR=(t,e,r={})=>{let n=UY._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:rQ,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=nQ(r),r.stdio=yR(r),process.platform==="win32"&&jY.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},eh=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?qY(e):e,MH=(t,e,r)=>{let n=xR(t,e,r),i=vR(t,e),o=wR(t,e);XY(n.options);let s;try{s=_A.spawn(n.file,n.args,n.options)}catch(m){let f=new _A.ChildProcess,g=Promise.reject(RH({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return HR(f,g)}let a=tQ(s),c=KY(s,n.options,a),u=JY(s,n.options,c),l={isCanceled:!1};s.kill=GY.bind(null,s.kill.bind(s)),s.cancel=zY.bind(null,s,l);let d=VY(async()=>{let[{error:m,exitCode:f,signal:g,timedOut:v},x,C,$]=await QY(s,n.options,u),T=eh(n.options,x),R=eh(n.options,C),J=eh(n.options,$);if(m||f!==0||g!==null){let X=RH({error:m,exitCode:f,signal:g,stdout:T,stderr:R,all:J,command:i,escapedCommand:o,parsed:n,timedOut:v,isCanceled:l.isCanceled,killed:s.killed});if(!n.options.reject)return X;throw X}return{command:i,escapedCommand:o,exitCode:0,stdout:T,stderr:R,all:J,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return YY(s,n.options.input),s.all=ZY(s,n.options),HR(s,d)};fl.exports=MH;fl.exports.sync=(t,e,r)=>{let n=xR(t,e,r),i=vR(t,e),o=wR(t,e);eQ(n.options);let s;try{s=_A.spawnSync(n.file,n.args,n.options)}catch(u){throw RH({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=eh(n.options,s.stdout,s.error),c=eh(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let u=RH({stdout:a,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};fl.exports.command=(t,e)=>{let[r,...n]=bR(t);return MH(r,n,e)};fl.exports.commandSync=(t,e)=>{let[r,...n]=bR(t);return MH.sync(r,n,e)};fl.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let n=yR.node(r),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=r;return MH(o,[...s,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var Bt=y($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.NON_CUSTOM_TAG_KEYS=$e.PRE_DESTROY=$e.POST_CONSTRUCT=$e.DESIGN_PARAM_TYPES=$e.PARAM_TYPES=$e.TAGGED_PROP=$e.TAGGED=$e.MULTI_INJECT_TAG=$e.INJECT_TAG=$e.OPTIONAL_TAG=$e.UNMANAGED_TAG=$e.NAME_TAG=$e.NAMED_TAG=void 0;$e.NAMED_TAG="named";$e.NAME_TAG="name";$e.UNMANAGED_TAG="unmanaged";$e.OPTIONAL_TAG="optional";$e.INJECT_TAG="inject";$e.MULTI_INJECT_TAG="multi_inject";$e.TAGGED="inversify:tagged";$e.TAGGED_PROP="inversify:tagged_props";$e.PARAM_TYPES="inversify:paramtypes";$e.DESIGN_PARAM_TYPES="design:paramtypes";$e.POST_CONSTRUCT="post_construct";$e.PRE_DESTROY="pre_destroy";function iQ(){return[$e.INJECT_TAG,$e.MULTI_INJECT_TAG,$e.NAME_TAG,$e.UNMANAGED_TAG,$e.NAMED_TAG,$e.OPTIONAL_TAG]}$e.NON_CUSTOM_TAG_KEYS=iQ()});var xi=y(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.TargetTypeEnum=Ys.BindingTypeEnum=Ys.BindingScopeEnum=void 0;var oQ={Request:"Request",Singleton:"Singleton",Transient:"Transient"};Ys.BindingScopeEnum=oQ;var sQ={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};Ys.BindingTypeEnum=sQ;var aQ={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};Ys.TargetTypeEnum=aQ});var Qs=y(OH=>{"use strict";Object.defineProperty(OH,"__esModule",{value:!0});OH.id=void 0;var cQ=0;function uQ(){return cQ++}OH.id=uQ});var AR=y(FH=>{"use strict";Object.defineProperty(FH,"__esModule",{value:!0});FH.Binding=void 0;var _R=xi(),lQ=Qs(),pQ=function(){function t(e,r){this.id=(0,lQ.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=_R.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===_R.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();FH.Binding=pQ});var Rr=y(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.STACK_OVERFLOW=ue.CIRCULAR_DEPENDENCY_IN_FACTORY=ue.ON_DEACTIVATION_ERROR=ue.PRE_DESTROY_ERROR=ue.POST_CONSTRUCT_ERROR=ue.ASYNC_UNBIND_REQUIRED=ue.MULTIPLE_POST_CONSTRUCT_METHODS=ue.MULTIPLE_PRE_DESTROY_METHODS=ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ue.ARGUMENTS_LENGTH_MISMATCH=ue.INVALID_DECORATOR_OPERATION=ue.INVALID_TO_SELF_VALUE=ue.LAZY_IN_SYNC=ue.INVALID_FUNCTION_BINDING=ue.INVALID_MIDDLEWARE_RETURN=ue.NO_MORE_SNAPSHOTS_AVAILABLE=ue.INVALID_BINDING_TYPE=ue.NOT_IMPLEMENTED=ue.CIRCULAR_DEPENDENCY=ue.UNDEFINED_INJECT_ANNOTATION=ue.MISSING_INJECT_ANNOTATION=ue.MISSING_INJECTABLE_ANNOTATION=ue.NOT_REGISTERED=ue.CANNOT_UNBIND=ue.AMBIGUOUS_MATCH=ue.KEY_NOT_FOUND=ue.NULL_ARGUMENT=ue.DUPLICATED_METADATA=ue.DUPLICATED_INJECTABLE_DECORATOR=void 0;ue.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ue.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ue.NULL_ARGUMENT="NULL argument";ue.KEY_NOT_FOUND="Key Not Found";ue.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ue.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ue.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ue.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ue.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var dQ=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};ue.UNDEFINED_INJECT_ANNOTATION=dQ;ue.CIRCULAR_DEPENDENCY="Circular dependency found:";ue.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ue.INVALID_BINDING_TYPE="Invalid binding type:";ue.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ue.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ue.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var fQ=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};ue.LAZY_IN_SYNC=fQ;ue.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ue.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var hQ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};ue.ARGUMENTS_LENGTH_MISMATCH=hQ;ue.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ue.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";ue.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ue.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ue.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ue.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ue.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var mQ=function(t,e){return"@postConstruct error in class "+t+": "+e};ue.POST_CONSTRUCT_ERROR=mQ;var gQ=function(t,e){return"@preDestroy error in class "+t+": "+e};ue.PRE_DESTROY_ERROR=gQ;var HQ=function(t,e){return"onDeactivation() error in class "+t+": "+e};ue.ON_DEACTIVATION_ERROR=HQ;var yQ=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};ue.CIRCULAR_DEPENDENCY_IN_FACTORY=yQ;ue.STACK_OVERFLOW="Maximum call stack size exceeded"});var SA=y(Xi=>{"use strict";var vQ=Xi&&Xi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bQ=Xi&&Xi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wQ=Xi&&Xi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&vQ(e,t,r);return bQ(e,t),e};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.MetadataReader=void 0;var IA=wQ(Bt()),xQ=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(IA.PARAM_TYPES,e),n=Reflect.getMetadata(IA.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(IA.TAGGED_PROP,e)||[];return r},t}();Xi.MetadataReader=xQ});var IR=y(BH=>{"use strict";Object.defineProperty(BH,"__esModule",{value:!0});BH.BindingCount=void 0;var _Q={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};BH.BindingCount=_Q});var EA=y(qn=>{"use strict";var AQ=qn&&qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),IQ=qn&&qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SQ=qn&&qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&AQ(e,t,r);return IQ(e,t),e};Object.defineProperty(qn,"__esModule",{value:!0});qn.tryAndThrowErrorIfStackOverflow=qn.isStackOverflowExeption=void 0;var EQ=SQ(Rr());function SR(t){return t instanceof RangeError||t.message===EQ.STACK_OVERFLOW}qn.isStackOverflowExeption=SR;var DQ=function(t,e){try{return t()}catch(r){throw SR(r)&&(r=e()),r}};qn.tryAndThrowErrorIfStackOverflow=DQ});var hl=y(Nt=>{"use strict";var CQ=Nt&&Nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),PQ=Nt&&Nt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),LQ=Nt&&Nt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&CQ(e,t,r);return PQ(e,t),e};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.getSymbolDescription=Nt.circularDependencyToException=Nt.listMetadataForTarget=Nt.listRegisteredBindingsForServiceIdentifier=Nt.getServiceIdentifierAsString=Nt.getFunctionName=void 0;var TQ=LQ(Rr());function ER(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}Nt.getServiceIdentifierAsString=ER;function $Q(t,e,r){var n="",i=r(t,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=PR(o.implementationType)),n=n+`
 `+s,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}Nt.listRegisteredBindingsForServiceIdentifier=$Q;function DR(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:DR(t.parentRequest,e)}function kQ(t){function e(n,i){i===void 0&&(i=[]);var o=ER(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?e(n.parentRequest,i):i}var r=e(t);return r.reverse().join(" --> ")}function CR(t){t.childRequests.forEach(function(e){if(DR(e,e.serviceIdentifier)){var r=kQ(e);throw new Error(TQ.CIRCULAR_DEPENDENCY+" "+r)}else CR(e)})}Nt.circularDependencyToException=CR;function RQ(t,e){if(e.isTagged()||e.isNamed()){var r="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(o){r+=o.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}Nt.listMetadataForTarget=RQ;function PR(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}Nt.getFunctionName=PR;function MQ(t){return t.toString().slice(7,-1)}Nt.getSymbolDescription=MQ});var LR=y(NH=>{"use strict";Object.defineProperty(NH,"__esModule",{value:!0});NH.Context=void 0;var OQ=Qs(),FQ=function(){function t(e){this.id=(0,OQ.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();NH.Context=FQ});var _i=y(Ji=>{"use strict";var BQ=Ji&&Ji.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),NQ=Ji&&Ji.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jQ=Ji&&Ji.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&BQ(e,t,r);return NQ(e,t),e};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.Metadata=void 0;var UQ=jQ(Bt()),qQ=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===UQ.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();Ji.Metadata=qQ});var TR=y(jH=>{"use strict";Object.defineProperty(jH,"__esModule",{value:!0});jH.Plan=void 0;var WQ=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();jH.Plan=WQ});var DA=y(UH=>{"use strict";Object.defineProperty(UH,"__esModule",{value:!0});UH.LazyServiceIdentifer=void 0;var VQ=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();UH.LazyServiceIdentifer=VQ});var $R=y(qH=>{"use strict";Object.defineProperty(qH,"__esModule",{value:!0});qH.QueryableString=void 0;var GQ=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",n=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();qH.QueryableString=GQ});var CA=y(Yi=>{"use strict";var zQ=Yi&&Yi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),KQ=Yi&&Yi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),XQ=Yi&&Yi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zQ(e,t,r);return KQ(e,t),e};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Target=void 0;var ts=XQ(Bt()),JQ=Qs(),YQ=hl(),kR=_i(),QQ=$R(),ZQ=function(){function t(e,r,n,i){this.id=(0,JQ.id)(),this.type=e,this.serviceIdentifier=n;var o=typeof r=="symbol"?(0,YQ.getSymbolDescription)(r):r;this.name=new QQ.QueryableString(o||""),this.identifier=r,this.metadata=new Array;var s=null;typeof i=="string"?s=new kR.Metadata(ts.NAMED_TAG,i):i instanceof kR.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(ts.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(ts.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(ts.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return ts.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(ts.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===ts.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return ts.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(ts.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(n){for(var i=0,o=r.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===n)return!0}return!1}},t}();Yi.Target=ZQ});var UR=y(Mr=>{"use strict";var eZ=Mr&&Mr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tZ=Mr&&Mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RR=Mr&&Mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eZ(e,t,r);return tZ(e,t),e},WH=Mr&&Mr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getFunctionName=Mr.getBaseClassDependencyCount=Mr.getDependencies=void 0;var rZ=DA(),PA=RR(Rr()),MR=xi(),th=RR(Bt()),LA=hl();Object.defineProperty(Mr,"getFunctionName",{enumerable:!0,get:function(){return LA.getFunctionName}});var OR=CA();function nZ(t,e){var r=(0,LA.getFunctionName)(e);return FR(t,r,e,!1)}Mr.getDependencies=nZ;function FR(t,e,r,n){var i=t.getConstructorMetadata(r),o=i.compilerGeneratedMetadata;if(o===void 0){var s=PA.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=r.length===0&&c.length>0,l=c.length>r.length,p=u||l?c.length:r.length,d=oZ(n,e,o,a,p),m=BR(t,r,e),f=WH(WH([],d,!0),m,!0);return f}function iZ(t,e,r,n,i){var o=i[t.toString()]||[],s=jR(o),a=s.unmanaged!==!0,c=n[t],u=s.inject||s.multiInject;if(c=u||c,c instanceof rZ.LazyServiceIdentifer&&(c=c.unwrap()),a){var l=c===Object,p=c===Function,d=c===void 0,m=l||p||d;if(!e&&m){var f=PA.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(f)}var g=new OR.Target(MR.TargetTypeEnum.ConstructorArgument,s.targetName,c);return g.metadata=o,g}return null}function oZ(t,e,r,n,i){for(var o=[],s=0;s<i;s++){var a=s,c=iZ(a,t,e,r,n);c!==null&&o.push(c)}return o}function sZ(t,e,r,n){var i=t||e;if(i===void 0){var o=PA.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+n+".";throw new Error(o)}return i}function BR(t,e,r){for(var n=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(n),s=Object.keys(n),a=s.concat(o),c=0,u=a;c<u.length;c++){var l=u[c],p=n[l],d=jR(p),m=d.targetName||l,f=sZ(d.inject,d.multiInject,l,r),g=new OR.Target(MR.TargetTypeEnum.ClassProperty,m,f);g.metadata=p,i.push(g)}var v=Object.getPrototypeOf(e.prototype).constructor;if(v!==Object){var x=BR(t,v,r);i=WH(WH([],i,!0),x,!0)}return i}function NR(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var n=(0,LA.getFunctionName)(r),i=FR(t,n,r,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===th.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:NR(t,r)}else return 0}Mr.getBaseClassDependencyCount=NR;function jR(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[th.INJECT_TAG],multiInject:e[th.MULTI_INJECT_TAG],targetName:e[th.NAME_TAG],unmanaged:e[th.UNMANAGED_TAG]}}});var qR=y(VH=>{"use strict";Object.defineProperty(VH,"__esModule",{value:!0});VH.Request=void 0;var aZ=Qs(),cZ=function(){function t(e,r,n,i,o){this.id=(0,aZ.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return t.prototype.addChildRequest=function(e,r,n){var i=new t(e,this.parentContext,this,r,n);return this.childRequests.push(i),i},t}();VH.Request=cZ});var MA=y(rn=>{"use strict";var uZ=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lZ=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),GR=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&uZ(e,t,r);return lZ(e,t),e};Object.defineProperty(rn,"__esModule",{value:!0});rn.getBindingDictionary=rn.createMockRequest=rn.plan=void 0;var GH=IR(),$A=GR(Rr()),zR=xi(),WR=GR(Bt()),pZ=EA(),ml=hl(),KR=LR(),kA=_i(),dZ=TR(),TA=UR(),RA=qR(),XR=CA();function JR(t){return t._bindingDictionary}rn.getBindingDictionary=JR;function fZ(t,e,r,n,i,o){var s=t?WR.MULTI_INJECT_TAG:WR.INJECT_TAG,a=new kA.Metadata(s,r),c=new XR.Target(e,n,r,a);if(i!==void 0){var u=new kA.Metadata(i,o);c.metadata.push(u)}return c}function VR(t,e,r,n,i){var o=rh(r.container,i.serviceIdentifier),s=[];return o.length===GH.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=rh(r.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new RA.Request(a.serviceIdentifier,r,n,a,i);return a.constraint(c)}),hZ(i.serviceIdentifier,s,i,r.container),s}function hZ(t,e,r,n){switch(e.length){case GH.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var i=(0,ml.getServiceIdentifierAsString)(t),o=$A.NOT_REGISTERED;throw o+=(0,ml.listMetadataForTarget)(i,r),o+=(0,ml.listRegisteredBindingsForServiceIdentifier)(n,i,rh),new Error(o);case GH.BindingCount.OnlyOneBindingAvailable:return e;case GH.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var i=(0,ml.getServiceIdentifierAsString)(t),o=$A.AMBIGUOUS_MATCH+" "+i;throw o+=(0,ml.listRegisteredBindingsForServiceIdentifier)(n,i,rh),new Error(o)}}function YR(t,e,r,n,i,o){var s,a;if(i===null){s=VR(t,e,n,null,o),a=new RA.Request(r,n,null,s,o);var c=new dZ.Plan(n,a);n.addPlan(c)}else s=VR(t,e,n,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var l=null;if(o.isArray())l=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;l=a}if(u.type===zR.BindingTypeEnum.Instance&&u.implementationType!==null){var p=(0,TA.getDependencies)(t,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=(0,TA.getBaseClassDependencyCount)(t,u.implementationType);if(p.length<d){var m=$A.ARGUMENTS_LENGTH_MISMATCH((0,TA.getFunctionName)(u.implementationType));throw new Error(m)}}p.forEach(function(f){YR(t,!1,f.serviceIdentifier,n,l,f)})}})}function rh(t,e){var r=[],n=JR(t);return n.hasKey(e)?r=n.get(e):t.parent!==null&&(r=rh(t.parent,e)),r}function mZ(t,e,r,n,i,o,s,a){a===void 0&&(a=!1);var c=new KR.Context(e),u=fZ(r,n,i,"",o,s);try{return YR(t,a,i,c,null,u),c}catch(l){throw(0,pZ.isStackOverflowExeption)(l)&&(0,ml.circularDependencyToException)(c.plan.rootRequest),l}}rn.plan=mZ;function gZ(t,e,r,n){var i=new XR.Target(zR.TargetTypeEnum.Variable,"",e,new kA.Metadata(r,n)),o=new KR.Context(t),s=new RA.Request(e,o,null,[],i);return s}rn.createMockRequest=gZ});var nh=y(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.isPromiseOrContainsPromise=gl.isPromise=void 0;function OA(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}gl.isPromise=OA;function HZ(t){return OA(t)?!0:Array.isArray(t)&&t.some(OA)}gl.isPromiseOrContainsPromise=HZ});var QR=y(Qi=>{"use strict";var yZ=Qi&&Qi.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},vZ=Qi&&Qi.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.saveToScope=Qi.tryGetFromScope=void 0;var zH=Z(),bZ=nh(),wZ=function(t,e){return e.scope===zH.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===zH.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};Qi.tryGetFromScope=wZ;var xZ=function(t,e,r){e.scope===zH.BindingScopeEnum.Singleton&&AZ(e,r),e.scope===zH.BindingScopeEnum.Request&&_Z(t,e,r)};Qi.saveToScope=xZ;var _Z=function(t,e,r){t.has(e.id)||t.set(e.id,r)},AZ=function(t,e){t.cache=e,t.activated=!0,(0,bZ.isPromise)(e)&&IZ(t,e)},IZ=function(t,e){return yZ(void 0,void 0,void 0,function(){var r,n;return vZ(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return r=i.sent(),t.cache=r,[3,3];case 2:throw n=i.sent(),t.cache=null,t.activated=!1,n;case 3:return[2]}})})}});var ZR=y(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.FactoryType=void 0;var SZ;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(SZ=ih.FactoryType||(ih.FactoryType={}))});var BA=y(nn=>{"use strict";var EZ=nn&&nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),DZ=nn&&nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CZ=nn&&nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&EZ(e,t,r);return DZ(e,t),e};Object.defineProperty(nn,"__esModule",{value:!0});nn.getFactoryDetails=nn.ensureFullyBound=nn.multiBindToService=void 0;var PZ=Z(),LZ=CZ(Rr()),Zi=xi(),FA=ZR(),TZ=function(t){return function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){return t.bind(i).toService(e)})}}};nn.multiBindToService=TZ;var $Z=function(t){var e=null;switch(t.type){case Zi.BindingTypeEnum.ConstantValue:case Zi.BindingTypeEnum.Function:e=t.cache;break;case Zi.BindingTypeEnum.Constructor:case Zi.BindingTypeEnum.Instance:e=t.implementationType;break;case Zi.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case Zi.BindingTypeEnum.Provider:e=t.provider;break;case Zi.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,PZ.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(LZ.INVALID_BINDING_TYPE+" "+r)}};nn.ensureFullyBound=$Z;var kZ=function(t){switch(t.type){case Zi.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:FA.FactoryType.Factory};case Zi.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:FA.FactoryType.Provider};case Zi.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:FA.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};nn.getFactoryDetails=kZ});var oM=y(sr=>{"use strict";var Hl=sr&&sr.__assign||function(){return Hl=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hl.apply(this,arguments)},RZ=sr&&sr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),MZ=sr&&sr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OZ=sr&&sr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&RZ(e,t,r);return MZ(e,t),e},rM=sr&&sr.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},nM=sr&&sr.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},FZ=sr&&sr.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(sr,"__esModule",{value:!0});sr.resolveInstance=void 0;var NA=Rr(),UA=xi(),jA=OZ(Bt()),qA=nh();function BZ(t,e){return t.reduce(function(r,n){var i=e(n),o=n.target.type;return o===UA.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(i):(r.propertyRequests.push(n),r.propertyInjections.push(i)),r.isAsync||(r.isAsync=(0,qA.isPromiseOrContainsPromise)(i)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function NZ(t,e,r){var n;if(e.length>0){var i=BZ(e,r),o=Hl(Hl({},i),{constr:t});i.isAsync?n=jZ(o):n=iM(o)}else n=new t;return n}function iM(t){var e,r=new((e=t.constr).bind.apply(e,FZ([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(n,i){var o=n.target.identifier,s=t.propertyInjections[i];r[o]=s}),r}function jZ(t){return rM(this,void 0,void 0,function(){var e,r;return nM(this,function(n){switch(n.label){case 0:return[4,eM(t.constructorInjections)];case 1:return e=n.sent(),[4,eM(t.propertyInjections)];case 2:return r=n.sent(),[2,iM(Hl(Hl({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function eM(t){return rM(this,void 0,void 0,function(){var e,r,n,i;return nM(this,function(o){for(e=[],r=0,n=t;r<n.length;r++)i=n[r],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function tM(t,e){var r=UZ(t,e);return(0,qA.isPromise)(r)?r.then(function(){return e}):e}function UZ(t,e){var r,n;if(Reflect.hasMetadata(jA.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(jA.POST_CONSTRUCT,t);try{return(n=(r=e)[i.value])===null||n===void 0?void 0:n.call(r)}catch(o){throw new Error((0,NA.POST_CONSTRUCT_ERROR)(t.name,o.message))}}}function qZ(t,e){t.scope!==UA.BindingScopeEnum.Singleton&&WZ(t,e)}function WZ(t,e){var r="Class cannot be instantiated in "+(t.scope===UA.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,NA.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(jA.PRE_DESTROY,e))throw new Error((0,NA.PRE_DESTROY_ERROR)(e.name,r))}function VZ(t,e,r,n){qZ(t,e);var i=NZ(e,r,n);return(0,qA.isPromise)(i)?i.then(function(o){return tM(e,o)}):tM(e,i)}sr.resolveInstance=VZ});var lM=y(on=>{"use strict";var GZ=on&&on.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zZ=on&&on.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),KZ=on&&on.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&GZ(e,t,r);return zZ(e,t),e},XZ=on&&on.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},JZ=on&&on.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(on,"__esModule",{value:!0});on.resolve=void 0;var YZ=KZ(Rr()),KH=xi(),QZ=MA(),sM=QR(),WA=nh(),cM=BA(),ZZ=EA(),eee=oM(),VA=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return n.map(function(a){var c=VA(t);return c(a)});if(e.target.isOptional()&&r.length===0)return;var s=r[0];return iee(t,e,s)}},tee=function(t,e){var r=(0,cM.getFactoryDetails)(t);return(0,ZZ.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(YZ.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},ree=function(t,e,r){var n,i=e.childRequests;switch((0,cM.ensureFullyBound)(r),r.type){case KH.BindingTypeEnum.ConstantValue:case KH.BindingTypeEnum.Function:n=r.cache;break;case KH.BindingTypeEnum.Constructor:n=r.implementationType;break;case KH.BindingTypeEnum.Instance:n=(0,eee.resolveInstance)(r,r.implementationType,i,VA(t));break;default:n=tee(r,e.parentContext)}return n},nee=function(t,e,r){var n=(0,sM.tryGetFromScope)(t,e);return n!==null||(n=r(),(0,sM.saveToScope)(t,e,n)),n},iee=function(t,e,r){return nee(t,r,function(){var n=ree(t,e,r);return(0,WA.isPromise)(n)?n=n.then(function(i){return aM(e,r,i)}):n=aM(e,r,n),n})};function aM(t,e,r){var n=oee(t.parentContext,e,r),i=cee(t.parentContext.container),o,s=i.next();do{o=s.value;var a=t.parentContext,c=t.serviceIdentifier,u=aee(o,c);(0,WA.isPromise)(n)?n=uM(u,a,n):n=see(u,a,n),s=i.next()}while(s.done!==!0&&!(0,QZ.getBindingDictionary)(o).hasKey(t.serviceIdentifier));return n}var oee=function(t,e,r){var n;return typeof e.onActivation=="function"?n=e.onActivation(t,r):n=r,n},see=function(t,e,r){for(var n=t.next();!n.done;){if(r=n.value(e,r),(0,WA.isPromise)(r))return uM(t,e,r);n=t.next()}return r},uM=function(t,e,r){return XZ(void 0,void 0,void 0,function(){var n,i;return JZ(this,function(o){switch(o.label){case 0:return[4,r];case 1:n=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=o.sent(),i=t.next(),[3,2];case 4:return[2,n]}})})},aee=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},cee=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var n=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:n};return i};function uee(t){var e=VA(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}on.resolve=uee});var GA=y(Or=>{"use strict";var lee=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pee=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dee=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lee(e,t,r);return pee(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.typeConstraint=Or.namedConstraint=Or.taggedConstraint=Or.traverseAncerstors=void 0;var fee=dee(Bt()),hee=_i(),pM=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:pM(r,e):!1};Or.traverseAncerstors=pM;var dM=function(t){return function(e){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(t)(e)};return r.metaData=new hee.Metadata(t,e),r}};Or.taggedConstraint=dM;var mee=dM(fee.NAMED_TAG);Or.namedConstraint=mee;var gee=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var n=r.serviceIdentifier;return n===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};Or.typeConstraint=gee});var JH=y(XH=>{"use strict";Object.defineProperty(XH,"__esModule",{value:!0});XH.BindingWhenSyntax=void 0;var Kr=YH(),Yt=GA(),Hee=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new Kr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Yt.namedConstraint)(e),new Kr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,Yt.taggedConstraint)(e)(r),new Kr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Yt.typeConstraint)(e)(r.parentRequest)},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Yt.namedConstraint)(e)(r.parentRequest)},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Yt.taggedConstraint)(e)(r)(n.parentRequest)},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Yt.traverseAncerstors)(r,(0,Yt.typeConstraint)(e))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Yt.traverseAncerstors)(r,(0,Yt.typeConstraint)(e))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Yt.traverseAncerstors)(r,(0,Yt.namedConstraint)(e))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Yt.traverseAncerstors)(r,(0,Yt.namedConstraint)(e))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,Yt.traverseAncerstors)(n,(0,Yt.taggedConstraint)(e)(r))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&!(0,Yt.traverseAncerstors)(n,(0,Yt.taggedConstraint)(e)(r))},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,Yt.traverseAncerstors)(r,e)},new Kr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,Yt.traverseAncerstors)(r,e)},new Kr.BindingOnSyntax(this._binding)},t}();XH.BindingWhenSyntax=Hee});var YH=y(QH=>{"use strict";Object.defineProperty(QH,"__esModule",{value:!0});QH.BindingOnSyntax=void 0;var fM=JH(),yee=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new fM.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new fM.BindingWhenSyntax(this._binding)},t}();QH.BindingOnSyntax=yee});var zA=y(ZH=>{"use strict";Object.defineProperty(ZH,"__esModule",{value:!0});ZH.BindingWhenOnSyntax=void 0;var vee=YH(),bee=JH(),wee=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new bee.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new vee.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();ZH.BindingWhenOnSyntax=wee});var hM=y(ey=>{"use strict";Object.defineProperty(ey,"__esModule",{value:!0});ey.BindingInSyntax=void 0;var KA=xi(),XA=zA(),xee=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=KA.BindingScopeEnum.Request,new XA.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=KA.BindingScopeEnum.Singleton,new XA.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=KA.BindingScopeEnum.Transient,new XA.BindingWhenOnSyntax(this._binding)},t}();ey.BindingInSyntax=xee});var mM=y(ty=>{"use strict";Object.defineProperty(ty,"__esModule",{value:!0});ty.BindingInWhenOnSyntax=void 0;var _ee=hM(),Aee=YH(),Iee=JH(),See=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new Iee.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new Aee.BindingOnSyntax(this._binding),this._bindingInSyntax=new _ee.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();ty.BindingInWhenOnSyntax=See});var yM=y(eo=>{"use strict";var Eee=eo&&eo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dee=eo&&eo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cee=eo&&eo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Eee(e,t,r);return Dee(e,t),e};Object.defineProperty(eo,"__esModule",{value:!0});eo.BindingToSyntax=void 0;var gM=Cee(Rr()),Xr=xi(),HM=mM(),yl=zA(),Pee=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=Xr.BindingTypeEnum.Instance,this._binding.implementationType=e,new HM.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+gM.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=Xr.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Xr.BindingScopeEnum.Singleton,new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=Xr.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new HM.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=Xr.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=Xr.BindingScopeEnum.Singleton,new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=Xr.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=Xr.BindingScopeEnum.Singleton,new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(gM.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=Xr.BindingTypeEnum.Function,this._binding.scope=Xr.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=Xr.BindingTypeEnum.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(e)};return n},this._binding.scope=Xr.BindingScopeEnum.Singleton,new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=Xr.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(n){return r.container.getNamed(e,n)}},new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=Xr.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=Xr.BindingScopeEnum.Singleton,new yl.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();eo.BindingToSyntax=Pee});var vM=y(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.ContainerSnapshot=void 0;var Lee=function(){function t(){}return t.of=function(e,r,n,i,o){var s=new t;return s.bindings=e,s.middleware=r,s.deactivations=i,s.activations=n,s.moduleActivationStore=o,s},t}();ry.ContainerSnapshot=Lee});var bM=y(ny=>{"use strict";Object.defineProperty(ny,"__esModule",{value:!0});ny.isClonable=void 0;function Tee(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}ny.isClonable=Tee});var JA=y(to=>{"use strict";var $ee=to&&to.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kee=to&&to.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ree=to&&to.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$ee(e,t,r);return kee(e,t),e};Object.defineProperty(to,"__esModule",{value:!0});to.Lookup=void 0;var Pc=Ree(Rr()),Mee=bM(),Oee=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(Pc.NULL_ARGUMENT);if(r==null)throw new Error(Pc.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(Pc.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(Pc.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(Pc.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Pc.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(n,i){var o=e.hasKey(n)?e.get(n):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(c){return a===c})});r._setValue(n,s)}})},t.prototype.removeByCondition=function(e){var r=this,n=[];return this._map.forEach(function(i,o){for(var s=[],a=0,c=i;a<c.length;a++){var u=c[a],l=e(u);l?n.push(u):s.push(u)}r._setValue(o,s)}),n},t.prototype.hasKey=function(e){if(e==null)throw new Error(Pc.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){r.forEach(function(i){return e.add(n,(0,Mee.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,n){e(n,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();to.Lookup=Oee});var xM=y(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.ModuleActivationStore=void 0;var wM=JA(),Fee=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,n){this._getModuleActivationHandlers(e).onDeactivations.add(r,n)},t.prototype.addActivation=function(e,r,n){this._getModuleActivationHandlers(e).onActivations.add(r,n)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){e._map.set(n,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new wM.Lookup,onDeactivations:new wM.Lookup};return e},t}();iy.ModuleActivationStore=Fee});var AM=y(ar=>{"use strict";var sy=ar&&ar.__assign||function(){return sy=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sy.apply(this,arguments)},Bee=ar&&ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Nee=ar&&ar.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_M=ar&&ar.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Bee(e,t,r);return Nee(e,t),e},Wn=ar&&ar.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},Vn=ar&&ar.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},jee=ar&&ar.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ar,"__esModule",{value:!0});ar.Container=void 0;var Uee=AR(),Ai=_M(Rr()),vl=xi(),Lc=_M(Bt()),qee=SA(),oy=MA(),Wee=lM(),Vee=yM(),Tc=nh(),Gee=Qs(),zee=hl(),Kee=vM(),oh=JA(),Xee=xM(),Jee=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+Ai.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=vl.BindingScopeEnum.Transient;else if(r.defaultScope!==vl.BindingScopeEnum.Singleton&&r.defaultScope!==vl.BindingScopeEnum.Transient&&r.defaultScope!==vl.BindingScopeEnum.Request)throw new Error(""+Ai.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+Ai.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+Ai.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,Gee.id)(),this._bindingDictionary=new oh.Lookup,this._snapshots=[],this._middleware=null,this._activations=new oh.Lookup,this._deactivations=new oh.Lookup,this.parent=null,this._metadataReader=new qee.MetadataReader,this._moduleActivationStore=new Xee.ModuleActivationStore}return t.merge=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new t,s=jee([e,r],n,!0).map(function(u){return(0,oy.getBindingDictionary)(u)}),a=(0,oy.getBindingDictionary)(o);function c(u,l){u.traverse(function(p,d){d.forEach(function(m){l.add(m.serviceIdentifier,m.clone())})})}return s.forEach(function(u){c(u,a)}),o},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=n(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Wn(this,void 0,void 0,function(){var n,i,o,s,a;return Vn(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=n(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Wn(this,void 0,void 0,function(){var n,i,o,s;return Vn(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(o=i[n],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||vl.BindingScopeEnum.Transient,n=new Uee.Binding(e,r);return this._bindingDictionary.add(e,n),new Vee.BindingToSyntax(n)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return Wn(this,void 0,void 0,function(){return Vn(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return Wn(this,void 0,void 0,function(){var r;return Vn(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,n){e._deactivateSingletons(n)}),this._bindingDictionary=new oh.Lookup},t.prototype.unbindAllAsync=function(){return Wn(this,void 0,void 0,function(){var e,r=this;return Vn(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(r._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new oh.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,Lc.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,oy.createMockRequest)(this,e,r,n);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,r,n)),i},t.prototype.snapshot=function(){this._snapshots.push(Kee.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(Ai.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},n)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return Wn(this,void 0,void 0,function(){var r;return Vn(this,function(n){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,n){var i=this._getNotAllArgs(e,!1,r,n);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,r,n){return Wn(this,void 0,void 0,function(){var i;return Vn(this,function(o){return i=this._getNotAllArgs(e,!1,r,n),[2,this._get(i)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,Lc.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,Lc.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getAll(i)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,Lc.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,Lc.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var n=this.get(e);return r||this.unbind(e),n},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(Lc.PRE_DESTROY,e)){var n=Reflect.getMetadata(Lc.PRE_DESTROY,e);return r[n.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var n=this,i=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,Tc.isPromise)(o))return this._handleDeactivationError(o.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,i);if((0,Tc.isPromise)(s))return this._handleDeactivationError(s,i)}catch(a){throw new Error(Ai.ON_DEACTIVATION_ERROR(i.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return Wn(this,void 0,void 0,function(){var n;return Vn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),new Error(Ai.ON_DEACTIVATION_ERROR(r.name,n.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var n=this,i=r.next();i.value;){var o=i.value(e);if((0,Tc.isPromise)(o))return o.then(function(){return n._deactivateContainerAsync(e,r)});i=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return Wn(this,void 0,void 0,function(){var n;return Vn(this,function(i){switch(i.label){case 0:n=r.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var d=e.bind(p);return r(d,l),d}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var d=e.rebind(p);return r(d,l),d}},c=function(l){return function(p,d){e._moduleActivationStore.addActivation(l,p,d),e.onActivation(p,d)}},u=function(l){return function(p,d){e._moduleActivationStore.addDeactivation(l,p,d),e.onDeactivation(p,d)}};return function(l){return{bindFunction:n(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:u(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=sy(sy({},e),{contextInterceptor:function(i){return i},targetType:vl.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(r);if(n==null)throw new Error(Ai.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,Tc.isPromiseOrContainsPromise)(r))throw new Error(Ai.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,n,i){var o={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:n,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(r){var n=(0,oy.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=(0,Wee.resolve)(n);return i}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,Tc.isPromise)(e.cache)?e.cache.then(function(n){return r._deactivate(e,n)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,n=e;r<n.length;r++){var i=n[r],o=this._deactivateIfSingleton(i);if((0,Tc.isPromise)(o))throw new Error(Ai.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return Wn(this,void 0,void 0,function(){var r=this;return Vn(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return r._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,n){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,n)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,n){return Wn(this,void 0,void 0,function(){return Vn(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Ai.CANNOT_UNBIND+" "+(0,zee.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,n){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(r);if((0,Tc.isPromise)(o))return o.then(function(){return i._preDestroy(n,r)})}return this._preDestroy(n,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,n){return Wn(this,void 0,void 0,function(){return Vn(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,r)];case 3:return i.sent(),[2]}})})},t}();ar.Container=Jee});var SM=y(bl=>{"use strict";Object.defineProperty(bl,"__esModule",{value:!0});bl.AsyncContainerModule=bl.ContainerModule=void 0;var IM=Qs(),Yee=function(){function t(e){this.id=(0,IM.id)(),this.registry=e}return t}();bl.ContainerModule=Yee;var Qee=function(){function t(e){this.id=(0,IM.id)(),this.registry=e}return t}();bl.AsyncContainerModule=Qee});var EM=y(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.getFirstArrayDuplicate=void 0;function Zee(t){for(var e=new Set,r=0,n=t;r<n.length;r++){var i=n[r];if(e.has(i))return i;e.add(i)}}ay.getFirstArrayDuplicate=Zee});var rs=y(Fr=>{"use strict";var ete=Fr&&Fr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tte=Fr&&Fr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),CM=Fr&&Fr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ete(e,t,r);return tte(e,t),e};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.createTaggedDecorator=Fr.tagProperty=Fr.tagParameter=Fr.decorate=void 0;var cy=CM(Rr()),PM=CM(Bt()),rte=EM();function nte(t){return t.prototype!==void 0}function ite(t){if(t!==void 0)throw new Error(cy.INVALID_DECORATOR_OPERATION)}function LM(t,e,r,n){ite(e),$M(PM.TAGGED,t,r.toString(),n)}Fr.tagParameter=LM;function TM(t,e,r){if(nte(t))throw new Error(cy.INVALID_DECORATOR_OPERATION);$M(PM.TAGGED_PROP,t.constructor,e,r)}Fr.tagProperty=TM;function ote(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,rte.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(r!==void 0)throw new Error(cy.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function $M(t,e,r,n){var i=ote(n),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[r];if(s===void 0)s=[];else for(var a=function(p){if(i.some(function(d){return d.key===p.key}))throw new Error(cy.DUPLICATED_METADATA+" "+p.key.toString())},c=0,u=s;c<u.length;c++){var l=u[c];a(l)}s.push.apply(s,i),o[r]=s,Reflect.defineMetadata(t,o,e)}function ste(t){return function(e,r,n){typeof n=="number"?LM(e,r,n,t):TM(e,r,t)}}Fr.createTaggedDecorator=ste;function DM(t,e){Reflect.decorate(t,e)}function ate(t,e){return function(r,n){e(r,n,t)}}function cte(t,e,r){typeof r=="number"?DM([ate(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):DM([t],e)}Fr.decorate=cte});var RM=y(ro=>{"use strict";var ute=ro&&ro.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lte=ro&&ro.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kM=ro&&ro.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ute(e,t,r);return lte(e,t),e};Object.defineProperty(ro,"__esModule",{value:!0});ro.injectable=void 0;var pte=kM(Rr()),YA=kM(Bt());function dte(){return function(t){if(Reflect.hasOwnMetadata(YA.PARAM_TYPES,t))throw new Error(pte.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(YA.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(YA.PARAM_TYPES,e,t),t}}ro.injectable=dte});var MM=y(uy=>{"use strict";Object.defineProperty(uy,"__esModule",{value:!0});uy.tagged=void 0;var fte=_i(),hte=rs();function mte(t,e){return(0,hte.createTaggedDecorator)(new fte.Metadata(t,e))}uy.tagged=mte});var OM=y(no=>{"use strict";var gte=no&&no.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Hte=no&&no.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),yte=no&&no.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gte(e,t,r);return Hte(e,t),e};Object.defineProperty(no,"__esModule",{value:!0});no.named=void 0;var vte=yte(Bt()),bte=_i(),wte=rs();function xte(t){return(0,wte.createTaggedDecorator)(new bte.Metadata(vte.NAMED_TAG,t))}no.named=xte});var QA=y(ly=>{"use strict";Object.defineProperty(ly,"__esModule",{value:!0});ly.injectBase=void 0;var _te=Rr(),Ate=_i(),Ite=rs();function Ste(t){return function(e){return function(r,n,i){if(e===void 0){var o=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,_te.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,Ite.createTaggedDecorator)(new Ate.Metadata(t,e))(r,n,i)}}}ly.injectBase=Ste});var FM=y(io=>{"use strict";var Ete=io&&io.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Dte=io&&io.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Cte=io&&io.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ete(e,t,r);return Dte(e,t),e};Object.defineProperty(io,"__esModule",{value:!0});io.inject=void 0;var Pte=Cte(Bt()),Lte=QA(),Tte=(0,Lte.injectBase)(Pte.INJECT_TAG);io.inject=Tte});var BM=y(oo=>{"use strict";var $te=oo&&oo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kte=oo&&oo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rte=oo&&oo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$te(e,t,r);return kte(e,t),e};Object.defineProperty(oo,"__esModule",{value:!0});oo.optional=void 0;var Mte=Rte(Bt()),Ote=_i(),Fte=rs();function Bte(){return(0,Fte.createTaggedDecorator)(new Ote.Metadata(Mte.OPTIONAL_TAG,!0))}oo.optional=Bte});var NM=y(so=>{"use strict";var Nte=so&&so.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jte=so&&so.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ute=so&&so.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nte(e,t,r);return jte(e,t),e};Object.defineProperty(so,"__esModule",{value:!0});so.unmanaged=void 0;var qte=Ute(Bt()),Wte=_i(),Vte=rs();function Gte(){return function(t,e,r){var n=new Wte.Metadata(qte.UNMANAGED_TAG,!0);(0,Vte.tagParameter)(t,e,r,n)}}so.unmanaged=Gte});var jM=y(ao=>{"use strict";var zte=ao&&ao.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Kte=ao&&ao.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xte=ao&&ao.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zte(e,t,r);return Kte(e,t),e};Object.defineProperty(ao,"__esModule",{value:!0});ao.multiInject=void 0;var Jte=Xte(Bt()),Yte=QA(),Qte=(0,Yte.injectBase)(Jte.MULTI_INJECT_TAG);ao.multiInject=Qte});var UM=y(co=>{"use strict";var Zte=co&&co.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ere=co&&co.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tre=co&&co.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zte(e,t,r);return ere(e,t),e};Object.defineProperty(co,"__esModule",{value:!0});co.targetName=void 0;var rre=tre(Bt()),nre=_i(),ire=rs();function ore(t){return function(e,r,n){var i=new nre.Metadata(rre.NAME_TAG,t);(0,ire.tagParameter)(e,r,n,i)}}co.targetName=ore});var ZA=y(py=>{"use strict";Object.defineProperty(py,"__esModule",{value:!0});py.propertyEventDecorator=void 0;var sre=_i();function are(t,e){return function(){return function(r,n){var i=new sre.Metadata(t,n);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,i,r.constructor)}}}py.propertyEventDecorator=are});var WM=y(uo=>{"use strict";var cre=uo&&uo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ure=uo&&uo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),qM=uo&&uo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cre(e,t,r);return ure(e,t),e};Object.defineProperty(uo,"__esModule",{value:!0});uo.postConstruct=void 0;var lre=qM(Rr()),pre=qM(Bt()),dre=ZA(),fre=(0,dre.propertyEventDecorator)(pre.POST_CONSTRUCT,lre.MULTIPLE_POST_CONSTRUCT_METHODS);uo.postConstruct=fre});var GM=y(lo=>{"use strict";var hre=lo&&lo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mre=lo&&lo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VM=lo&&lo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hre(e,t,r);return mre(e,t),e};Object.defineProperty(lo,"__esModule",{value:!0});lo.preDestroy=void 0;var gre=VM(Rr()),Hre=VM(Bt()),yre=ZA(),vre=(0,yre.propertyEventDecorator)(Hre.PRE_DESTROY,gre.MULTIPLE_PRE_DESTROY_METHODS);lo.preDestroy=vre});var zM=y(dy=>{"use strict";Object.defineProperty(dy,"__esModule",{value:!0});dy.interfaces=void 0;var eI;eI||(eI={});dy.interfaces=eI});var Z=y(le=>{"use strict";var bre=le&&le.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wre=le&&le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xre=le&&le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&bre(e,t,r);return wre(e,t),e};Object.defineProperty(le,"__esModule",{value:!0});le.multiBindToService=le.getServiceIdentifierAsString=le.typeConstraint=le.namedConstraint=le.taggedConstraint=le.traverseAncerstors=le.decorate=le.interfaces=le.id=le.MetadataReader=le.preDestroy=le.postConstruct=le.targetName=le.multiInject=le.unmanaged=le.optional=le.LazyServiceIdentifer=le.inject=le.named=le.tagged=le.injectable=le.createTaggedDecorator=le.ContainerModule=le.AsyncContainerModule=le.TargetTypeEnum=le.BindingTypeEnum=le.BindingScopeEnum=le.Container=le.METADATA_KEY=void 0;var _re=xre(Bt());le.METADATA_KEY=_re;var Are=AM();Object.defineProperty(le,"Container",{enumerable:!0,get:function(){return Are.Container}});var tI=xi();Object.defineProperty(le,"BindingScopeEnum",{enumerable:!0,get:function(){return tI.BindingScopeEnum}});Object.defineProperty(le,"BindingTypeEnum",{enumerable:!0,get:function(){return tI.BindingTypeEnum}});Object.defineProperty(le,"TargetTypeEnum",{enumerable:!0,get:function(){return tI.TargetTypeEnum}});var KM=SM();Object.defineProperty(le,"AsyncContainerModule",{enumerable:!0,get:function(){return KM.AsyncContainerModule}});Object.defineProperty(le,"ContainerModule",{enumerable:!0,get:function(){return KM.ContainerModule}});var Ire=rs();Object.defineProperty(le,"createTaggedDecorator",{enumerable:!0,get:function(){return Ire.createTaggedDecorator}});var Sre=RM();Object.defineProperty(le,"injectable",{enumerable:!0,get:function(){return Sre.injectable}});var Ere=MM();Object.defineProperty(le,"tagged",{enumerable:!0,get:function(){return Ere.tagged}});var Dre=OM();Object.defineProperty(le,"named",{enumerable:!0,get:function(){return Dre.named}});var Cre=FM();Object.defineProperty(le,"inject",{enumerable:!0,get:function(){return Cre.inject}});var Pre=DA();Object.defineProperty(le,"LazyServiceIdentifer",{enumerable:!0,get:function(){return Pre.LazyServiceIdentifer}});var Lre=BM();Object.defineProperty(le,"optional",{enumerable:!0,get:function(){return Lre.optional}});var Tre=NM();Object.defineProperty(le,"unmanaged",{enumerable:!0,get:function(){return Tre.unmanaged}});var $re=jM();Object.defineProperty(le,"multiInject",{enumerable:!0,get:function(){return $re.multiInject}});var kre=UM();Object.defineProperty(le,"targetName",{enumerable:!0,get:function(){return kre.targetName}});var Rre=WM();Object.defineProperty(le,"postConstruct",{enumerable:!0,get:function(){return Rre.postConstruct}});var Mre=GM();Object.defineProperty(le,"preDestroy",{enumerable:!0,get:function(){return Mre.preDestroy}});var Ore=SA();Object.defineProperty(le,"MetadataReader",{enumerable:!0,get:function(){return Ore.MetadataReader}});var Fre=Qs();Object.defineProperty(le,"id",{enumerable:!0,get:function(){return Fre.id}});var Bre=zM();Object.defineProperty(le,"interfaces",{enumerable:!0,get:function(){return Bre.interfaces}});var Nre=rs();Object.defineProperty(le,"decorate",{enumerable:!0,get:function(){return Nre.decorate}});var fy=GA();Object.defineProperty(le,"traverseAncerstors",{enumerable:!0,get:function(){return fy.traverseAncerstors}});Object.defineProperty(le,"taggedConstraint",{enumerable:!0,get:function(){return fy.taggedConstraint}});Object.defineProperty(le,"namedConstraint",{enumerable:!0,get:function(){return fy.namedConstraint}});Object.defineProperty(le,"typeConstraint",{enumerable:!0,get:function(){return fy.typeConstraint}});var jre=hl();Object.defineProperty(le,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return jre.getServiceIdentifierAsString}});var Ure=BA();Object.defineProperty(le,"multiBindToService",{enumerable:!0,get:function(){return Ure.multiBindToService}})});var d1=y(p1=>{var l1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");p1.encode=function(t){if(0<=t&&t<l1.length)return l1[t];throw new TypeError("Must be between 0 and 63: "+t)}});var cI=y(m1=>{var Xre=d1(),f1=5,h1=1<<f1,Jre=h1-1,Yre=h1;function Qre(t){return t<0?(-t<<1)+1:(t<<1)+0}m1.encode=function(e){let r="",n,i=Qre(e);do n=i&Jre,i>>>=f1,i>0&&(n|=Yre),r+=Xre.encode(n);while(i>0);return r}});var H1=y((ySe,g1)=>{"use strict";g1.exports=typeof URL=="function"?URL:require("url").URL});var fh=y(fo=>{var ta=H1();function Zre(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}fo.getArg=Zre;var v1=function(){return!("__proto__"in Object.create(null))}();function b1(t){return t}function ene(t){return w1(t)?"$"+t:t}fo.toSetString=v1?b1:ene;function tne(t){return w1(t)?t.slice(1):t}fo.fromSetString=v1?b1:tne;function w1(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function y1(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function rne(t,e){let r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=y1(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:y1(t.name,e.name)}fo.compareByGeneratedPositionsInflated=rne;function nne(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}fo.parseSourceMapInput=nne;var lI="http:",ph=`${lI}//host`;function pI(t){return e=>{let r=xl(e),n=dI(e),i=new ta(e,n);t(i);let o=i.toString();return r==="absolute"?o:r==="scheme-relative"?o.slice(lI.length):r==="path-absolute"?o.slice(ph.length):fI(n,o)}}function ea(t,e){return new ta(t,e).toString()}function ine(t,e){let r=0;do{let n=t+r++;if(e.indexOf(n)===-1)return n}while(!0)}function dI(t){let e=t.split("..").length-1,r=ine("p",t),n=`${ph}/`;for(let i=0;i<e;i++)n+=`${r}/`;return n}var one=/^[A-Za-z0-9\+\-\.]+:/;function xl(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":one.test(t)?"absolute":"path-relative"}function fI(t,e){typeof t=="string"&&(t=new ta(t)),typeof e=="string"&&(e=new ta(e));let r=e.pathname.split("/"),n=t.pathname.split("/");for(n.length>0&&!n[n.length-1]&&n.pop();r.length>0&&n.length>0&&r[0]===n[0];)r.shift(),n.shift();return n.map(()=>"..").concat(r).join("/")+e.search+e.hash}var sne=pI(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),ane=pI(t=>{t.href=new ta(".",t.toString()).toString()}),dh=pI(t=>{});fo.normalize=dh;function uI(t,e){let r=xl(e),n=xl(t);if(t=sne(t),r==="absolute")return ea(e,void 0);if(n==="absolute")return ea(e,t);if(r==="scheme-relative")return dh(e);if(n==="scheme-relative")return ea(e,ea(t,ph)).slice(lI.length);if(r==="path-absolute")return dh(e);if(n==="path-absolute")return ea(e,ea(t,ph)).slice(ph.length);let i=dI(e+t),o=ea(e,ea(t,i));return fI(i,o)}fo.join=uI;function cne(t,e){let r=une(t,e);return typeof r=="string"?r:dh(e)}fo.relative=cne;function une(t,e){if(xl(t)!==xl(e))return null;let n=dI(t+e),i=new ta(t,n),o=new ta(e,n);try{new ta("",o.toString())}catch{return null}return o.protocol!==i.protocol||o.user!==i.user||o.password!==i.password||o.hostname!==i.hostname||o.port!==i.port?null:fI(i,o)}function lne(t,e,r){t&&xl(e)==="path-absolute"&&(e=e.replace(/^\//,""));let n=dh(e||"");return t&&(n=uI(t,n)),r&&(n=uI(ane(r),n)),n}fo.computeSourceURL=lne});var mI=y(x1=>{var hI=class t{constructor(){this._array=[],this._set=new Map}static fromArray(e,r){let n=new t;for(let i=0,o=e.length;i<o;i++)n.add(e[i],r);return n}size(){return this._set.size}add(e,r){let n=this.has(e),i=this._array.length;(!n||r)&&this._array.push(e),n||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){let r=this._set.get(e);if(r>=0)return r;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};x1.ArraySet=hI});var I1=y(A1=>{var _1=fh();function pne(t,e){let r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,o=e.generatedColumn;return n>r||n==r&&o>=i||_1.compareByGeneratedPositionsInflated(t,e)<=0}var gI=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,r){this._array.forEach(e,r)}add(e){pne(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(_1.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};A1.MappingList=gI});var HI=y(S1=>{var hh=cI(),jt=fh(),_y=mI().ArraySet,dne=I1().MappingList,Ay=class t{constructor(e){e||(e={}),this._file=jt.getArg(e,"file",null),this._sourceRoot=jt.getArg(e,"sourceRoot",null),this._skipValidation=jt.getArg(e,"skipValidation",!1),this._sources=new _y,this._names=new _y,this._mappings=new dne,this._sourcesContents=null}static fromSourceMap(e){let r=e.sourceRoot,n=new t({file:e.file,sourceRoot:r});return e.eachMapping(function(i){let o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=jt.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),e.sources.forEach(function(i){let o=i;r!==null&&(o=jt.relative(r,i)),n._sources.has(o)||n._sources.add(o);let s=e.sourceContentFor(i);s!=null&&n.setSourceContent(i,s)}),n}addMapping(e){let r=jt.getArg(e,"generated"),n=jt.getArg(e,"original",null),i=jt.getArg(e,"source",null),o=jt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})}setSourceContent(e,r){let n=e;this._sourceRoot!=null&&(n=jt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[jt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[jt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,r,n){let i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}let o=this._sourceRoot;o!=null&&(i=jt.relative(o,i));let s=this._mappings.toArray().length>0?new _y:this._sources,a=new _y;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){let p=e.originalPositionFor({line:c.originalLine,column:c.originalColumn});p.source!=null&&(c.source=p.source,n!=null&&(c.source=jt.join(n,c.source)),o!=null&&(c.source=jt.relative(o,c.source)),c.originalLine=p.line,c.originalColumn=p.column,p.name!=null&&(c.name=p.name))}let u=c.source;u!=null&&!s.has(u)&&s.add(u);let l=c.name;l!=null&&!a.has(l)&&a.add(l)},this),this._sources=s,this._names=a,e.sources.forEach(function(c){let u=e.sourceContentFor(c);u!=null&&(n!=null&&(c=jt.join(n,c)),o!=null&&(c=jt.relative(o,c)),this.setSourceContent(c,u))},this)}_validateMapping(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(!(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}}_serializeMappings(){let e=0,r=1,n=0,i=0,o=0,s=0,a="",c,u,l,p,d=this._mappings.toArray();for(let m=0,f=d.length;m<f;m++){if(u=d[m],c="",u.generatedLine!==r)for(e=0;u.generatedLine!==r;)c+=";",r++;else if(m>0){if(!jt.compareByGeneratedPositionsInflated(u,d[m-1]))continue;c+=","}c+=hh.encode(u.generatedColumn-e),e=u.generatedColumn,u.source!=null&&(p=this._sources.indexOf(u.source),c+=hh.encode(p-s),s=p,c+=hh.encode(u.originalLine-1-i),i=u.originalLine-1,c+=hh.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(l=this._names.indexOf(u.name),c+=hh.encode(l-o),o=l)),a+=c}return a}_generateSourcesContent(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=jt.relative(r,n));let i=jt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};Ay.prototype._version=3;S1.SourceMapGenerator=Ay});var E1=y(Rc=>{Rc.GREATEST_LOWER_BOUND=1;Rc.LEAST_UPPER_BOUND=2;function yI(t,e,r,n,i,o){let s=Math.floor((e-t)/2)+t,a=i(r,n[s],!0);return a===0?s:a>0?e-s>1?yI(s,e,r,n,i,o):o==Rc.LEAST_UPPER_BOUND?e<n.length?e:-1:s:s-t>1?yI(t,s,r,n,i,o):o==Rc.LEAST_UPPER_BOUND?s:t<0?-1:t}Rc.search=function(e,r,n,i){if(r.length===0)return-1;let o=yI(-1,r.length,e,r,n,i||Rc.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o}});var bI=y((ASe,vI)=>{"use strict";var fne=require("fs"),hne=require("path");vI.exports=function(){return new Promise((e,r)=>{let n=hne.join(__dirname,"mappings.wasm");fne.readFile(n,null,(i,o)=>{if(i){r(i);return}e(o.buffer)})})};vI.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var C1=y((ISe,D1)=>{var mne=bI();function gne(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var mh=null;D1.exports=function(){if(mh)return mh;let e=[];return mh=mne().then(r=>WebAssembly.instantiate(r,{env:{mapping_callback(n,i,o,s,a,c,u,l,p,d){let m=new gne;m.generatedLine=n+1,m.generatedColumn=i,o&&(m.lastGeneratedColumn=s-1),a&&(m.source=c,m.originalLine=u+1,m.originalColumn=l,p&&(m.name=d)),e[e.length-1](m)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(r=>({exports:r.instance.exports,withMappingCallback:(n,i)=>{e.push(n);try{i()}finally{e.pop()}}})).then(null,r=>{throw mh=null,r}),mh}});var P1=y(Sy=>{var Se=fh(),Hne=E1(),wI=mI().ArraySet,SSe=cI(),yne=bI(),vne=C1(),xI=Symbol("smcInternal"),Qt=class t{constructor(e,r){return e==xI?Promise.resolve(this):bne(e,r)}static initialize(e){yne.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,r){return wne(e,r)}static async with(e,r,n){let i=await new t(e,r);try{return await n(i)}finally{i.destroy()}}eachMapping(e,r,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};Qt.prototype._version=3;Qt.GENERATED_ORDER=1;Qt.ORIGINAL_ORDER=2;Qt.GREATEST_LOWER_BOUND=1;Qt.LEAST_UPPER_BOUND=2;Sy.SourceMapConsumer=Qt;var _l=class t extends Qt{constructor(e,r){return super(xI).then(n=>{let i=e;typeof e=="string"&&(i=Se.parseSourceMapInput(e));let o=Se.getArg(i,"version"),s=Se.getArg(i,"sources").map(String),a=Se.getArg(i,"names",[]),c=Se.getArg(i,"sourceRoot",null),u=Se.getArg(i,"sourcesContent",null),l=Se.getArg(i,"mappings"),p=Se.getArg(i,"file",null);if(o!=n._version)throw new Error("Unsupported version: "+o);return n._sourceLookupCache=new Map,n._names=wI.fromArray(a.map(String),!0),n._sources=wI.fromArray(s,!0),n._absoluteSources=wI.fromArray(n._sources.toArray().map(function(d){return Se.computeSourceURL(c,d,r)}),!0),n.sourceRoot=c,n.sourcesContent=u,n._mappings=l,n._sourceMapURL=r,n.file=p,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,vne().then(d=>(n._wasm=d,n))})}_findSourceIndex(e){let r=this._sourceLookupCache.get(e);if(typeof r=="number")return r;let n=Se.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(n)){let o=this._absoluteSources.indexOf(n);return this._sourceLookupCache.set(e,o),o}let i=Se.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let o=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,o),o}return-1}static fromSourceMap(e,r){return new t(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,r=e.length,n=this._wasm.exports.allocate_mappings(r),i=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let s=0;s<r;s++)i[s]=e.charCodeAt(s);let o=this._wasm.exports.parse_mappings(n);if(!o){let s=this._wasm.exports.get_last_error(),a=`Error parsing mappings (code ${s}): `;switch(s){case 1:a+="the mappings contained a negative line, column, source index, or name index";break;case 2:a+="the mappings contained a number larger than 2**32";break;case 3:a+="reached EOF while in the middle of parsing a VLQ";break;case 4:a+="invalid base 64 character while parsing a VLQ";break;default:a+="unknown error code";break}throw new Error(a)}this._mappingsPtr=o}eachMapping(e,r,n){let i=r||null,o=n||Qt.GENERATED_ORDER;this._wasm.withMappingCallback(s=>{s.source!==null&&(s.source=this._absoluteSources.at(s.source),s.name!==null&&(s.name=this._names.at(s.name))),this._computedColumnSpans&&s.lastGeneratedColumn===null&&(s.lastGeneratedColumn=1/0),e.call(i,s)},()=>{switch(o){case Qt.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case Qt.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let r=Se.getArg(e,"source"),n=Se.getArg(e,"line"),i=e.column||0;if(r=this._findSourceIndex(r),r<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");let o=[];return this._wasm.withMappingCallback(s=>{let a=s.lastGeneratedColumn;this._computedColumnSpans&&a===null&&(a=1/0),o.push({line:s.generatedLine,column:s.generatedColumn,lastColumn:a})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),r,n-1,"column"in e,i)}),o}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let r={generatedLine:Se.getArg(e,"line"),generatedColumn:Se.getArg(e,"column")};if(r.generatedLine<1)throw new Error("Line numbers must be >= 1");if(r.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n=Se.getArg(e,"bias",Qt.GREATEST_LOWER_BOUND);n==null&&(n=Qt.GREATEST_LOWER_BOUND);let i;if(this._wasm.withMappingCallback(o=>i=o,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),r.generatedLine-1,r.generatedColumn,n)}),i&&i.generatedLine===r.generatedLine){let o=Se.getArg(i,"source",null);o!==null&&(o=this._absoluteSources.at(o));let s=Se.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:o,line:Se.getArg(i,"originalLine",null),column:Se.getArg(i,"originalColumn",null),name:s}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,r){if(!this.sourcesContent)return null;let n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let r=Se.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};let n={source:r,originalLine:Se.getArg(e,"line"),originalColumn:Se.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i=Se.getArg(e,"bias",Qt.GREATEST_LOWER_BOUND);i==null&&(i=Qt.GREATEST_LOWER_BOUND);let o;if(this._wasm.withMappingCallback(s=>o=s,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,i)}),o&&o.source===n.source){let s=o.lastGeneratedColumn;return this._computedColumnSpans&&s===null&&(s=1/0),{line:Se.getArg(o,"generatedLine",null),column:Se.getArg(o,"generatedColumn",null),lastColumn:s}}return{line:null,column:null,lastColumn:null}}};_l.prototype.consumer=Qt;Sy.BasicSourceMapConsumer=_l;var Iy=class extends Qt{constructor(e,r){return super(xI).then(n=>{let i=e;typeof e=="string"&&(i=Se.parseSourceMapInput(e));let o=Se.getArg(i,"version"),s=Se.getArg(i,"sections");if(o!=n._version)throw new Error("Unsupported version: "+o);let a={line:-1,column:0};return Promise.all(s.map(c=>{if(c.url)throw new Error("Support for url field in sections not implemented.");let u=Se.getArg(c,"offset"),l=Se.getArg(u,"line"),p=Se.getArg(u,"column");if(l<a.line||l===a.line&&p<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=u,new Qt(Se.getArg(c,"map"),r).then(m=>({generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:m}))})).then(c=>(n._sections=c,n))})}get sources(){let e=[];for(let r=0;r<this._sections.length;r++)for(let n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}originalPositionFor(e){let r={generatedLine:Se.getArg(e,"line"),generatedColumn:Se.getArg(e,"column")},n=Hne.search(r,this._sections,function(o,s){let a=o.generatedLine-s.generatedOffset.generatedLine;return a||o.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,r){for(let n=0;n<this._sections.length;n++){let o=this._sections[n].consumer.sourceContentFor(e,!0);if(o)return o}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let r=0;r<this._sections.length;r++){let{consumer:n}=this._sections[r];if(n._findSourceIndex(e)!==-1)return r}return-1}generatedPositionFor(e){let r=this._findSectionIndex(Se.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null,o=n&&n.consumer.generatedPositionFor(e);if(o&&o.line!==null){let s=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=a,typeof o.lastColumn=="number"&&(o.lastColumn+=a)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let r=this._findSectionIndex(Se.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null;return n?n.consumer.allGeneratedPositionsFor(e).map(o=>{let s=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=a,typeof o.lastColumn=="number"&&(o.lastColumn+=a)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}):[]}eachMapping(e,r,n){this._sections.forEach((i,o)=>{let s=o+1<this._sections.length?this._sections[o+1]:null,{generatedOffset:a}=i,c=a.generatedLine-1,u=a.generatedColumn-1;i.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=u,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=u)),l.lastGeneratedColumn===1/0&&s&&l.generatedLine===s.generatedOffset.generatedLine&&(l.lastGeneratedColumn=s.generatedOffset.generatedColumn-2),l.generatedLine+=c,e.call(this,l)},r,n)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};Sy.IndexedSourceMapConsumer=Iy;function bne(t,e){let r=t;typeof t=="string"&&(r=Se.parseSourceMapInput(t));let n=r.sections!=null?new Iy(r,e):new _l(r,e);return Promise.resolve(n)}function wne(t,e){return _l.fromSourceMap(t,e)}});var T1=y(L1=>{var xne=HI().SourceMapGenerator,Ey=fh(),_ne=/(\r?\n)/,Ane=10,Al="$$$isSourceNode$$$",_I=class t{constructor(e,r,n,i,o){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=n??null,this.name=o??null,this[Al]=!0,i!=null&&this.add(i)}static fromStringWithSourceMap(e,r,n){let i=new t,o=e.split(_ne),s=0,a=function(){let m=g(),f=g()||"";return m+f;function g(){return s<o.length?o[s++]:void 0}},c=1,u=0,l=null,p;return r.eachMapping(function(m){if(l!==null)if(c<m.generatedLine)d(l,a()),c++,u=0;else{p=o[s]||"";let f=p.substr(0,m.generatedColumn-u);o[s]=p.substr(m.generatedColumn-u),u=m.generatedColumn,d(l,f),l=m;return}for(;c<m.generatedLine;)i.add(a()),c++;u<m.generatedColumn&&(p=o[s]||"",i.add(p.substr(0,m.generatedColumn)),o[s]=p.substr(m.generatedColumn),u=m.generatedColumn),l=m},this),s<o.length&&(l&&d(l,a()),i.add(o.splice(s).join(""))),r.sources.forEach(function(m){let f=r.sourceContentFor(m);f!=null&&(n!=null&&(m=Ey.join(n,m)),i.setSourceContent(m,f))}),i;function d(m,f){if(m===null||m.source===void 0)i.add(f);else{let g=n?Ey.join(n,m.source):m.source;i.add(new t(m.originalLine,m.originalColumn,g,f,m.name))}}}add(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[Al]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[Al]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let r;for(let n=0,i=this.children.length;n<i;n++)r=this.children[n],r[Al]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this}replaceRight(e,r){let n=this.children[this.children.length-1];return n[Al]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this}setSourceContent(e,r){this.sourceContents[Ey.toSetString(e)]=r}walkSourceContents(e){for(let n=0,i=this.children.length;n<i;n++)this.children[n][Al]&&this.children[n].walkSourceContents(e);let r=Object.keys(this.sourceContents);for(let n=0,i=r.length;n<i;n++)e(Ey.fromSetString(r[n]),this.sourceContents[r[n]])}toString(){let e="";return this.walk(function(r){e+=r}),e}toStringWithSourceMap(e){let r={code:"",line:1,column:0},n=new xne(e),i=!1,o=null,s=null,a=null,c=null;return this.walk(function(u,l){r.code+=u,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||s!==l.line||a!==l.column||c!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),o=l.source,s=l.line,a=l.column,c=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(let p=0,d=u.length;p<d;p++)u.charCodeAt(p)===Ane?(r.line++,r.column=0,p+1===d?(o=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(u,l){n.setSourceContent(u,l)}),{code:r.code,map:n}}};L1.SourceNode=_I});var Cy=y(Dy=>{Dy.SourceMapGenerator=HI().SourceMapGenerator;Dy.SourceMapConsumer=P1().SourceMapConsumer;Dy.SourceNode=T1().SourceNode});var RO=y((lDe,Sh)=>{var $O={};$O.__wbindgen_placeholder__=Sh.exports;var Ei,{TextDecoder:Qne}=require("util"),kO=new Qne("utf-8",{ignoreBOM:!0,fatal:!0});kO.decode();var sv=null;function GI(){return(sv===null||sv.buffer!==Ei.memory.buffer)&&(sv=new Uint8Array(Ei.memory.buffer)),sv}function Zne(t,e){return kO.decode(GI().subarray(t,t+e))}var WI=0;function TO(t,e){let r=e(t.length*1);return GI().set(t,r/1),WI=t.length,r}var VI=class t{static __wrap(e){let r=Object.create(t.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();Ei.__wbg_hasher_free(e)}constructor(){var e=Ei.hasher_new();return t.__wrap(e)}update(e){var r=TO(e,Ei.__wbindgen_malloc),n=WI;Ei.hasher_update(this.ptr,r,n)}digest(e){try{var r=TO(e,Ei.__wbindgen_malloc),n=WI;Ei.hasher_digest(this.ptr,r,n)}finally{e.set(GI().subarray(r/1,r/1+n)),Ei.__wbindgen_free(r,n*1)}}};Sh.exports.Hasher=VI;Sh.exports.__wbindgen_throw=function(t,e){throw new Error(Zne(t,e))};var eie=require("path").join(__dirname,"chromehash_bg.wasm"),tie=require("fs").readFileSync(eie),rie=new WebAssembly.Module(tie),nie=new WebAssembly.Instance(rie,$O);Ei=nie.exports;Sh.exports.__wasm=Ei});var jO=y(wo=>{"use strict";Object.defineProperty(wo,"__esModule",{value:!0});wo.shaHashFile=wo.hashFile=wo.shaHash=wo.hash=void 0;var FO=RO(),BO=require("fs"),MO=require("string_decoder"),NO=require("crypto"),cv=Buffer.alloc(4*5),iie=t=>{let e=new FO.Hasher;return e.update(cie(t)),e.digest(cv),e.free(),cv.toString("hex")};wo.hash=iie;var oie=t=>{let e=(0,NO.createHash)("sha256");return e.update(uie(t)),e.digest("hex")};wo.shaHash=oie;var sie=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=new FO.Hasher,i;try{i=await BO.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(lv(s))for(n.update(s.slice(2));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else if(pv(s))for(n.update(s.slice(2).swap16());o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead).swap16());else if(uv(s)){let a=new MO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s.slice(3)),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}else{let a=new MO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}return n.digest(cv),cv.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};wo.hashFile=sie;var av={stream:!0},aie=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=(0,NO.createHash)("sha256"),i;try{i=await BO.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(lv(s)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(s.slice(2),av));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),av))}else if(pv(s)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(s.slice(2),av));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),av))}else if(uv(s))for(n.update(s.slice(3));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else for(n.update(s);o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));return n.digest("hex")}finally{await i?.close()}};wo.shaHashFile=aie;var uv=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,lv=t=>t.length>=2&&t[0]===255&&t[1]===254,pv=t=>t.length>=2&&t[0]===254&&t[1]===255,cie=t=>uv(t)?OO(t.slice(3)):lv(t)?t.slice(2):pv(t)?t.slice(2).swap16():OO(t),uie=t=>uv(t)?t.slice(3):lv(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):pv(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,OO=t=>Buffer.from(t.toString("utf8"),"utf16le")});var xv=y(Jn=>{"use strict";Jn.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Jn.find=(t,e)=>t.nodes.find(r=>r.type===e);Jn.exceedsLimit=(t,e,r=1,n)=>n===!1||!Jn.isInteger(t)||!Jn.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;Jn.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Jn.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);Jn.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Jn.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Jn.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Jn.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var _v=y((oPe,pF)=>{"use strict";var lF=xv();pF.exports=(t,e={})=>{let r=(n,i={})=>{let o=e.escapeInvalid&&lF.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||s)&&lF.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var fF=y((sPe,dF)=>{"use strict";dF.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var xF=y((aPe,wF)=>{"use strict";var hF=fF(),Xc=(t,e,r)=>{if(hF(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(hF(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+i+o+s+a;if(Xc.cache.hasOwnProperty(c))return Xc.cache[c].result;let u=Math.min(t,e),l=Math.max(t,e);if(Math.abs(u-l)===1){let g=t+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=bF(t)||bF(e),d={min:t,max:e,a:u,b:l},m=[],f=[];if(p&&(d.isPadded=p,d.maxLen=String(d.max).length),u<0){let g=l<0?Math.abs(l):1;f=mF(g,Math.abs(u),d,n),u=d.a=0}return l>=0&&(m=mF(u,l,d,n)),d.negatives=f,d.positives=m,d.result=Cie(f,m,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&m.length+f.length>1&&(d.result=`(?:${d.result})`),Xc.cache[c]=d,d.result};function Cie(t,e,r){let n=QI(t,e,"-",!1,r)||[],i=QI(e,t,"",!1,r)||[],o=QI(t,e,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function Pie(t,e){let r=1,n=1,i=HF(t,r),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),r+=1,i=HF(t,r);for(i=yF(e+1,n)-1;t<i&&i<=e;)o.add(i),n+=1,i=yF(e+1,n)-1;return o=[...o],o.sort($ie),o}function Lie(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=Tie(t,e),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[c,u]=n[a];c===u?o+=c:c!=="0"||u!=="9"?o+=kie(c,u,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function mF(t,e,r,n){let i=Pie(t,e),o=[],s=t,a;for(let c=0;c<i.length;c++){let u=i[c],l=Lie(String(s),String(u),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+vF(a.count),s=u+1;continue}r.isPadded&&(p=Rie(u,r,n)),l.string=p+l.pattern+vF(l.count),o.push(l),s=u+1,a=l}return o}function QI(t,e,r,n,i){let o=[];for(let s of t){let{string:a}=s;!n&&!gF(e,"string",a)&&o.push(r+a),n&&gF(e,"string",a)&&o.push(r+a)}return o}function Tie(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function $ie(t,e){return t>e?1:e>t?-1:0}function gF(t,e,r){return t.some(n=>n[e]===r)}function HF(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function yF(t,e){return t-t%Math.pow(10,e)}function vF(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function kie(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function bF(t){return/^-?(0+)\d/.test(t)}function Rie(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Xc.cache={};Xc.clearCache=()=>Xc.cache={};wF.exports=Xc});var tS=y((cPe,PF)=>{"use strict";var Mie=require("util"),IF=xF(),_F=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),Oie=t=>e=>t===!0?Number(e):String(e),ZI=t=>typeof t=="number"||typeof t=="string"&&t!=="",Ch=t=>Number.isInteger(+t),eS=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},Fie=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,Bie=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},AF=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},Nie=(t,e)=>{t.negatives.sort((s,a)=>s<a?-1:s>a?1:0),t.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=e.capture?"":"?:",n="",i="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,e.wrap?`(${r}${o})`:o},SF=(t,e,r,n)=>{if(r)return IF(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);if(t===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},EF=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return IF(t,e,r)},DF=(...t)=>new RangeError("Invalid range arguments: "+Mie.inspect(...t)),CF=(t,e,r)=>{if(r.strictRanges===!0)throw DF([t,e]);return[]},jie=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},Uie=(t,e,r=1,n={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw DF([t,e]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(t),c=String(e),u=String(r);r=Math.max(Math.abs(r),1);let l=eS(a)||eS(c)||eS(u),p=l?Math.max(a.length,c.length,u.length):0,d=l===!1&&Fie(t,e,n)===!1,m=n.transform||Oie(d);if(n.toRegex&&r===1)return SF(AF(t,p),AF(e,p),!0,n);let f={negatives:[],positives:[]},g=C=>f[C<0?"negatives":"positives"].push(Math.abs(C)),v=[],x=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):v.push(Bie(m(i,x),p,d)),i=s?i-r:i+r,x++;return n.toRegex===!0?r>1?Nie(f,n):EF(v,null,{wrap:!1,...n}):v},qie=(t,e,r=1,n={})=>{if(!Ch(t)&&t.length>1||!Ch(e)&&e.length>1)return CF(t,e,n);let i=n.transform||(d=>String.fromCharCode(d)),o=`${t}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,c=Math.min(o,s),u=Math.max(o,s);if(n.toRegex&&r===1)return SF(c,u,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-r:o+r,p++;return n.toRegex===!0?EF(l,null,{wrap:!1,options:n}):l},Av=(t,e,r,n={})=>{if(e==null&&ZI(t))return[t];if(!ZI(t)||!ZI(e))return CF(t,e,n);if(typeof r=="function")return Av(t,e,1,{transform:r});if(_F(r))return Av(t,e,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Ch(r)?Ch(t)&&Ch(e)?Uie(t,e,r,i):qie(t,e,Math.max(Math.abs(r),1),i):r!=null&&!_F(r)?jie(r,i):Av(t,e,1,r)};PF.exports=Av});var $F=y((uPe,TF)=>{"use strict";var Wie=tS(),LF=xv(),Vie=(t,e={})=>{let r=(n,i={})=>{let o=LF.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||s===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=LF.reduce(n.nodes),p=Wie(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)u+=r(l,n);return u};return r(t)};TF.exports=Vie});var MF=y((lPe,RF)=>{"use strict";var Gie=tS(),kF=_v(),Kl=xv(),Jc=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Kl.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let o of i)n.push(Jc(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Jc(i,o,r):i+o);return Kl.flatten(n)},zie=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Jc(a.pop(),kF(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Jc(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Kl.reduce(i.nodes);if(Kl.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=Gie(...p,e);d.length===0&&(d=kF(i,e)),a.push(Jc(a.pop(),d)),i.nodes=[];return}let c=Kl.encloseBrace(i),u=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<i.nodes.length;p++){let d=i.nodes[p];if(d.type==="comma"&&i.type==="brace"){p===1&&u.push(""),u.push("");continue}if(d.type==="close"){a.push(Jc(a.pop(),u,c));continue}if(d.value&&d.type!=="open"){u.push(Jc(u.pop(),d.value));continue}d.nodes&&n(d,i)}return u};return Kl.flatten(n(t))};RF.exports=zie});var FF=y((pPe,OF)=>{"use strict";OF.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var qF=y((dPe,UF)=>{"use strict";var Kie=_v(),{MAX_LENGTH:BF,CHAR_BACKSLASH:rS,CHAR_BACKTICK:Xie,CHAR_COMMA:Jie,CHAR_DOT:Yie,CHAR_LEFT_PARENTHESES:Qie,CHAR_RIGHT_PARENTHESES:Zie,CHAR_LEFT_CURLY_BRACE:eoe,CHAR_RIGHT_CURLY_BRACE:toe,CHAR_LEFT_SQUARE_BRACKET:NF,CHAR_RIGHT_SQUARE_BRACKET:jF,CHAR_DOUBLE_QUOTE:roe,CHAR_SINGLE_QUOTE:noe,CHAR_NO_BREAK_SPACE:ioe,CHAR_ZERO_WIDTH_NOBREAK_SPACE:ooe}=FF(),soe=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(BF,r.maxLength):BF;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},o=[i],s=i,a=i,c=0,u=t.length,l=0,p=0,d,m={},f=()=>t[l++],g=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=a,a=v,v};for(g({type:"bos"});l<u;)if(s=o[o.length-1],d=f(),!(d===ooe||d===ioe)){if(d===rS){g({type:"text",value:(e.keepEscaping?d:"")+f()});continue}if(d===jF){g({type:"text",value:"\\"+d});continue}if(d===NF){c++;let v=!0,x;for(;l<u&&(x=f());){if(d+=x,x===NF){c++;continue}if(x===rS){d+=f();continue}if(x===jF&&(c--,c===0))break}g({type:"text",value:d});continue}if(d===Qie){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:d});continue}if(d===Zie){if(s.type!=="paren"){g({type:"text",value:d});continue}s=o.pop(),g({type:"text",value:d}),s=o[o.length-1];continue}if(d===roe||d===noe||d===Xie){let v=d,x;for(e.keepQuotes!==!0&&(d="");l<u&&(x=f());){if(x===rS){d+=x+f();continue}if(x===v){e.keepQuotes===!0&&(d+=x);break}d+=x}g({type:"text",value:d});continue}if(d===eoe){p++;let x={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=g(x),o.push(s),g({type:"open",value:d});continue}if(d===toe){if(s.type!=="brace"){g({type:"text",value:d});continue}let v="close";s=o.pop(),s.close=!0,g({type:v,value:d}),p--,s=o[o.length-1];continue}if(d===Jie&&p>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:Kie(s)}]}g({type:"comma",value:d}),s.commas++;continue}if(d===Yie&&p>0&&s.commas===0){let v=s.nodes;if(p===0||v.length===0){g({type:"text",value:d});continue}if(a.type==="dot"){if(s.range=[],a.value+=d,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){v.pop();let x=v[v.length-1];x.value+=a.value+d,a=x,s.ranges--;continue}g({type:"dot",value:d});continue}g({type:"text",value:d})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(C=>{C.nodes||(C.type==="open"&&(C.isOpen=!0),C.type==="close"&&(C.isClose=!0),C.nodes||(C.type="text"),C.invalid=!0)});let v=o[o.length-1],x=v.nodes.indexOf(s);v.nodes.splice(x,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};UF.exports=soe});var GF=y((fPe,VF)=>{"use strict";var WF=_v(),aoe=$F(),coe=MF(),uoe=qF(),En=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=En.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(En.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};En.parse=(t,e={})=>uoe(t,e);En.stringify=(t,e={})=>WF(typeof t=="string"?En.parse(t,e):t,e);En.compile=(t,e={})=>(typeof t=="string"&&(t=En.parse(t,e)),aoe(t,e));En.expand=(t,e={})=>{typeof t=="string"&&(t=En.parse(t,e));let r=coe(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};En.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?En.compile(t,e):En.expand(t,e);VF.exports=En});var Ph=y((hPe,YF)=>{"use strict";var loe=require("path"),_o="\\\\/",zF=`[^${_o}]`,us="\\.",poe="\\+",doe="\\?",Iv="\\/",foe="(?=.)",KF="[^/]",nS=`(?:${Iv}|$)`,XF=`(?:^|${Iv})`,iS=`${us}{1,2}${nS}`,hoe=`(?!${us})`,moe=`(?!${XF}${iS})`,goe=`(?!${us}{0,1}${nS})`,Hoe=`(?!${iS})`,yoe=`[^.${Iv}]`,voe=`${KF}*?`,JF={DOT_LITERAL:us,PLUS_LITERAL:poe,QMARK_LITERAL:doe,SLASH_LITERAL:Iv,ONE_CHAR:foe,QMARK:KF,END_ANCHOR:nS,DOTS_SLASH:iS,NO_DOT:hoe,NO_DOTS:moe,NO_DOT_SLASH:goe,NO_DOTS_SLASH:Hoe,QMARK_NO_DOT:yoe,STAR:voe,START_ANCHOR:XF},boe={...JF,SLASH_LITERAL:`[${_o}]`,QMARK:zF,STAR:`${zF}*?`,DOTS_SLASH:`${us}{1,2}(?:[${_o}]|$)`,NO_DOT:`(?!${us})`,NO_DOTS:`(?!(?:^|[${_o}])${us}{1,2}(?:[${_o}]|$))`,NO_DOT_SLASH:`(?!${us}{0,1}(?:[${_o}]|$))`,NO_DOTS_SLASH:`(?!${us}{1,2}(?:[${_o}]|$))`,QMARK_NO_DOT:`[^.${_o}]`,START_ANCHOR:`(?:^|[${_o}])`,END_ANCHOR:`(?:[${_o}]|$)`},woe={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};YF.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:woe,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:loe.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?boe:JF}}});var Lh=y(un=>{"use strict";var xoe=require("path"),_oe=process.platform==="win32",{REGEX_BACKSLASH:Aoe,REGEX_REMOVE_BACKSLASH:Ioe,REGEX_SPECIAL_CHARS:Soe,REGEX_SPECIAL_CHARS_GLOBAL:Eoe}=Ph();un.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);un.hasRegexChars=t=>Soe.test(t);un.isRegexChar=t=>t.length===1&&un.hasRegexChars(t);un.escapeRegex=t=>t.replace(Eoe,"\\$1");un.toPosixSlashes=t=>t.replace(Aoe,"/");un.removeBackslashes=t=>t.replace(Ioe,e=>e==="\\"?"":e);un.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};un.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:_oe===!0||xoe.sep==="\\";un.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?un.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};un.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};un.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${t})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var oB=y((gPe,iB)=>{"use strict";var QF=Lh(),{CHAR_ASTERISK:oS,CHAR_AT:Doe,CHAR_BACKWARD_SLASH:Th,CHAR_COMMA:Coe,CHAR_DOT:sS,CHAR_EXCLAMATION_MARK:aS,CHAR_FORWARD_SLASH:nB,CHAR_LEFT_CURLY_BRACE:cS,CHAR_LEFT_PARENTHESES:uS,CHAR_LEFT_SQUARE_BRACKET:Poe,CHAR_PLUS:Loe,CHAR_QUESTION_MARK:ZF,CHAR_RIGHT_CURLY_BRACE:Toe,CHAR_RIGHT_PARENTHESES:eB,CHAR_RIGHT_SQUARE_BRACKET:$oe}=Ph(),tB=t=>t===nB||t===Th,rB=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},koe=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],c=t,u=-1,l=0,p=0,d=!1,m=!1,f=!1,g=!1,v=!1,x=!1,C=!1,$=!1,T=!1,R=!1,J=0,X,F,M={value:"",depth:0,isGlob:!1},O=()=>u>=n,D=()=>c.charCodeAt(u+1),W=()=>(X=F,c.charCodeAt(++u));for(;u<n;){F=W();let K;if(F===Th){C=M.backslashes=!0,F=W(),F===cS&&(x=!0);continue}if(x===!0||F===cS){for(J++;O()!==!0&&(F=W());){if(F===Th){C=M.backslashes=!0,W();continue}if(F===cS){J++;continue}if(x!==!0&&F===sS&&(F=W())===sS){if(d=M.isBrace=!0,f=M.isGlob=!0,R=!0,i===!0)continue;break}if(x!==!0&&F===Coe){if(d=M.isBrace=!0,f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===Toe&&(J--,J===0)){x=!1,d=M.isBrace=!0,R=!0;break}}if(i===!0)continue;break}if(F===nB){if(o.push(u),s.push(M),M={value:"",depth:0,isGlob:!1},R===!0)continue;if(X===sS&&u===l+1){l+=2;continue}p=u+1;continue}if(r.noext!==!0&&(F===Loe||F===Doe||F===oS||F===ZF||F===aS)===!0&&D()===uS){if(f=M.isGlob=!0,g=M.isExtglob=!0,R=!0,F===aS&&u===l&&(T=!0),i===!0){for(;O()!==!0&&(F=W());){if(F===Th){C=M.backslashes=!0,F=W();continue}if(F===eB){f=M.isGlob=!0,R=!0;break}}continue}break}if(F===oS){if(X===oS&&(v=M.isGlobstar=!0),f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===ZF){if(f=M.isGlob=!0,R=!0,i===!0)continue;break}if(F===Poe){for(;O()!==!0&&(K=W());){if(K===Th){C=M.backslashes=!0,W();continue}if(K===$oe){m=M.isBracket=!0,f=M.isGlob=!0,R=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&F===aS&&u===l){$=M.negated=!0,l++;continue}if(r.noparen!==!0&&F===uS){if(f=M.isGlob=!0,i===!0){for(;O()!==!0&&(F=W());){if(F===uS){C=M.backslashes=!0,F=W();continue}if(F===eB){R=!0;break}}continue}break}if(f===!0){if(R=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,f=!1);let B=c,G="",S="";l>0&&(G=c.slice(0,l),c=c.slice(l),p-=l),B&&f===!0&&p>0?(B=c.slice(0,p),S=c.slice(p)):f===!0?(B="",S=c):B=c,B&&B!==""&&B!=="/"&&B!==c&&tB(B.charCodeAt(B.length-1))&&(B=B.slice(0,-1)),r.unescape===!0&&(S&&(S=QF.removeBackslashes(S)),B&&C===!0&&(B=QF.removeBackslashes(B)));let L={prefix:G,input:t,start:l,base:B,glob:S,isBrace:d,isBracket:m,isGlob:f,isExtglob:g,isGlobstar:v,negated:$,negatedExtglob:T};if(r.tokens===!0&&(L.maxDepth=0,tB(F)||s.push(M),L.tokens=s),r.parts===!0||r.tokens===!0){let K;for(let z=0;z<o.length;z++){let ee=K?K+1:l,ne=o[z],Q=t.slice(ee,ne);r.tokens&&(z===0&&l!==0?(s[z].isPrefix=!0,s[z].value=G):s[z].value=Q,rB(s[z]),L.maxDepth+=s[z].depth),(z!==0||Q!=="")&&a.push(Q),K=ne}if(K&&K+1<t.length){let z=t.slice(K+1);a.push(z),r.tokens&&(s[s.length-1].value=z,rB(s[s.length-1]),L.maxDepth+=s[s.length-1].depth)}L.slashes=o,L.parts=a}return L};iB.exports=koe});var cB=y((HPe,aB)=>{"use strict";var Sv=Ph(),Dn=Lh(),{MAX_LENGTH:Ev,POSIX_REGEX_SOURCE:Roe,REGEX_NON_SPECIAL_CHARS:Moe,REGEX_SPECIAL_CHARS_BACKREF:Ooe,REPLACEMENTS:sB}=Sv,Foe=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>Dn.escapeRegex(i)).join("..")}return r},Xl=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,lS=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=sB[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(Ev,r.maxLength):Ev,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",c=Dn.isWindows(e),u=Sv.globChars(c),l=Sv.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:d,SLASH_LITERAL:m,ONE_CHAR:f,DOTS_SLASH:g,NO_DOT:v,NO_DOT_SLASH:x,NO_DOTS_SLASH:C,QMARK:$,QMARK_NO_DOT:T,STAR:R,START_ANCHOR:J}=u,X=ie=>`(${a}(?:(?!${J}${ie.dot?g:p}).)*?)`,F=r.dot?"":v,M=r.dot?$:T,O=r.bash===!0?X(r):R;r.capture&&(O=`(${O})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let D={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=Dn.removePrefix(t,D),i=t.length;let W=[],B=[],G=[],S=o,L,K=()=>D.index===i-1,z=D.peek=(ie=1)=>t[D.index+ie],ee=D.advance=()=>t[++D.index]||"",ne=()=>t.slice(D.index+1),Q=(ie="",Te=0)=>{D.consumed+=ie,D.index+=Te},pe=ie=>{D.output+=ie.output!=null?ie.output:ie.value,Q(ie.value)},Ae=()=>{let ie=1;for(;z()==="!"&&(z(2)!=="("||z(3)==="?");)ee(),D.start++,ie++;return ie%2===0?!1:(D.negated=!0,D.start++,!0)},me=ie=>{D[ie]++,G.push(ie)},Xe=ie=>{D[ie]--,G.pop()},ge=ie=>{if(S.type==="globstar"){let Te=D.braces>0&&(ie.type==="comma"||ie.type==="brace"),te=ie.extglob===!0||W.length&&(ie.type==="pipe"||ie.type==="paren");ie.type!=="slash"&&ie.type!=="paren"&&!Te&&!te&&(D.output=D.output.slice(0,-S.output.length),S.type="star",S.value="*",S.output=O,D.output+=S.output)}if(W.length&&ie.type!=="paren"&&(W[W.length-1].inner+=ie.value),(ie.value||ie.output)&&pe(ie),S&&S.type==="text"&&ie.type==="text"){S.value+=ie.value,S.output=(S.output||"")+ie.value;return}ie.prev=S,s.push(ie),S=ie},Jt=(ie,Te)=>{let te={...l[Te],conditions:1,inner:""};te.prev=S,te.parens=D.parens,te.output=D.output;let ve=(r.capture?"(":"")+te.open;me("parens"),ge({type:ie,value:Te,output:D.output?"":f}),ge({type:"paren",extglob:!0,value:ee(),output:ve}),W.push(te)},Je=ie=>{let Te=ie.close+(r.capture?")":""),te;if(ie.type==="negate"){let ve=O;if(ie.inner&&ie.inner.length>1&&ie.inner.includes("/")&&(ve=X(r)),(ve!==O||K()||/^\)+$/.test(ne()))&&(Te=ie.close=`)$))${ve}`),ie.inner.includes("*")&&(te=ne())&&/^\.[^\\/.]+$/.test(te)){let qe=lS(te,{...e,fastpaths:!1}).output;Te=ie.close=`)${qe})${ve})`}ie.prev.type==="bos"&&(D.negatedExtglob=!0)}ge({type:"paren",extglob:!0,value:L,output:Te}),Xe("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let ie=!1,Te=t.replace(Ooe,(te,ve,qe,yt,_t,zs)=>yt==="\\"?(ie=!0,te):yt==="?"?ve?ve+yt+(_t?$.repeat(_t.length):""):zs===0?M+(_t?$.repeat(_t.length):""):$.repeat(qe.length):yt==="."?p.repeat(qe.length):yt==="*"?ve?ve+yt+(_t?O:""):O:ve?te:`\\${te}`);return ie===!0&&(r.unescape===!0?Te=Te.replace(/\\/g,""):Te=Te.replace(/\\+/g,te=>te.length%2===0?"\\\\":te?"\\":"")),Te===t&&r.contains===!0?(D.output=t,D):(D.output=Dn.wrapOutput(Te,D,e),D)}for(;!K();){if(L=ee(),L==="\0")continue;if(L==="\\"){let te=z();if(te==="/"&&r.bash!==!0||te==="."||te===";")continue;if(!te){L+="\\",ge({type:"text",value:L});continue}let ve=/^\\+/.exec(ne()),qe=0;if(ve&&ve[0].length>2&&(qe=ve[0].length,D.index+=qe,qe%2!==0&&(L+="\\")),r.unescape===!0?L=ee():L+=ee(),D.brackets===0){ge({type:"text",value:L});continue}}if(D.brackets>0&&(L!=="]"||S.value==="["||S.value==="[^")){if(r.posix!==!1&&L===":"){let te=S.value.slice(1);if(te.includes("[")&&(S.posix=!0,te.includes(":"))){let ve=S.value.lastIndexOf("["),qe=S.value.slice(0,ve),yt=S.value.slice(ve+2),_t=Roe[yt];if(_t){S.value=qe+_t,D.backtrack=!0,ee(),!o.output&&s.indexOf(S)===1&&(o.output=f);continue}}}(L==="["&&z()!==":"||L==="-"&&z()==="]")&&(L=`\\${L}`),L==="]"&&(S.value==="["||S.value==="[^")&&(L=`\\${L}`),r.posix===!0&&L==="!"&&S.value==="["&&(L="^"),S.value+=L,pe({value:L});continue}if(D.quotes===1&&L!=='"'){L=Dn.escapeRegex(L),S.value+=L,pe({value:L});continue}if(L==='"'){D.quotes=D.quotes===1?0:1,r.keepQuotes===!0&&ge({type:"text",value:L});continue}if(L==="("){me("parens"),ge({type:"paren",value:L});continue}if(L===")"){if(D.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Xl("opening","("));let te=W[W.length-1];if(te&&D.parens===te.parens+1){Je(W.pop());continue}ge({type:"paren",value:L,output:D.parens?")":"\\)"}),Xe("parens");continue}if(L==="["){if(r.nobracket===!0||!ne().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Xl("closing","]"));L=`\\${L}`}else me("brackets");ge({type:"bracket",value:L});continue}if(L==="]"){if(r.nobracket===!0||S&&S.type==="bracket"&&S.value.length===1){ge({type:"text",value:L,output:`\\${L}`});continue}if(D.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Xl("opening","["));ge({type:"text",value:L,output:`\\${L}`});continue}Xe("brackets");let te=S.value.slice(1);if(S.posix!==!0&&te[0]==="^"&&!te.includes("/")&&(L=`/${L}`),S.value+=L,pe({value:L}),r.literalBrackets===!1||Dn.hasRegexChars(te))continue;let ve=Dn.escapeRegex(S.value);if(D.output=D.output.slice(0,-S.value.length),r.literalBrackets===!0){D.output+=ve,S.value=ve;continue}S.value=`(${a}${ve}|${S.value})`,D.output+=S.value;continue}if(L==="{"&&r.nobrace!==!0){me("braces");let te={type:"brace",value:L,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};B.push(te),ge(te);continue}if(L==="}"){let te=B[B.length-1];if(r.nobrace===!0||!te){ge({type:"text",value:L,output:L});continue}let ve=")";if(te.dots===!0){let qe=s.slice(),yt=[];for(let _t=qe.length-1;_t>=0&&(s.pop(),qe[_t].type!=="brace");_t--)qe[_t].type!=="dots"&&yt.unshift(qe[_t].value);ve=Foe(yt,r),D.backtrack=!0}if(te.comma!==!0&&te.dots!==!0){let qe=D.output.slice(0,te.outputIndex),yt=D.tokens.slice(te.tokensIndex);te.value=te.output="\\{",L=ve="\\}",D.output=qe;for(let _t of yt)D.output+=_t.output||_t.value}ge({type:"brace",value:L,output:ve}),Xe("braces"),B.pop();continue}if(L==="|"){W.length>0&&W[W.length-1].conditions++,ge({type:"text",value:L});continue}if(L===","){let te=L,ve=B[B.length-1];ve&&G[G.length-1]==="braces"&&(ve.comma=!0,te="|"),ge({type:"comma",value:L,output:te});continue}if(L==="/"){if(S.type==="dot"&&D.index===D.start+1){D.start=D.index+1,D.consumed="",D.output="",s.pop(),S=o;continue}ge({type:"slash",value:L,output:m});continue}if(L==="."){if(D.braces>0&&S.type==="dot"){S.value==="."&&(S.output=p);let te=B[B.length-1];S.type="dots",S.output+=L,S.value+=L,te.dots=!0;continue}if(D.braces+D.parens===0&&S.type!=="bos"&&S.type!=="slash"){ge({type:"text",value:L,output:p});continue}ge({type:"dot",value:L,output:p});continue}if(L==="?"){if(!(S&&S.value==="(")&&r.noextglob!==!0&&z()==="("&&z(2)!=="?"){Jt("qmark",L);continue}if(S&&S.type==="paren"){let ve=z(),qe=L;if(ve==="<"&&!Dn.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(S.value==="("&&!/[!=<:]/.test(ve)||ve==="<"&&!/<([!=]|\w+>)/.test(ne()))&&(qe=`\\${L}`),ge({type:"text",value:L,output:qe});continue}if(r.dot!==!0&&(S.type==="slash"||S.type==="bos")){ge({type:"qmark",value:L,output:T});continue}ge({type:"qmark",value:L,output:$});continue}if(L==="!"){if(r.noextglob!==!0&&z()==="("&&(z(2)!=="?"||!/[!=<:]/.test(z(3)))){Jt("negate",L);continue}if(r.nonegate!==!0&&D.index===0){Ae();continue}}if(L==="+"){if(r.noextglob!==!0&&z()==="("&&z(2)!=="?"){Jt("plus",L);continue}if(S&&S.value==="("||r.regex===!1){ge({type:"plus",value:L,output:d});continue}if(S&&(S.type==="bracket"||S.type==="paren"||S.type==="brace")||D.parens>0){ge({type:"plus",value:L});continue}ge({type:"plus",value:d});continue}if(L==="@"){if(r.noextglob!==!0&&z()==="("&&z(2)!=="?"){ge({type:"at",extglob:!0,value:L,output:""});continue}ge({type:"text",value:L});continue}if(L!=="*"){(L==="$"||L==="^")&&(L=`\\${L}`);let te=Moe.exec(ne());te&&(L+=te[0],D.index+=te[0].length),ge({type:"text",value:L});continue}if(S&&(S.type==="globstar"||S.star===!0)){S.type="star",S.star=!0,S.value+=L,S.output=O,D.backtrack=!0,D.globstar=!0,Q(L);continue}let ie=ne();if(r.noextglob!==!0&&/^\([^?]/.test(ie)){Jt("star",L);continue}if(S.type==="star"){if(r.noglobstar===!0){Q(L);continue}let te=S.prev,ve=te.prev,qe=te.type==="slash"||te.type==="bos",yt=ve&&(ve.type==="star"||ve.type==="globstar");if(r.bash===!0&&(!qe||ie[0]&&ie[0]!=="/")){ge({type:"star",value:L,output:""});continue}let _t=D.braces>0&&(te.type==="comma"||te.type==="brace"),zs=W.length&&(te.type==="pipe"||te.type==="paren");if(!qe&&te.type!=="paren"&&!_t&&!zs){ge({type:"star",value:L,output:""});continue}for(;ie.slice(0,3)==="/**";){let Ks=t[D.index+4];if(Ks&&Ks!=="/")break;ie=ie.slice(3),Q("/**",3)}if(te.type==="bos"&&K()){S.type="globstar",S.value+=L,S.output=X(r),D.output=S.output,D.globstar=!0,Q(L);continue}if(te.type==="slash"&&te.prev.type!=="bos"&&!yt&&K()){D.output=D.output.slice(0,-(te.output+S.output).length),te.output=`(?:${te.output}`,S.type="globstar",S.output=X(r)+(r.strictSlashes?")":"|$)"),S.value+=L,D.globstar=!0,D.output+=te.output+S.output,Q(L);continue}if(te.type==="slash"&&te.prev.type!=="bos"&&ie[0]==="/"){let Ks=ie[1]!==void 0?"|$":"";D.output=D.output.slice(0,-(te.output+S.output).length),te.output=`(?:${te.output}`,S.type="globstar",S.output=`${X(r)}${m}|${m}${Ks})`,S.value+=L,D.output+=te.output+S.output,D.globstar=!0,Q(L+ee()),ge({type:"slash",value:"/",output:""});continue}if(te.type==="bos"&&ie[0]==="/"){S.type="globstar",S.value+=L,S.output=`(?:^|${m}|${X(r)}${m})`,D.output=S.output,D.globstar=!0,Q(L+ee()),ge({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-S.output.length),S.type="globstar",S.output=X(r),S.value+=L,D.output+=S.output,D.globstar=!0,Q(L);continue}let Te={type:"star",value:L,output:O};if(r.bash===!0){Te.output=".*?",(S.type==="bos"||S.type==="slash")&&(Te.output=F+Te.output),ge(Te);continue}if(S&&(S.type==="bracket"||S.type==="paren")&&r.regex===!0){Te.output=L,ge(Te);continue}(D.index===D.start||S.type==="slash"||S.type==="dot")&&(S.type==="dot"?(D.output+=x,S.output+=x):r.dot===!0?(D.output+=C,S.output+=C):(D.output+=F,S.output+=F),z()!=="*"&&(D.output+=f,S.output+=f)),ge(Te)}for(;D.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Xl("closing","]"));D.output=Dn.escapeLast(D.output,"["),Xe("brackets")}for(;D.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Xl("closing",")"));D.output=Dn.escapeLast(D.output,"("),Xe("parens")}for(;D.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Xl("closing","}"));D.output=Dn.escapeLast(D.output,"{"),Xe("braces")}if(r.strictSlashes!==!0&&(S.type==="star"||S.type==="bracket")&&ge({type:"maybe_slash",value:"",output:`${m}?`}),D.backtrack===!0){D.output="";for(let ie of D.tokens)D.output+=ie.output!=null?ie.output:ie.value,ie.suffix&&(D.output+=ie.suffix)}return D};lS.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(Ev,r.maxLength):Ev,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=sB[t]||t;let o=Dn.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:d,STAR:m,START_ANCHOR:f}=Sv.globChars(o),g=r.dot?p:l,v=r.dot?d:l,x=r.capture?"":"?:",C={negated:!1,prefix:""},$=r.bash===!0?".*?":m;r.capture&&($=`(${$})`);let T=F=>F.noglobstar===!0?$:`(${x}(?:(?!${f}${F.dot?u:s}).)*?)`,R=F=>{switch(F){case"*":return`${g}${c}${$}`;case".*":return`${s}${c}${$}`;case"*.*":return`${g}${$}${s}${c}${$}`;case"*/*":return`${g}${$}${a}${c}${v}${$}`;case"**":return g+T(r);case"**/*":return`(?:${g}${T(r)}${a})?${v}${c}${$}`;case"**/*.*":return`(?:${g}${T(r)}${a})?${v}${$}${s}${c}${$}`;case"**/.*":return`(?:${g}${T(r)}${a})?${s}${c}${$}`;default:{let M=/^(.*?)\.(\w+)$/.exec(F);if(!M)return;let O=R(M[1]);return O?O+s+M[2]:void 0}}},J=Dn.removePrefix(t,C),X=R(J);return X&&r.strictSlashes!==!0&&(X+=`${a}?`),X};aB.exports=lS});var lB=y((yPe,uB)=>{"use strict";var Boe=require("path"),Noe=oB(),pS=cB(),dS=Lh(),joe=Ph(),Uoe=t=>t&&typeof t=="object"&&!Array.isArray(t),Mt=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(d=>Mt(d,e,r));return d=>{for(let m of l){let f=m(d);if(f)return f}return!1}}let n=Uoe(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=dS.isWindows(e),s=n?Mt.compileRe(t,e):Mt.makeRe(t,e,!1,!0),a=s.state;delete s.state;let c=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=Mt(i.ignore,l,r)}let u=(l,p=!1)=>{let{isMatch:d,match:m,output:f}=Mt.test(l,s,e,{glob:t,posix:o}),g={glob:t,state:a,regex:s,posix:o,input:l,output:f,match:m,isMatch:d};return typeof i.onResult=="function"&&i.onResult(g),d===!1?(g.isMatch=!1,p?g:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return r&&(u.state=a),u};Mt.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?dS.toPosixSlashes:null),a=t===n,c=a&&s?s(t):t;return a===!1&&(c=s?s(t):t,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Mt.matchBase(t,e,r,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};Mt.matchBase=(t,e,r,n=dS.isWindows(r))=>(e instanceof RegExp?e:Mt.makeRe(e,r)).test(Boe.basename(t));Mt.isMatch=(t,e,r)=>Mt(e,r)(t);Mt.parse=(t,e)=>Array.isArray(t)?t.map(r=>Mt.parse(r,e)):pS(t,{...e,fastpaths:!1});Mt.scan=(t,e)=>Noe(t,e);Mt.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${t.output})${s}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Mt.toRegex(a,e);return n===!0&&(c.state=t),c};Mt.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=pS.fastpaths(t,e)),i.output||(i=pS(t,e)),Mt.compileRe(i,e,r,n)};Mt.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Mt.constants=joe;uB.exports=Mt});var dB=y((vPe,pB)=>{"use strict";pB.exports=lB()});var $h=y((bPe,gB)=>{"use strict";var hB=require("util"),mB=GF(),Ao=dB(),fS=Lh(),fB=t=>t===""||t==="./",wt=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=Ao(String(e[l]),{...r,onResult:a},!0),d=p.state.negated||p.state.negatedExtglob;d&&s++;for(let m of t){let f=p(m,!0);(d?!f.isMatch:f.isMatch)&&(d?n.add(f.output):(n.delete(f.output),i.add(f.output)))}}let u=(s===e.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&u.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};wt.match=wt;wt.matcher=(t,e)=>Ao(t,e);wt.isMatch=(t,e,r)=>Ao(e,r)(t);wt.any=wt.isMatch;wt.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=new Set(wt(t,e,{...r,onResult:o}));for(let a of i)s.has(a)||n.add(a);return[...n]};wt.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${hB.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>wt.contains(t,n,r));if(typeof e=="string"){if(fB(t)||fB(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return wt.isMatch(t,e,{...r,contains:!0})};wt.matchKeys=(t,e,r)=>{if(!fS.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=wt(Object.keys(t),e,r),i={};for(let o of n)i[o]=t[o];return i};wt.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=Ao(String(i),r);if(n.some(s=>o(s)))return!0}return!1};wt.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=Ao(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};wt.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${hB.inspect(t)}"`);return[].concat(e).every(n=>Ao(n,r)(t))};wt.capture=(t,e,r)=>{let n=fS.isWindows(r),o=Ao.makeRe(String(t),{...r,capture:!0}).exec(n?fS.toPosixSlashes(e):e);if(o)return o.slice(1).map(s=>s===void 0?"":s)};wt.makeRe=(...t)=>Ao.makeRe(...t);wt.scan=(...t)=>Ao.scan(...t);wt.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of mB(String(n),e))r.push(Ao.parse(i,e));return r};wt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:mB(t,e)};wt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return wt.braces(t,{...e,expand:!0})};gB.exports=wt});var bB=y(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});function Goe(t){let e=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(let s of t){let a=r,c=s.codePointAt(0),u=0-(-(c&4294967168)>>31)-(-(c&4294965248)>>31)-(-(c&4294901760)>>31),l=i[u],p=o[u];a[3]=p|c&l,a[2]=p|c>>>6&l,a[1]=p|c>>>12&l,a[0]=p|c>>>18&l;let d=3-u;a[d]|=n[u],Array.prototype.push.apply(e,a.slice(d))}return new Uint8Array(e)}ma.toUtf8_1=Goe;function zoe(t){let e=[];for(let r of t){let n=r.codePointAt(0);n<128?e.push(n):n<2048?e.push(192|n>>6&31,128|n&63):n<65536?e.push(224|n>>12&15,128|n>>6&63,128|n&63):e.push(240|n>>18&7,128|n>>12&63,128|n>>6&63,128|n&63)}return new Uint8Array(e)}ma.toUtf8_2=zoe;function vB(t){let e=[];for(let r=0,n=t.length;r<n;++r){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6,128|i&63);else if(i<55296||i>=57344)e.push(224|i>>12,128|i>>6&63,128|i&63);else{let o=65536+((i&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}}return new Uint8Array(e)}ma.toUtf8_3=vB;ma.toUtf8=vB;ma.default=ma.toUtf8});var _B=y(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});var Koe=bB(),Zl=2654435761,ep=2246822519,Dv=3266489917,wB=668265263,xB=374761393;function Xoe(t,e=0){t=typeof t=="string"?Koe.default(t):t;let r=t,n=e+xB&4294967295,i=0;if(r.length>=16){let s=[e+Zl+ep&4294967295,e+ep&4294967295,e+0&4294967295,e-Zl&4294967295],a=t,c=a.length-16,u=0;for(i=0;(i&4294967280)<=c;i+=4){let l=i,p=a[l+0]+(a[l+1]<<8),d=a[l+2]+(a[l+3]<<8),m=p*ep+(d*ep<<16),f=s[u]+m&4294967295;f=f<<13|f>>>19;let g=f&65535,v=f>>>16;s[u]=g*Zl+(v*Zl<<16)&4294967295,u=u+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let o=t.length-4;for(;i<=o;i+=4){let s=i,a=r[s+0]+(r[s+1]<<8),c=r[s+2]+(r[s+3]<<8),u=a*Dv+(c*Dv<<16);n=n+u&4294967295,n=n<<17|n>>>15,n=(n&65535)*wB+((n>>>16)*wB<<16)&4294967295}for(;i<r.length;++i){let s=r[i];n=n+s*xB,n=n<<11|n>>>21,n=(n&65535)*Zl+((n>>>16)*Zl<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*ep&4294967295)+((n>>>16)*ep<<16),n=n^n>>>13,n=((n&65535)*Dv&4294967295)+((n>>>16)*Dv<<16),n=n^n>>>16,n<0?n+4294967296:n}hS.xxHash32=Xoe});var AB=y(Cv=>{"use strict";function Joe(t){for(var e in t)Cv.hasOwnProperty(e)||(Cv[e]=t[e])}Object.defineProperty(Cv,"__esModule",{value:!0});Joe(_B())});var qB=y((yTe,UB)=>{"use strict";var{Duplex:rse}=require("stream");function NB(t){t.emit("close")}function nse(){!this.destroyed&&this._writableState.finished&&this.destroy()}function jB(t){this.removeListener("error",jB),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function ise(t,e){let r=!0,n=new rse({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(NB,n);return}let s=!1;t.once("error",function(c){s=!0,o(c)}),t.once("close",function(){s||o(i),process.nextTick(NB,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",nse),n.on("error",jB),n}UB.exports=ise});var Ha=y((vTe,WB)=>{"use strict";WB.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Fh=y((bTe,Rv)=>{"use strict";var{EMPTY_BUFFER:ose}=Ha(),AS=Buffer[Symbol.species];function sse(t,e){if(t.length===0)return ose;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new AS(r.buffer,r.byteOffset,n):r}function VB(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function GB(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function ase(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function IS(t){if(IS.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new AS(t):ArrayBuffer.isView(t)?e=new AS(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),IS.readOnly=!1),e}Rv.exports={concat:sse,mask:VB,toArrayBuffer:ase,toBuffer:IS,unmask:GB};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Rv.exports.mask=function(e,r,n,i,o){o<48?VB(e,r,n,i,o):t.mask(e,r,n,i,o)},Rv.exports.unmask=function(e,r){e.length<32?GB(e,r):t.unmask(e,r)}}catch{}});var XB=y((wTe,KB)=>{"use strict";var zB=Symbol("kDone"),SS=Symbol("kRun"),ES=class{constructor(e){this[zB]=()=>{this.pending--,this[SS]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[SS]()}[SS](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[zB])}}};KB.exports=ES});var jh=y((xTe,ZB)=>{"use strict";var Bh=require("zlib"),JB=Fh(),cse=XB(),{kStatusCode:YB}=Ha(),use=Buffer[Symbol.species],lse=Buffer.from([0,0,255,255]),Fv=Symbol("permessage-deflate"),ps=Symbol("total-length"),Nh=Symbol("callback"),ya=Symbol("buffers"),Ov=Symbol("error"),Mv,DS=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Mv){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Mv=new cse(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Nh];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){Mv.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){Mv.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Bh.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Bh.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Fv]=this,this._inflate[ps]=0,this._inflate[ya]=[],this._inflate.on("error",dse),this._inflate.on("data",QB)}this._inflate[Nh]=n,this._inflate.write(e),r&&this._inflate.write(lse),this._inflate.flush(()=>{let o=this._inflate[Ov];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=JB.concat(this._inflate[ya],this._inflate[ps]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[ps]=0,this._inflate[ya]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Bh.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Bh.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[ps]=0,this._deflate[ya]=[],this._deflate.on("data",pse)}this._deflate[Nh]=n,this._deflate.write(e),this._deflate.flush(Bh.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=JB.concat(this._deflate[ya],this._deflate[ps]);r&&(o=new use(o.buffer,o.byteOffset,o.length-4)),this._deflate[Nh]=null,this._deflate[ps]=0,this._deflate[ya]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};ZB.exports=DS;function pse(t){this[ya].push(t),this[ps]+=t.length}function QB(t){if(this[ps]+=t.length,this[Fv]._maxPayload<1||this[ps]<=this[Fv]._maxPayload){this[ya].push(t);return}this[Ov]=new RangeError("Max payload size exceeded"),this[Ov].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Ov][YB]=1009,this.removeListener("data",QB),this.reset()}function dse(t){this[Fv]._inflate=null,t[YB]=1007,this[Nh](t)}});var Uh=y((_Te,Bv)=>{"use strict";var{isUtf8:eN}=require("buffer"),fse=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function hse(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function CS(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}Bv.exports={isValidStatusCode:hse,isValidUTF8:CS,tokenChars:fse};if(eN)Bv.exports.isValidUTF8=function(t){return t.length<24?CS(t):eN(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");Bv.exports.isValidUTF8=function(e){return e.length<32?CS(e):t(e)}}catch{}});var kS=y((ATe,cN)=>{"use strict";var{Writable:mse}=require("stream"),tN=jh(),{BINARY_TYPES:gse,EMPTY_BUFFER:rN,kStatusCode:Hse,kWebSocket:yse}=Ha(),{concat:PS,toArrayBuffer:vse,unmask:bse}=Fh(),{isValidStatusCode:wse,isValidUTF8:nN}=Uh(),Nv=Buffer[Symbol.species],xse=Promise.resolve(),_se=typeof queueMicrotask=="function"?queueMicrotask:Ase,ap=0,iN=1,oN=2,sN=3,LS=4,aN=5,TS=6,$S=class extends mse{constructor(e={}){super(),this._binaryType=e.binaryType||gse[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[yse]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=ap,this._loop=!1}_write(e,r,n){if(this._opcode===8&&this._state==ap)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Nv(n.buffer,n.byteOffset+e,n.length-e),new Nv(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Nv(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case ap:r=this.getInfo();break;case iN:r=this.getPayloadLength16();break;case oN:r=this.getPayloadLength64();break;case sN:this.getMask();break;case LS:r=this.getData(e);break;case aN:this._loop=!1;return;default:this._loop=!1,_se(()=>{this._state=ap,this.startLoop(e)});return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,dr(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[tN.extensionName])return this._loop=!1,dr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,dr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,dr(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,dr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,dr(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,dr(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,dr(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,dr(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,dr(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,dr(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=iN;else if(this._payloadLength===127)this._state=oN;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,dr(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,dr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=sN:this._state=LS}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=LS}getData(e){let r=rN;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&bse(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=aN,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[tN.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(dr(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let s=this.dataMessage();if(s)return r(s);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=PS(r,e):this._binaryType==="arraybuffer"?n=vse(PS(r,e)):n=r,this.emit("message",n,!0)}else{let n=PS(r,e);if(!this._skipUTF8Validation&&!nN(n))return this._loop=!1,dr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=TS}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,rN),this.end(),this._state=ap;else{let r=e.readUInt16BE(0);if(!wse(r))return dr(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new Nv(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!nN(n))return dr(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end(),this._state=ap}else this._opcode===9?(this.emit("ping",e),this._state=TS):(this.emit("pong",e),this._state=TS)}};cN.exports=$S;function dr(t,e,r,n,i){let o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,dr),o.code=i,o[Hse]=n,o}function Ase(t){xse.then(t).catch(Sse)}function Ise(t){throw t}function Sse(t){process.nextTick(Ise,t)}});var MS=y((STe,pN)=>{"use strict";var{Duplex:ITe}=require("stream"),{randomFillSync:Ese}=require("crypto"),uN=jh(),{EMPTY_BUFFER:Dse}=Ha(),{isValidStatusCode:Cse}=Uh(),{mask:lN,toBuffer:cp}=Fh(),Pi=Symbol("kByteLength"),Pse=Buffer.alloc(4),RS=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||Pse,r.generateMask?r.generateMask(n):Ese(n,0,4),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Pi]!==void 0?a=r[Pi]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(i?a+o:o);return u[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(u[0]|=64),u[1]=c,c===126?u.writeUInt16BE(a,2):c===127&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),r.mask?(u[1]|=128,u[o-4]=n[0],u[o-3]=n[1],u[o-2]=n[2],u[o-1]=n[3],s?[u,e]:i?(lN(e,n,u,o,a),[u]):(lN(e,n,e,0,a),[u,e])):[u,e]}close(e,r,n,i){let o;if(e===void 0)o=Dse;else{if(typeof e!="number"||!Cse(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Pi]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=cp(e),i=e.length,o=cp.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Pi]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=cp(e),i=e.length,o=cp.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Pi]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[uN.extensionName],o=r.binary?2:1,s=r.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=cp(e),a=e.length,c=cp.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0),i){let u={[Pi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n)}else this.sendFrame(t.frame(e,{[Pi]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[uN.extensionName];this._bufferedBytes+=n[Pi],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let u=0;u<this._queue.length;u++){let l=this._queue[u],p=l[l.length-1];typeof p=="function"&&p(c)}return}this._bufferedBytes-=n[Pi],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Pi],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Pi],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};pN.exports=RS});var bN=y((ETe,vN)=>{"use strict";var{kForOnEventAttribute:qh,kListener:OS}=Ha(),dN=Symbol("kCode"),fN=Symbol("kData"),hN=Symbol("kError"),mN=Symbol("kMessage"),gN=Symbol("kReason"),up=Symbol("kTarget"),HN=Symbol("kType"),yN=Symbol("kWasClean"),ds=class{constructor(e){this[up]=null,this[HN]=e}get target(){return this[up]}get type(){return this[HN]}};Object.defineProperty(ds.prototype,"target",{enumerable:!0});Object.defineProperty(ds.prototype,"type",{enumerable:!0});var Zc=class extends ds{constructor(e,r={}){super(e),this[dN]=r.code===void 0?0:r.code,this[gN]=r.reason===void 0?"":r.reason,this[yN]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[dN]}get reason(){return this[gN]}get wasClean(){return this[yN]}};Object.defineProperty(Zc.prototype,"code",{enumerable:!0});Object.defineProperty(Zc.prototype,"reason",{enumerable:!0});Object.defineProperty(Zc.prototype,"wasClean",{enumerable:!0});var lp=class extends ds{constructor(e,r={}){super(e),this[hN]=r.error===void 0?null:r.error,this[mN]=r.message===void 0?"":r.message}get error(){return this[hN]}get message(){return this[mN]}};Object.defineProperty(lp.prototype,"error",{enumerable:!0});Object.defineProperty(lp.prototype,"message",{enumerable:!0});var Wh=class extends ds{constructor(e,r={}){super(e),this[fN]=r.data===void 0?null:r.data}get data(){return this[fN]}};Object.defineProperty(Wh.prototype,"data",{enumerable:!0});var Lse={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[qh]&&i[OS]===e&&!i[qh])return;let n;if(t==="message")n=function(o,s){let a=new Wh("message",{data:s?o:o.toString()});a[up]=this,jv(e,this,a)};else if(t==="close")n=function(o,s){let a=new Zc("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[up]=this,jv(e,this,a)};else if(t==="error")n=function(o){let s=new lp("error",{error:o,message:o.message});s[up]=this,jv(e,this,s)};else if(t==="open")n=function(){let o=new ds("open");o[up]=this,jv(e,this,o)};else return;n[qh]=!!r[qh],n[OS]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[OS]===e&&!r[qh]){this.removeListener(t,r);break}}};vN.exports={CloseEvent:Zc,ErrorEvent:lp,Event:ds,EventTarget:Lse,MessageEvent:Wh};function jv(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var FS=y((DTe,wN)=>{"use strict";var{tokenChars:Vh}=Uh();function Po(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function Tse(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,u=-1,l=-1,p=0;for(;p<t.length;p++)if(u=t.charCodeAt(p),s===void 0)if(l===-1&&Vh[u]===1)c===-1&&(c=p);else if(p!==0&&(u===32||u===9))l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(c,l);u===44?(Po(e,m,r),r=Object.create(null)):s=m,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&Vh[u]===1)c===-1&&(c=p);else if(u===32||u===9)l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Po(r,t.slice(c,l),!0),u===44&&(Po(e,s,r),r=Object.create(null),s=void 0),c=l=-1}else if(u===61&&c!==-1&&l===-1)a=t.slice(c,p),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if(Vh[u]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1?c=p:n||(n=!0),i=!1}else if(o)if(Vh[u]===1)c===-1&&(c=p);else if(u===34&&c!==-1)o=!1,l=p;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(u===34&&t.charCodeAt(p-1)===61)o=!0;else if(l===-1&&Vh[u]===1)c===-1&&(c=p);else if(c!==-1&&(u===32||u===9))l===-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(c,l);n&&(m=m.replace(/\\/g,""),n=!1),Po(r,a,m),u===44&&(Po(e,s,r),r=Object.create(null),s=void 0),a=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(c===-1||o||u===32||u===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let d=t.slice(c,l);return s===void 0?Po(e,d,r):(a===void 0?Po(r,d,!0):n?Po(r,a,d.replace(/\\/g,"")):Po(r,a,d),Po(e,s,r)),e}function $se(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}wN.exports={format:$se,parse:Tse}});var qS=y((LTe,TN)=>{"use strict";var kse=require("events"),Rse=require("https"),Mse=require("http"),AN=require("net"),Ose=require("tls"),{randomBytes:Fse,createHash:Bse}=require("crypto"),{Duplex:CTe,Readable:PTe}=require("stream"),{URL:BS}=require("url"),va=jh(),Nse=kS(),jse=MS(),{BINARY_TYPES:xN,EMPTY_BUFFER:Uv,GUID:Use,kForOnEventAttribute:NS,kListener:qse,kStatusCode:Wse,kWebSocket:Ur,NOOP:IN}=Ha(),{EventTarget:{addEventListener:Vse,removeEventListener:Gse}}=bN(),{format:zse,parse:Kse}=FS(),{toBuffer:Xse}=Fh(),Jse=30*1e3,SN=Symbol("kAborted"),jS=[8,13],fs=["CONNECTING","OPEN","CLOSING","CLOSED"],Yse=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,Ot=class t extends kse{constructor(e,r,n){super(),this._binaryType=xN[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Uv,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),EN(this,e,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){xN.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new Nse({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new jse(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[Ur]=this,e[Ur]=this,i.on("conclude",eae),i.on("drain",tae),i.on("error",rae),i.on("message",nae),i.on("ping",iae),i.on("pong",oae),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",CN),e.on("data",Wv),e.on("end",PN),e.on("error",LN),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[va.extensionName]&&this._extensions[va.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let n="WebSocket was closed before the connection was established";Cn(this,this._req,n);return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),Jse)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){US(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Uv,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){US(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Uv,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){US(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[va.extensionName]||(i.compress=!1),this._sender.send(e||Uv,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let e="WebSocket was closed before the connection was established";Cn(this,this._req,e);return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(Ot,"CONNECTING",{enumerable:!0,value:fs.indexOf("CONNECTING")});Object.defineProperty(Ot.prototype,"CONNECTING",{enumerable:!0,value:fs.indexOf("CONNECTING")});Object.defineProperty(Ot,"OPEN",{enumerable:!0,value:fs.indexOf("OPEN")});Object.defineProperty(Ot.prototype,"OPEN",{enumerable:!0,value:fs.indexOf("OPEN")});Object.defineProperty(Ot,"CLOSING",{enumerable:!0,value:fs.indexOf("CLOSING")});Object.defineProperty(Ot.prototype,"CLOSING",{enumerable:!0,value:fs.indexOf("CLOSING")});Object.defineProperty(Ot,"CLOSED",{enumerable:!0,value:fs.indexOf("CLOSED")});Object.defineProperty(Ot.prototype,"CLOSED",{enumerable:!0,value:fs.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(Ot.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(Ot.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[NS])return e[qse];return null},set(e){for(let r of this.listeners(t))if(r[NS]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[NS]:!0})}})});Ot.prototype.addEventListener=Vse;Ot.prototype.removeEventListener=Gse;TN.exports=Ot;function EN(t,e,r,n){let i={protocolVersion:jS[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!jS.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${jS.join(", ")})`);let o;if(e instanceof BS)o=e;else try{o=new BS(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let g=new SyntaxError(c);if(t._redirects===0)throw g;qv(t,g);return}let u=s?443:80,l=Fse(16).toString("base64"),p=s?Rse.request:Mse.request,d=new Set,m;if(i.createConnection=s?Zse:Qse,i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new va(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=zse({[va.extensionName]:m.offer()})),r.length){for(let g of r){if(typeof g!="string"||!Yse.test(g)||d.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(g)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let g=i.path.split(":");i.socketPath=g[0],i.path=g[1]}let f;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[v,x]of Object.entries(g))n.headers[v.toLowerCase()]=x}else if(t.listenerCount("redirect")===0){let g=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!g||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,g||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),f=t._req=p(i),t._redirects&&t.emit("redirect",t.url,f)}else f=t._req=p(i);i.timeout&&f.on("timeout",()=>{Cn(t,f,"Opening handshake has timed out")}),f.on("error",g=>{f===null||f[SN]||(f=t._req=null,qv(t,g))}),f.on("response",g=>{let v=g.headers.location,x=g.statusCode;if(v&&i.followRedirects&&x>=300&&x<400){if(++t._redirects>i.maxRedirects){Cn(t,f,"Maximum redirects exceeded");return}f.abort();let C;try{C=new BS(v,e)}catch{let T=new SyntaxError(`Invalid URL: ${v}`);qv(t,T);return}EN(t,C,r,n)}else t.emit("unexpected-response",f,g)||Cn(t,f,`Unexpected server response: ${g.statusCode}`)}),f.on("upgrade",(g,v,x)=>{if(t.emit("upgrade",g),t.readyState!==Ot.CONNECTING)return;if(f=t._req=null,g.headers.upgrade.toLowerCase()!=="websocket"){Cn(t,v,"Invalid Upgrade header");return}let C=Bse("sha1").update(l+Use).digest("base64");if(g.headers["sec-websocket-accept"]!==C){Cn(t,v,"Invalid Sec-WebSocket-Accept header");return}let $=g.headers["sec-websocket-protocol"],T;if($!==void 0?d.size?d.has($)||(T="Server sent an invalid subprotocol"):T="Server sent a subprotocol but none was requested":d.size&&(T="Server sent no subprotocol"),T){Cn(t,v,T);return}$&&(t._protocol=$);let R=g.headers["sec-websocket-extensions"];if(R!==void 0){if(!m){Cn(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let J;try{J=Kse(R)}catch{Cn(t,v,"Invalid Sec-WebSocket-Extensions header");return}let X=Object.keys(J);if(X.length!==1||X[0]!==va.extensionName){Cn(t,v,"Server indicated an extension that was not requested");return}try{m.accept(J[va.extensionName])}catch{Cn(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[va.extensionName]=m}t.setSocket(v,x,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(f,t):f.end()}function qv(t,e){t._readyState=Ot.CLOSING,t.emit("error",e),t.emitClose()}function Qse(t){return t.path=t.socketPath,AN.connect(t)}function Zse(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=AN.isIP(t.host)?"":t.host),Ose.connect(t)}function Cn(t,e,r){t._readyState=Ot.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Cn),e.setHeader?(e[SN]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(qv,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function US(t,e,r){if(e){let n=Xse(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${fs[t.readyState]})`);process.nextTick(r,n)}}function eae(t,e){let r=this[Ur];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Ur]!==void 0&&(r._socket.removeListener("data",Wv),process.nextTick(DN,r._socket),t===1005?r.close():r.close(t,e))}function tae(){let t=this[Ur];t.isPaused||t._socket.resume()}function rae(t){let e=this[Ur];e._socket[Ur]!==void 0&&(e._socket.removeListener("data",Wv),process.nextTick(DN,e._socket),e.close(t[Wse])),e.emit("error",t)}function _N(){this[Ur].emitClose()}function nae(t,e){this[Ur].emit("message",t,e)}function iae(t){let e=this[Ur];e.pong(t,!e._isServer,IN),e.emit("ping",t)}function oae(t){this[Ur].emit("pong",t)}function DN(t){t.resume()}function CN(){let t=this[Ur];this.removeListener("close",CN),this.removeListener("data",Wv),this.removeListener("end",PN),t._readyState=Ot.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Ur]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",_N),t._receiver.on("finish",_N))}function Wv(t){this[Ur]._receiver.write(t)||this.pause()}function PN(){let t=this[Ur];t._readyState=Ot.CLOSING,t._receiver.end(),this.end()}function LN(){let t=this[Ur];this.removeListener("error",LN),this.on("error",IN),t&&(t._readyState=Ot.CLOSING,this.destroy())}});var kN=y((TTe,$N)=>{"use strict";var{tokenChars:sae}=Uh();function aae(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&sae[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}$N.exports={parse:aae}});var jN=y((kTe,NN)=>{"use strict";var cae=require("events"),Vv=require("http"),{Duplex:$Te}=require("stream"),{createHash:uae}=require("crypto"),RN=FS(),eu=jh(),lae=kN(),pae=qS(),{GUID:dae,kWebSocket:fae}=Ha(),hae=/^[+/0-9A-Za-z]{22}==$/,MN=0,ON=1,BN=2,WS=class extends cae{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:pae,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Vv.createServer((n,i)=>{let o=Vv.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=mae(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=MN}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===BN){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Gh,this);return}if(e&&this.once("close",e),this._state!==ON)if(this._state=ON,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Gh,this):process.nextTick(Gh,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Gh(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",FN);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){tu(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){tu(this,e,r,400,"Invalid Upgrade header");return}if(!o||!hae.test(o)){tu(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){tu(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){zh(r,400);return}let a=e.headers["sec-websocket-protocol"],c=new Set;if(a!==void 0)try{c=lae.parse(a)}catch{tu(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&u!==void 0){let p=new eu(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let d=RN.parse(u);d[eu.extensionName]&&(p.accept(d[eu.extensionName]),l[eu.extensionName]=p)}catch{tu(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(d,m,f,g)=>{if(!d)return zh(r,m||401,f,g);this.completeUpgrade(l,o,c,e,r,n,i)});return}if(!this.options.verifyClient(p))return zh(r,401)}this.completeUpgrade(l,o,c,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[fae])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>MN)return zh(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${uae("sha1").update(r+dae).digest("base64")}`],l=new this.options.WebSocket(null);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(u.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[eu.extensionName]){let p=e[eu.extensionName].params,d=RN.format({[eu.extensionName]:[p]});u.push(`Sec-WebSocket-Extensions: ${d}`),l._extensions=e}this.emit("headers",u,i),o.write(u.concat(`\r
`).join(`\r
`)),o.removeListener("error",FN),l.setSocket(o,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Gh,this)})),a(l,i)}};NN.exports=WS;function mae(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function Gh(t){t._state=BN,t.emit("close")}function FN(){this.destroy()}function zh(t,e,r,n){r=r||Vv.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${Vv.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function tu(t,e,r,n,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,tu),t.emit("wsClientError",o,r,e)}else zh(r,n,i)}});var nj=y((f$e,rj)=>{"use strict";rj.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var oj=y((h$e,ij)=>{ij.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var cj=y((m$e,aj)=>{"use strict";var Aae=oj(),Iae=Array.prototype.concat,Sae=Array.prototype.slice,sj=aj.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];Aae(o)?r=Iae.call(r,Sae.call(o)):r.push(o)}return r};sj.wrap=function(t){return function(){return t(sj(arguments))}}});var dj=y((g$e,pj)=>{var Xh=nj(),Jh=cj(),uj=Object.hasOwnProperty,lj={};for(Yv in Xh)uj.call(Xh,Yv)&&(lj[Xh[Yv]]=Yv);var Yv,Pn=pj.exports={to:{},get:{}};Pn.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Pn.get.hsl(t),n="hsl";break;case"hwb":r=Pn.get.hwb(t),n="hwb";break;default:r=Pn.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Pn.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,c,u;if(a=t.match(r)){for(u=a[2],a=a[1],c=0;c<3;c++){var l=c*2;s[c]=parseInt(a.slice(l,l+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=t.match(e)){for(a=a[1],u=a[3],c=0;c<3;c++)s[c]=parseInt(a[c]+a[c],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=t.match(n)){for(c=0;c<3;c++)s[c]=parseInt(a[c+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(c=0;c<3;c++)s[c]=Math.round(parseFloat(a[c+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:uj.call(Xh,a[1])?(s=Xh[a[1]],s[3]=1,s):null:null;for(c=0;c<3;c++)s[c]=wa(s[c],0,255);return s[3]=wa(s[3],0,1),s};Pn.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=wa(parseFloat(r[2]),0,100),s=wa(parseFloat(r[3]),0,100),a=wa(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Pn.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=wa(parseFloat(r[2]),0,100),s=wa(parseFloat(r[3]),0,100),a=wa(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Pn.to.hex=function(){var t=Jh(arguments);return"#"+Qv(t[0])+Qv(t[1])+Qv(t[2])+(t[3]<1?Qv(Math.round(t[3]*255)):"")};Pn.to.rgb=function(){var t=Jh(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Pn.to.rgb.percent=function(){var t=Jh(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Pn.to.hsl=function(){var t=Jh(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Pn.to.hwb=function(){var t=Jh(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Pn.to.keyword=function(t){return lj[t.slice(0,3)]};function wa(t,e,r){return Math.min(Math.max(e,t),r)}function Qv(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var hj=y((H$e,fj)=>{"use strict";fj.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var JS=y((y$e,gj)=>{var Yh=hj(),mj={};for(let t of Object.keys(Yh))mj[Yh[t]]=t;var fe={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};gj.exports=fe;for(let t of Object.keys(fe)){if(!("channels"in fe[t]))throw new Error("missing channels property: "+t);if(!("labels"in fe[t]))throw new Error("missing channel labels property: "+t);if(fe[t].labels.length!==fe[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=fe[t];delete fe[t].channels,delete fe[t].labels,Object.defineProperty(fe[t],"channels",{value:e}),Object.defineProperty(fe[t],"labels",{value:r})}fe.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,c;o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=s/(o+i):c=s/(2-o-i),[a,c*100,u*100]};fe.rgb.hsv=function(t){let e,r,n,i,o,s=t[0]/255,a=t[1]/255,c=t[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),p=function(d){return(u-d)/6/l+1/2};return l===0?(i=0,o=0):(o=l/u,e=p(s),r=p(a),n=p(c),s===u?i=n-r:a===u?i=1/3+e-n:c===u&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};fe.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=fe.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};fe.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function Eae(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}fe.rgb.keyword=function(t){let e=mj[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(Yh)){let o=Yh[i],s=Eae(t,o);s<r&&(r=s,n=i)}return n};fe.keyword.rgb=function(t){return Yh[t]};fe.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,s=e*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};fe.rgb.lab=function(t){let e=fe.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};fe.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,c[u]=s*255;return c};fe.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[e,a*100,s*100]};fe.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),c=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}};fe.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};fe.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,s&1&&(o=1-o);let c=r+o*(a-r),u,l,p;switch(s){default:case 6:case 0:u=a,l=c,p=r;break;case 1:u=c,l=a,p=r;break;case 2:u=r,l=a,p=c;break;case 3:u=r,l=c,p=a;break;case 4:u=c,l=r,p=a;break;case 5:u=a,l=r,p=c;break}return[u*255,l*255,p*255]};fe.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};fe.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,s=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};fe.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),s=200*(r-n);return[i,o,s]};fe.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;let a=o**3,c=i**3,u=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};fe.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[e,s,i]};fe.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[e,o,s]};fe.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?fe.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};fe.hsv.ansi16=function(t){return fe.rgb.ansi16(fe.hsv.rgb(t),t[2])};fe.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};fe.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};fe.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};fe.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};fe.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};fe.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,c;return s<1?a=o/(1-s):a=0,s<=0?c=0:i===e?c=(r-n)/s%6:i===r?c=2+(n-e)/s:c=4+(e-r)/s,c/=6,c%=1,[c*360,s*100,a*100]};fe.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};fe.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};fe.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};fe.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};fe.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};fe.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};fe.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};fe.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};fe.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};fe.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};fe.gray.hsl=function(t){return[0,0,t[0]]};fe.gray.hsv=fe.gray.hsl;fe.gray.hwb=function(t){return[0,100,t[0]]};fe.gray.cmyk=function(t){return[0,0,0,t[0]]};fe.gray.lab=function(t){return[t[0],0,0]};fe.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};fe.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var yj=y((v$e,Hj)=>{var Zv=JS();function Dae(){let t={},e=Object.keys(Zv);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Cae(t){let e=Dae(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Zv[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(a))}}return e}function Pae(t,e){return function(r){return e(t(r))}}function Lae(t,e){let r=[e[t].parent,t],n=Zv[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Pae(Zv[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}Hj.exports=function(t){let e=Cae(t),r={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(r[s]=Lae(s,e))}return r}});var bj=y((b$e,vj)=>{var YS=JS(),Tae=yj(),mp={},$ae=Object.keys(YS);function kae(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Rae(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}$ae.forEach(t=>{mp[t]={},Object.defineProperty(mp[t],"channels",{value:YS[t].channels}),Object.defineProperty(mp[t],"labels",{value:YS[t].labels});let e=Tae(t);Object.keys(e).forEach(n=>{let i=e[n];mp[t][n]=Rae(i),mp[t][n].raw=kae(i)})});vj.exports=mp});var _j=y((w$e,xj)=>{var gp=dj(),Ln=bj(),wj=["keyword","gray","hex"],QS={};for(let t of Object.keys(Ln))QS[[...Ln[t].labels].sort().join("")]=t;var eb={};function fr(t,e){if(!(this instanceof fr))return new fr(t,e);if(e&&e in wj&&(e=null),e&&!(e in Ln))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof fr)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=gp.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Ln[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=Ln[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=ZS(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let o=i.sort().join("");if(!(o in QS))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=QS[o];let{labels:s}=Ln[this.model],a=[];for(r=0;r<s.length;r++)a.push(t[s[r]]);this.color=ZS(a)}if(eb[this.model])for(n=Ln[this.model].channels,r=0;r<n;r++){let i=eb[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}fr.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in gp.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return gp.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return gp.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=Ln[this.model],{labels:r}=Ln[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new fr([...this.color.map(Oae(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new fr([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Lt("rgb",0,er(255)),green:Lt("rgb",1,er(255)),blue:Lt("rgb",2,er(255)),hue:Lt(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Lt("hsl",1,er(100)),lightness:Lt("hsl",2,er(100)),saturationv:Lt("hsv",1,er(100)),value:Lt("hsv",2,er(100)),chroma:Lt("hcg",1,er(100)),gray:Lt("hcg",2,er(100)),white:Lt("hwb",1,er(100)),wblack:Lt("hwb",2,er(100)),cyan:Lt("cmyk",0,er(100)),magenta:Lt("cmyk",1,er(100)),yellow:Lt("cmyk",2,er(100)),black:Lt("cmyk",3,er(100)),x:Lt("xyz",0,er(95.047)),y:Lt("xyz",1,er(100)),z:Lt("xyz",2,er(108.833)),l:Lt("lab",0,er(100)),a:Lt("lab",1),b:Lt("lab",2),keyword(t){return t!==void 0?new fr(t):Ln[this.model].keyword(this.color)},hex(t){return t!==void 0?new fr(t):gp.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new fr(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),gp.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return fr.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return fr.rgb(a*r.red()+c*n.red(),a*r.green()+c*n.green(),a*r.blue()+c*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(Ln)){if(wj.includes(t))continue;let{channels:e}=Ln[t];fr.prototype[t]=function(...r){return this.model===t?new fr(this):r.length>0?new fr(r,t):new fr([...Fae(Ln[this.model][t].raw(this.color)),this.valpha],t)},fr[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=ZS(r,e)),new fr(n,t)}}function Mae(t,e){return Number(t.toFixed(e))}function Oae(t){return function(e){return Mae(e,t)}}function Lt(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(eb[n]||(eb[n]=[]))[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function er(t){return function(e){return Math.max(0,Math.min(t,e))}}function Fae(t){return Array.isArray(t)?t:[t]}function ZS(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}xj.exports=fr});var v3=y(kb=>{"use strict";Object.defineProperty(kb,"__esModule",{value:!0});kb.dataUriToBuffer=void 0;function Hce(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let o=0;o<t.length;o+=4){let s=e.indexOf(t.charAt(o)),a=e.indexOf(t.charAt(o+1)),c=t.charAt(o+2)==="="?0:e.indexOf(t.charAt(o+2)),u=t.charAt(o+3)==="="?0:e.indexOf(t.charAt(o+3)),l=s<<2|a>>4,p=(a&15)<<4|c>>2,d=(c&3)<<6|u;r.push(l),t.charAt(o+2)!=="="&&r.push(p),t.charAt(o+3)!=="="&&r.push(d)}let n=new ArrayBuffer(r.length);return new Uint8Array(n).set(r),n}function yce(t){let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return e}function vce(t){if(t=String(t),!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,o=r[0]||"text/plain",s=o;for(let u=1;u<r.length;u++)r[u]==="base64"?i=!0:r[u]&&(s+=`;${r[u]}`,r[u].indexOf("charset=")===0&&(n=r[u].substring(8)));!r[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let a=unescape(t.substring(e+1)),c=i?Hce(a):yce(a);return{type:o,typeFull:s,charset:n,buffer:c}}kb.dataUriToBuffer=vce});var gs=y((ms,Rb)=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});var b3=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function bce(t){return b3.includes(t)}var wce=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...b3];function xce(t){return wce.includes(t)}var _ce=["null","undefined","string","number","bigint","boolean","symbol"];function Ace(t){return _ce.includes(t)}function Cp(t){return e=>typeof e===t}var{toString:w3}=Object.prototype,um=t=>{let e=w3.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&I.domElement(t))return"HTMLElement";if(xce(e))return e},ot=t=>e=>um(e)===t;function I(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(I.observable(t))return"Observable";if(I.array(t))return"Array";if(I.buffer(t))return"Buffer";let e=um(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}I.undefined=Cp("undefined");I.string=Cp("string");var Ice=Cp("number");I.number=t=>Ice(t)&&!I.nan(t);I.bigint=Cp("bigint");I.function_=Cp("function");I.null_=t=>t===null;I.class_=t=>I.function_(t)&&t.toString().startsWith("class ");I.boolean=t=>t===!0||t===!1;I.symbol=Cp("symbol");I.numericString=t=>I.string(t)&&!I.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));I.array=(t,e)=>Array.isArray(t)?I.function_(e)?t.every(e):!0:!1;I.buffer=t=>{var e,r,n,i;return(i=(n=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,t))!==null&&i!==void 0?i:!1};I.blob=t=>ot("Blob")(t);I.nullOrUndefined=t=>I.null_(t)||I.undefined(t);I.object=t=>!I.null_(t)&&(typeof t=="object"||I.function_(t));I.iterable=t=>{var e;return I.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};I.asyncIterable=t=>{var e;return I.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};I.generator=t=>{var e,r;return I.iterable(t)&&I.function_((e=t)===null||e===void 0?void 0:e.next)&&I.function_((r=t)===null||r===void 0?void 0:r.throw)};I.asyncGenerator=t=>I.asyncIterable(t)&&I.function_(t.next)&&I.function_(t.throw);I.nativePromise=t=>ot("Promise")(t);var Sce=t=>{var e,r;return I.function_((e=t)===null||e===void 0?void 0:e.then)&&I.function_((r=t)===null||r===void 0?void 0:r.catch)};I.promise=t=>I.nativePromise(t)||Sce(t);I.generatorFunction=ot("GeneratorFunction");I.asyncGeneratorFunction=t=>um(t)==="AsyncGeneratorFunction";I.asyncFunction=t=>um(t)==="AsyncFunction";I.boundFunction=t=>I.function_(t)&&!t.hasOwnProperty("prototype");I.regExp=ot("RegExp");I.date=ot("Date");I.error=ot("Error");I.map=t=>ot("Map")(t);I.set=t=>ot("Set")(t);I.weakMap=t=>ot("WeakMap")(t);I.weakSet=t=>ot("WeakSet")(t);I.int8Array=ot("Int8Array");I.uint8Array=ot("Uint8Array");I.uint8ClampedArray=ot("Uint8ClampedArray");I.int16Array=ot("Int16Array");I.uint16Array=ot("Uint16Array");I.int32Array=ot("Int32Array");I.uint32Array=ot("Uint32Array");I.float32Array=ot("Float32Array");I.float64Array=ot("Float64Array");I.bigInt64Array=ot("BigInt64Array");I.bigUint64Array=ot("BigUint64Array");I.arrayBuffer=ot("ArrayBuffer");I.sharedArrayBuffer=ot("SharedArrayBuffer");I.dataView=ot("DataView");I.enumCase=(t,e)=>Object.values(e).includes(t);I.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;I.urlInstance=t=>ot("URL")(t);I.urlString=t=>{if(!I.string(t))return!1;try{return new URL(t),!0}catch{return!1}};I.truthy=t=>!!t;I.falsy=t=>!t;I.nan=t=>Number.isNaN(t);I.primitive=t=>I.null_(t)||Ace(typeof t);I.integer=t=>Number.isInteger(t);I.safeInteger=t=>Number.isSafeInteger(t);I.plainObject=t=>{if(w3.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};I.typedArray=t=>bce(um(t));var Ece=t=>I.safeInteger(t)&&t>=0;I.arrayLike=t=>!I.nullOrUndefined(t)&&!I.function_(t)&&Ece(t.length);I.inRange=(t,e)=>{if(I.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(I.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var Dce=1,Cce=["innerHTML","ownerDocument","style","attributes","nodeValue"];I.domElement=t=>I.object(t)&&t.nodeType===Dce&&I.string(t.nodeName)&&!I.plainObject(t)&&Cce.every(e=>e in t);I.observable=t=>{var e,r,n,i;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((i=(n=t)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};I.nodeStream=t=>I.object(t)&&I.function_(t.pipe)&&!I.observable(t);I.infinite=t=>t===1/0||t===-1/0;var x3=t=>e=>I.integer(e)&&Math.abs(e%2)===t;I.evenInteger=x3(0);I.oddInteger=x3(1);I.emptyArray=t=>I.array(t)&&t.length===0;I.nonEmptyArray=t=>I.array(t)&&t.length>0;I.emptyString=t=>I.string(t)&&t.length===0;var Pce=t=>I.string(t)&&!/\S/.test(t);I.emptyStringOrWhitespace=t=>I.emptyString(t)||Pce(t);I.nonEmptyString=t=>I.string(t)&&t.length>0;I.nonEmptyStringAndNotWhitespace=t=>I.string(t)&&!I.emptyStringOrWhitespace(t);I.emptyObject=t=>I.object(t)&&!I.map(t)&&!I.set(t)&&Object.keys(t).length===0;I.nonEmptyObject=t=>I.object(t)&&!I.map(t)&&!I.set(t)&&Object.keys(t).length>0;I.emptySet=t=>I.set(t)&&t.size===0;I.nonEmptySet=t=>I.set(t)&&t.size>0;I.emptyMap=t=>I.map(t)&&t.size===0;I.nonEmptyMap=t=>I.map(t)&&t.size>0;I.propertyKey=t=>I.any([I.string,I.number,I.symbol],t);I.formData=t=>ot("FormData")(t);I.urlSearchParams=t=>ot("URLSearchParams")(t);var _3=(t,e,r)=>{if(!I.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};I.any=(t,...e)=>(I.array(t)?t:[t]).some(n=>_3(Array.prototype.some,n,e));I.all=(t,...e)=>_3(Array.prototype.every,t,e);var oe=(t,e,r,n={})=>{if(!t){let{multipleValues:i}=n,o=i?`received values of types ${[...new Set(r.map(s=>`\`${I(s)}\``))].join(", ")}`:`received value of type \`${I(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${o}.`)}};ms.assert={undefined:t=>oe(I.undefined(t),"undefined",t),string:t=>oe(I.string(t),"string",t),number:t=>oe(I.number(t),"number",t),bigint:t=>oe(I.bigint(t),"bigint",t),function_:t=>oe(I.function_(t),"Function",t),null_:t=>oe(I.null_(t),"null",t),class_:t=>oe(I.class_(t),"Class",t),boolean:t=>oe(I.boolean(t),"boolean",t),symbol:t=>oe(I.symbol(t),"symbol",t),numericString:t=>oe(I.numericString(t),"string with a number",t),array:(t,e)=>{oe(I.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>oe(I.buffer(t),"Buffer",t),blob:t=>oe(I.blob(t),"Blob",t),nullOrUndefined:t=>oe(I.nullOrUndefined(t),"null or undefined",t),object:t=>oe(I.object(t),"Object",t),iterable:t=>oe(I.iterable(t),"Iterable",t),asyncIterable:t=>oe(I.asyncIterable(t),"AsyncIterable",t),generator:t=>oe(I.generator(t),"Generator",t),asyncGenerator:t=>oe(I.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>oe(I.nativePromise(t),"native Promise",t),promise:t=>oe(I.promise(t),"Promise",t),generatorFunction:t=>oe(I.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>oe(I.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>oe(I.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>oe(I.boundFunction(t),"Function",t),regExp:t=>oe(I.regExp(t),"RegExp",t),date:t=>oe(I.date(t),"Date",t),error:t=>oe(I.error(t),"Error",t),map:t=>oe(I.map(t),"Map",t),set:t=>oe(I.set(t),"Set",t),weakMap:t=>oe(I.weakMap(t),"WeakMap",t),weakSet:t=>oe(I.weakSet(t),"WeakSet",t),int8Array:t=>oe(I.int8Array(t),"Int8Array",t),uint8Array:t=>oe(I.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>oe(I.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>oe(I.int16Array(t),"Int16Array",t),uint16Array:t=>oe(I.uint16Array(t),"Uint16Array",t),int32Array:t=>oe(I.int32Array(t),"Int32Array",t),uint32Array:t=>oe(I.uint32Array(t),"Uint32Array",t),float32Array:t=>oe(I.float32Array(t),"Float32Array",t),float64Array:t=>oe(I.float64Array(t),"Float64Array",t),bigInt64Array:t=>oe(I.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>oe(I.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>oe(I.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>oe(I.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>oe(I.dataView(t),"DataView",t),enumCase:(t,e)=>oe(I.enumCase(t,e),"EnumCase",t),urlInstance:t=>oe(I.urlInstance(t),"URL",t),urlString:t=>oe(I.urlString(t),"string with a URL",t),truthy:t=>oe(I.truthy(t),"truthy",t),falsy:t=>oe(I.falsy(t),"falsy",t),nan:t=>oe(I.nan(t),"NaN",t),primitive:t=>oe(I.primitive(t),"primitive",t),integer:t=>oe(I.integer(t),"integer",t),safeInteger:t=>oe(I.safeInteger(t),"integer",t),plainObject:t=>oe(I.plainObject(t),"plain object",t),typedArray:t=>oe(I.typedArray(t),"TypedArray",t),arrayLike:t=>oe(I.arrayLike(t),"array-like",t),domElement:t=>oe(I.domElement(t),"HTMLElement",t),observable:t=>oe(I.observable(t),"Observable",t),nodeStream:t=>oe(I.nodeStream(t),"Node.js Stream",t),infinite:t=>oe(I.infinite(t),"infinite number",t),emptyArray:t=>oe(I.emptyArray(t),"empty array",t),nonEmptyArray:t=>oe(I.nonEmptyArray(t),"non-empty array",t),emptyString:t=>oe(I.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>oe(I.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>oe(I.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>oe(I.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>oe(I.emptyObject(t),"empty object",t),nonEmptyObject:t=>oe(I.nonEmptyObject(t),"non-empty object",t),emptySet:t=>oe(I.emptySet(t),"empty set",t),nonEmptySet:t=>oe(I.nonEmptySet(t),"non-empty set",t),emptyMap:t=>oe(I.emptyMap(t),"empty map",t),nonEmptyMap:t=>oe(I.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>oe(I.propertyKey(t),"PropertyKey",t),formData:t=>oe(I.formData(t),"FormData",t),urlSearchParams:t=>oe(I.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>oe(I.evenInteger(t),"even integer",t),oddInteger:t=>oe(I.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>oe(I.directInstanceOf(t,e),"T",t),inRange:(t,e)=>oe(I.inRange(t,e),"in range",t),any:(t,...e)=>oe(I.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>oe(I.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(I,{class:{value:I.class_},function:{value:I.function_},null:{value:I.null_}});Object.defineProperties(ms.assert,{class:{value:ms.assert.class_},function:{value:ms.assert.function_},null:{value:ms.assert.null_}});ms.default=I;Rb.exports=I;Rb.exports.default=I;Rb.exports.assert=ms.assert});var A3=y((K1e,kE)=>{"use strict";var Mb=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Ob=class t{static fn(e){return(...r)=>new t((n,i,o)=>{r.push(o),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,r(a))},o=a=>{this._isPending=!1,n(a)},s=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,o,s)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new Mb(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Ob.prototype,Promise.prototype);kE.exports=Ob;kE.exports.CancelError=Mb});var I3=y((ME,OE)=>{"use strict";Object.defineProperty(ME,"__esModule",{value:!0});function Lce(t){return t.encrypted}var RE=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",o=typeof r.close=="function",s=()=>{n&&r.connect(),Lce(t)&&i&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),o&&t.once("close",r.close)};t.writable&&!t.connecting?s():t.connecting?t.once("connect",s):t.destroyed&&o&&r.close(t._hadError)};ME.default=RE;OE.exports=RE;OE.exports.default=RE});var S3=y((BE,NE)=>{"use strict";Object.defineProperty(BE,"__esModule",{value:!0});var Tce=I3(),$ce=require("util"),kce=Number(process.versions.node.split(".")[0]),FE=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let c=a.emit.bind(a);a.emit=(u,...l)=>(u==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=c),c(u,...l))};r(t);let n=()=>{e.abort=Date.now(),(!e.response||kce>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,$ce.types.isProxy(a))return;let c=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",c),Tce.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",c),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?i(t.socket):t.prependOnceListener("socket",i);let o=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?o():t.prependOnceListener("finish",o),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};BE.default=FE;NE.exports=FE;NE.exports.default=FE});var $3=y((X1e,qE)=>{"use strict";var{V4MAPPED:Rce,ADDRCONFIG:Mce,ALL:T3,promises:{Resolver:E3},lookup:Oce}=require("dns"),{promisify:jE}=require("util"),Fce=require("os"),Pp=Symbol("cacheableLookupCreateConnection"),UE=Symbol("cacheableLookupInstance"),D3=Symbol("expires"),Bce=typeof T3=="number",C3=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},Nce=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},P3=()=>{let t=!1,e=!1;for(let r of Object.values(Fce.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},jce=t=>Symbol.iterator in t,L3={ttl:!0},Uce={all:!0},Fb=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:o=new E3,lookup:s=Oce}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=o,this._dnsLookup=jE(s),this._resolver instanceof E3?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=jE(this._resolver.resolve4.bind(this._resolver)),this._resolve6=jE(this._resolver.resolve6.bind(this._resolver))),this._iface=P3(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(o=>o.family===6);r.hints&Rce&&(Bce&&r.hints&T3||i.length===0)?Nce(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&Mce){let{_iface:i}=this;n=n.filter(o=>o.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r=await this._cache.get(e);if(!r){let n=this._pending[e];if(n)r=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{r=await i}finally{delete this._pending[e]}}}return r=r.map(n=>({...n})),r}async _resolve(e){let r=async u=>{try{return await u}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,L3),this._resolve6(e,L3)].map(u=>r(u))),o=0,s=0,a=0,c=Date.now();for(let u of n)u.family=4,u.expires=c+u.ttl*1e3,o=Math.max(o,u.ttl);for(let u of i)u.family=6,u.expires=c+u.ttl*1e3,s=Math.max(s,u.ttl);return n.length>0?i.length>0?a=Math.min(o,s):a=o:a=s,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[D3]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let o=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw o.cause=i,o}}jce(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,Uce);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[o,s]of this._cache){let a=s[D3];i>=a?this._cache.delete(o):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(C3(e),Pp in e)throw new Error("CacheableLookup has been already installed");e[Pp]=e.createConnection,e[UE]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[Pp](r,n))}uninstall(e){if(C3(e),e[Pp]){if(e[UE]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Pp],delete e[Pp],delete e[UE]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=P3(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};qE.exports=Fb;qE.exports.default=Fb});var M3=y((J1e,R3)=>{"use strict";var qce="text/plain",Wce="us-ascii",k3=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),Vce=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:o}=r.groups,s=n.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);let c=(s.shift()||"").toLowerCase(),l=[...s.map(p=>{let[d,m=""]=p.split("=").map(f=>f.trim());return d==="charset"&&(m=m.toLowerCase(),m===Wce)?"":`${d}${m?`=${m}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||c&&c!==qce)&&l.unshift(c),`data:${l.join(";")},${a?i.trim():i}${o?`#${o}`:""}`},Gce=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return Vce(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let s=i.pathname.split("/"),a=s[s.length-1];k3(a,e.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),i.pathname=s.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let s of[...i.searchParams.keys()])k3(s,e.removeQueryParameters)&&i.searchParams.delete(s);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};R3.exports=Gce});var WE=y((Y1e,F3)=>{F3.exports=O3;function O3(t,e){if(t&&e)return O3(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Lp=y((Q1e,VE)=>{var B3=WE();VE.exports=B3(Bb);VE.exports.strict=B3(N3);Bb.proto=Bb(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Bb(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return N3(this)},configurable:!0})});function Bb(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function N3(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var Nb=y((Z1e,U3)=>{var zce=Lp(),Kce=function(){},Xce=function(t){return t.setHeader&&typeof t.abort=="function"},Jce=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},j3=function(t,e,r){if(typeof e=="function")return j3(t,null,e);e||(e={}),r=zce(r||Kce);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,a=!1,c=function(){t.writable||u()},u=function(){s=!1,o||r.call(t)},l=function(){o=!1,s||r.call(t)},p=function(v){r.call(t,v?new Error("exited with error code: "+v):null)},d=function(v){r.call(t,v)},m=function(){process.nextTick(f)},f=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},g=function(){t.req.on("finish",u)};return Xce(t)?(t.on("complete",u),t.on("abort",m),t.req?g():t.on("request",g)):s&&!n&&(t.on("end",c),t.on("close",c)),Jce(t)&&t.on("exit",p),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",d),t.on("close",m),function(){a=!0,t.removeListener("complete",u),t.removeListener("abort",m),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",d),t.removeListener("close",m)}};U3.exports=j3});var V3=y((eOe,W3)=>{var Yce=Lp(),Qce=Nb(),GE=require("fs"),lm=function(){},Zce=/^v?\.0/.test(process.version),jb=function(t){return typeof t=="function"},eue=function(t){return!Zce||!GE?!1:(t instanceof(GE.ReadStream||lm)||t instanceof(GE.WriteStream||lm))&&jb(t.close)},tue=function(t){return t.setHeader&&jb(t.abort)},rue=function(t,e,r,n){n=Yce(n);var i=!1;t.on("close",function(){i=!0}),Qce(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,eue(t))return t.close(lm);if(tue(t))return t.abort();if(jb(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},q3=function(t){t()},nue=function(t,e){return t.pipe(e)},iue=function(){var t=Array.prototype.slice.call(arguments),e=jb(t[t.length-1]||lm)&&t.pop()||lm;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return rue(i,s,a,function(c){r||(r=c),c&&n.forEach(q3),!s&&(n.forEach(q3),e(r))})});return t.reduce(nue)};W3.exports=iue});var z3=y((tOe,G3)=>{"use strict";var{PassThrough:oue}=require("stream");G3.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new oue({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var K3=y((rOe,Tp)=>{"use strict";var{constants:sue}=require("buffer"),aue=V3(),cue=z3(),Ub=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function qb(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=sue.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=aue(t,cue(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&s(new Ub)})}),n.getBufferedValue()}Tp.exports=qb;Tp.exports.default=qb;Tp.exports.buffer=(t,e)=>qb(t,{...e,encoding:"buffer"});Tp.exports.array=(t,e)=>qb(t,{...e,array:!0});Tp.exports.MaxBufferError=Ub});var J3=y((iOe,X3)=>{"use strict";var uue=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),lue=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),pue=new Set([500,502,503,504]),due={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},fue={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function du(t){let e=parseInt(t,10);return isFinite(e)?e:0}function hue(t){return t?pue.has(t.status):!0}function zE(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function mue(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}X3.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=zE(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=zE(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":mue(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&lue.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||uue.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=zE(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)due[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return du(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return du(this._rescc["s-maxage"])}if(this._rescc["max-age"])return du(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+du(this._rescc["stale-if-error"]),n=e+du(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+du(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+du(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&hue(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in r.headers&&!fue[s]?r.headers[s]:this._resHeaders[s];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var Wb=y((oOe,Y3)=>{"use strict";Y3.exports=t=>{let e={};for(let[r,n]of Object.entries(t))e[r.toLowerCase()]=n;return e}});var Z3=y((sOe,Q3)=>{"use strict";var gue=require("stream").Readable,Hue=Wb(),KE=class extends gue{constructor(e,r,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=Hue(r),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};Q3.exports=KE});var t2=y((aOe,e2)=>{"use strict";var yue=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];e2.exports=(t,e)=>{let r=new Set(Object.keys(t).concat(yue));for(let n of r)n in e||(e[n]=typeof t[n]=="function"?t[n].bind(t):t[n])}});var n2=y((cOe,r2)=>{"use strict";var vue=require("stream").PassThrough,bue=t2(),wue=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new vue;return bue(t,e),t.pipe(e)};r2.exports=wue});var i2=y(XE=>{XE.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",n=Array.isArray(e);r=n?"[":"{";var i=!0;for(var o in e){var s=typeof e[o]=="function"||!n&&typeof e[o]>"u";Object.hasOwnProperty.call(e,o)&&!s&&(i||(r+=","),i=!1,n?e[o]==null?r+="null":r+=t(e[o]):e[o]!==void 0&&(r+=t(o)+":"+t(e[o])))}return r+=n?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};XE.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var c2=y((lOe,a2)=>{"use strict";var xue=require("events"),o2=i2(),_ue=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(e[r]))(t)}return new Map},s2=["sqlite","postgres","mysql","mongo","redis","tiered"],JE=class extends xue{constructor(e,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:o2.stringify,deserialize:o2.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let o={...this.opts};this.opts.store=_ue(o)}if(this.opts.compression){let o=this.opts.compression;this.opts.serialize=o.serialize.bind(o),this.opts.deserialize=o.deserialize.bind(o)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",o=>this.emit("error",o)),this.opts.store.namespace=this.opts.namespace;let i=o=>async function*(){for await(let[s,a]of typeof o=="function"?o(this.opts.store.namespace):o){let c=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!s.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(s);continue}yield[this._getKeyUnprefix(s),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return s2.includes(this.opts.store.opts.dialect)||s2.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:n}=this.opts,i=Array.isArray(e),o=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let s=[];for(let a of o)s.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):r&&r.raw?c:c.value}));return Promise.allSettled(s).then(a=>{let c=[];for(let u of a)c.push(u.value);return c})}return Promise.resolve().then(()=>i?n.getMany(o):n.get(o)).then(s=>typeof s=="string"?this.opts.deserialize(s):this.opts.compression?this.opts.deserialize(s):s).then(s=>{if(s!=null){if(i){let a=[];for(let c of s){if(typeof c=="string"&&(c=this.opts.deserialize(c)),c==null){a.push(void 0);continue}typeof c.expires=="number"&&Date.now()>c.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?c:c.value)}return a}return typeof s.expires=="number"&&Date.now()>s.expires?this.delete(e).then(()=>{}):r&&r.raw?s:s.value}})}set(e,r,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:s},this.opts.serialize(r)}).then(s=>o.set(i,s,n)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let o=[];for(let s of i)o.push(r.delete(s));return Promise.allSettled(o).then(s=>s.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};a2.exports=JE});var p2=y((pOe,l2)=>{"use strict";var Aue=require("events"),Vb=require("url"),Iue=M3(),Sue=K3(),YE=J3(),u2=Z3(),Eue=Wb(),Due=n2(),Cue=c2(),pm=class t{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new Cue({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,n)=>{let i;if(typeof r=="string")i=QE(Vb.parse(r)),r={};else if(r instanceof Vb.URL)i=QE(Vb.parse(r.toString())),r={};else{let[p,...d]=(r.path||"").split("?"),m=d.length>0?`?${d.join("?")}`:"";i=QE({...r,pathname:p,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...Pue(i)},r.headers=Eue(r.headers);let o=new Aue,s=Iue(Vb.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${s}`,c=!1,u=!1,l=p=>{u=!0;let d=!1,m,f=new Promise(v=>{m=()=>{d||(d=!0,v())}}),g=v=>{if(c&&!p.forceRefresh){v.status=v.statusCode;let C=YE.fromObject(c.cachePolicy).revalidatedPolicy(p,v);if(!C.modified){let $=C.policy.responseHeaders();v=new u2(c.statusCode,$,c.body,c.url),v.cachePolicy=C.policy,v.fromCache=!0}}v.fromCache||(v.cachePolicy=new YE(p,v,p),v.fromCache=!1);let x;p.cache&&v.cachePolicy.storable()?(x=Due(v),(async()=>{try{let C=Sue.buffer(v);if(await Promise.race([f,new Promise(J=>v.once("end",J))]),d)return;let $=await C,T={cachePolicy:v.cachePolicy.toObject(),url:v.url,statusCode:v.fromCache?c.statusCode:v.statusCode,body:$},R=p.strictTtl?v.cachePolicy.timeToLive():void 0;p.maxTtl&&(R=R?Math.min(R,p.maxTtl):p.maxTtl),await this.cache.set(a,T,R)}catch(C){o.emit("error",new t.CacheError(C))}})()):p.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(C){o.emit("error",new t.CacheError(C))}})(),o.emit("response",x||v),typeof n=="function"&&n(x||v)};try{let v=e(p,g);v.once("error",m),v.once("abort",m),o.emit("request",v)}catch(v){o.emit("error",new t.RequestError(v))}};return(async()=>{let p=async m=>{await Promise.resolve();let f=m.cache?await this.cache.get(a):void 0;if(typeof f>"u")return l(m);let g=YE.fromObject(f.cachePolicy);if(g.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let v=g.responseHeaders(),x=new u2(f.statusCode,v,f.body,f.url);x.cachePolicy=g,x.fromCache=!0,o.emit("response",x),typeof n=="function"&&n(x)}else c=f,m.headers=g.revalidationHeaders(m),l(m)},d=m=>o.emit("error",new t.CacheError(m));this.cache.once("error",d),o.on("response",()=>this.cache.removeListener("error",d));try{await p(r)}catch(m){r.automaticFailover&&!u&&l(r),o.emit("error",new t.CacheError(m))}})(),o}}};function Pue(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function QE(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}pm.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};pm.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};l2.exports=pm});var f2=y((hOe,d2)=>{"use strict";var Lue=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];d2.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(Lue)),n={};for(let i of r)i in e||(n[i]={get(){let o=t[i];return typeof o=="function"?o.bind(t):o},set(o){t[i]=o},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var m2=y((mOe,h2)=>{"use strict";var{Transform:Tue,PassThrough:$ue}=require("stream"),ZE=require("zlib"),kue=f2();h2.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof ZE.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let n=!0,i=new Tue({transform(a,c,u){n=!1,u(null,a)},flush(a){a()}}),o=new $ue({autoDestroy:!1,destroy(a,c){t.destroy(),c(a)}}),s=r?ZE.createBrotliDecompress():ZE.createUnzip();return s.once("error",a=>{if(n&&!t.readable){o.end();return}o.destroy(a)}),kue(t,o),t.pipe(i).pipe(s).pipe(o),o}});var tD=y((gOe,g2)=>{"use strict";var eD=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};g2.exports=eD});var nD=y((HOe,b2)=>{"use strict";var Rue=require("events"),Mue=require("tls"),Oue=require("http2"),Fue=tD(),Zr=Symbol("currentStreamsCount"),H2=Symbol("request"),ri=Symbol("cachedOriginSet"),$p=Symbol("gracefullyClosing"),Bue=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],Nue=(t,e,r)=>{let n=0,i=t.length;for(;n<i;){let o=n+i>>>1;r(t[o],e)?n=o+1:i=o}return n},jue=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,rD=(t,e)=>{for(let r of t)r[ri].length<e[ri].length&&r[ri].every(n=>e[ri].includes(n))&&r[Zr]+e[Zr]<=e.remoteSettings.maxConcurrentStreams&&v2(r)},Uue=(t,e)=>{for(let r of t)e[ri].length<r[ri].length&&e[ri].every(n=>r[ri].includes(n))&&e[Zr]+r[Zr]<=r.remoteSettings.maxConcurrentStreams&&v2(e)},y2=({agent:t,isFree:e})=>{let r={};for(let n in t.sessions){let o=t.sessions[n].filter(s=>{let a=s[fu.kCurrentStreamsCount]<s.remoteSettings.maxConcurrentStreams;return e?a:!a});o.length!==0&&(r[n]=o)}return r},v2=t=>{t[$p]=!0,t[Zr]===0&&t.close()},fu=class t extends Rue{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new Fue({maxSize:i})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let n of Bue)e[n]&&(r+=`:${e[n]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let n=this.queue[e][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,r,n){return new Promise((i,o)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:o}];let s=this.normalizeOptions(r),a=t.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(s in this.sessions){let l=this.sessions[s],p=-1,d=-1,m;for(let f of l){let g=f.remoteSettings.maxConcurrentStreams;if(g<p)break;if(f[ri].includes(a)){let v=f[Zr];if(v>=g||f[$p]||f.destroyed)continue;m||(p=g),v>d&&(m=f,d=v)}}if(m){if(n.length!==1){for(let{reject:f}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);f(g)}return}n[0].resolve(m);return}}if(s in this.queue){if(a in this.queue[s]){this.queue[s][a].listeners.push(...n),this._tryToCreateNewSession(s,a);return}}else this.queue[s]={};let c=()=>{s in this.queue&&this.queue[s][a]===u&&(delete this.queue[s][a],Object.keys(this.queue[s]).length===0&&delete this.queue[s])},u=()=>{let l=`${a}:${s}`,p=!1;try{let d=Oue.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});d[Zr]=0,d[$p]=!1;let m=()=>d[Zr]<d.remoteSettings.maxConcurrentStreams,f=!0;d.socket.once("session",v=>{this.tlsSessionCache.set(l,v)}),d.once("error",v=>{for(let{reject:x}of n)x(v);this.tlsSessionCache.delete(l)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(p){f&&this._freeSessionsCount--,this._sessionsCount--;let v=this.sessions[s];v.splice(v.indexOf(d),1),v.length===0&&delete this.sessions[s]}else{let v=new Error("Session closed without receiving a SETTINGS frame");v.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:x}of n)x(v);c()}this._tryToCreateNewSession(s,a)});let g=()=>{if(!(!(s in this.queue)||!m())){for(let v of d[ri])if(v in this.queue[s]){let{listeners:x}=this.queue[s][v];for(;x.length!==0&&m();)x.shift().resolve(d);let C=this.queue[s];if(C[v].listeners.length===0&&(delete C[v],Object.keys(C).length===0)){delete this.queue[s];break}if(!m())break}}};d.on("origin",()=>{d[ri]=d.originSet,m()&&(g(),rD(this.sessions[s],d))}),d.once("remoteSettings",()=>{if(d.ref(),d.unref(),this._sessionsCount++,u.destroyed){let v=new Error("Agent has been destroyed");for(let x of n)x.reject(v);d.destroy();return}d[ri]=d.originSet;{let v=this.sessions;if(s in v){let x=v[s];x.splice(Nue(x,d,jue),0,d)}else v[s]=[d]}this._freeSessionsCount+=1,p=!0,this.emit("session",d),g(),c(),d[Zr]===0&&this._freeSessionsCount>this.maxFreeSessions&&d.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),d.on("remoteSettings",()=>{g(),rD(this.sessions[s],d)})}),d[H2]=d.request,d.request=(v,x)=>{if(d[$p])throw new Error("The session is gracefully closing. No new streams are allowed.");let C=d[H2](v,x);return d.ref(),++d[Zr],d[Zr]===d.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,C.once("close",()=>{if(f=m(),--d[Zr],!d.destroyed&&!d.closed&&(Uue(this.sessions[s],d),m()&&!d.closed)){f||(this._freeSessionsCount++,f=!0);let $=d[Zr]===0;$&&d.unref(),$&&(this._freeSessionsCount>this.maxFreeSessions||d[$p])?d.close():(rD(this.sessions[s],d),g())}}),C}}catch(d){for(let m of n)m.reject(d);c()}};u.listeners=n,u.completed=!1,u.destroyed=!1,this.queue[s][a]=u,this._tryToCreateNewSession(s,a)})}request(e,r,n,i){return new Promise((o,s)=>{this.getSession(e,r,[{reject:s,resolve:a=>{try{o(a.request(n,i))}catch(c){s(c)}}}])})}createConnection(e,r){return t.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=i),Mue.connect(n,i,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[Zr]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(e);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return y2({agent:this,isFree:!0})}get busySessions(){return y2({agent:this,isFree:!1})}};fu.kCurrentStreamsCount=Zr;fu.kGracefullyClosing=$p;b2.exports={Agent:fu,globalAgent:new fu}});var oD=y((yOe,w2)=>{"use strict";var{Readable:que}=require("stream"),iD=class extends que{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};w2.exports=iD});var sD=y((vOe,x2)=>{"use strict";x2.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var A2=y((bOe,_2)=>{"use strict";_2.exports=(t,e,r)=>{for(let n of r)t.on(n,(...i)=>e.emit(n,...i))}});var S2=y((wOe,I2)=>{"use strict";I2.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var D2=y((_Oe,E2)=>{"use strict";var kp=(t,e,r)=>{E2.exports[e]=class extends t{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${e}]`,this.code=e}}};kp(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${n?"one of":"of"} type ${r}. Received ${typeof t[2]}`});kp(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);kp(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);kp(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);kp(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);kp(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var pD=y((AOe,R2)=>{"use strict";var Wue=require("http2"),{Writable:Vue}=require("stream"),{Agent:C2,globalAgent:Gue}=nD(),zue=oD(),Kue=sD(),Xue=A2(),Jue=S2(),{ERR_INVALID_ARG_TYPE:aD,ERR_INVALID_PROTOCOL:Yue,ERR_HTTP_HEADERS_SENT:P2,ERR_INVALID_HTTP_TOKEN:Que,ERR_HTTP_INVALID_HEADER_VALUE:Zue,ERR_INVALID_CHAR:ele}=D2(),{HTTP2_HEADER_STATUS:L2,HTTP2_HEADER_METHOD:T2,HTTP2_HEADER_PATH:$2,HTTP2_METHOD_CONNECT:tle}=Wue.constants,Wr=Symbol("headers"),cD=Symbol("origin"),uD=Symbol("session"),k2=Symbol("options"),Gb=Symbol("flushedHeaders"),dm=Symbol("jobs"),rle=/^[\^`\-\w!#$%&*+.|~]+$/,nle=/[^\t\u0020-\u007E\u0080-\u00FF]/,lD=class extends Vue{constructor(e,r,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=Kue(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(n=r,r=i?e:{...e}):r={...e,...r},r.h2session)this[uD]=r.h2session;else if(r.agent===!1)this.agent=new C2({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new C2({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=Gue;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new aD("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new Yue(r.protocol,"https:");let o=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,s=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[Wr]=Object.create(null),this[dm]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[c,u]of Object.entries(r.headers))this.setHeader(c,u);r.auth&&!("authorization"in this[Wr])&&(this[Wr].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[k2]=r,o===443?(this[cD]=`https://${s}`,":authority"in this[Wr]||(this[Wr][":authority"]=s)):(this[cD]=`https://${s}:${o}`,":authority"in this[Wr]||(this[Wr][":authority"]=`${s}:${o}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[Gb]=!1}get method(){return this[Wr][T2]}set method(e){e&&(this[Wr][T2]=e.toUpperCase())}get path(){return this[Wr][$2]}set path(e){e&&(this[Wr][$2]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,r,n);this._request?i():this[dm].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[dm].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[Gb]||this.destroyed)return;this[Gb]=!0;let e=this.method===tle,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||Xue(n,this,["timeout","continue","close","error"]);let i=s=>(...a)=>{!this.writable&&!this.destroyed?s(...a):this.once("finish",()=>{s(...a)})};n.once("response",i((s,a,c)=>{let u=new zue(this.socket,n.readableHighWaterMark);this.res=u,u.req=this,u.statusCode=s[L2],u.headers=s,u.rawHeaders=c,u.once("end",()=>{this.aborted?(u.aborted=!0,u.emit("aborted")):(u.complete=!0,u.socket=null,u.connection=null)}),e?(u.upgrade=!0,this.emit("connect",u,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!u._dumped&&!u.push(l)&&n.pause()}),n.once("end",()=>{u.push(null)}),this.emit("response",u)||u._dump())})),n.once("headers",i(s=>this.emit("information",{statusCode:s[L2]}))),n.once("trailers",i((s,a,c)=>{let{res:u}=this;u.trailers=s,u.rawTrailers=c}));let{socket:o}=n.session;this.socket=o,this.connection=o;for(let s of this[dm])s();this.emit("socket",this.socket)};if(this[uD])try{r(this[uD].request(this[Wr]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[cD],this[k2],this[Wr]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new aD("name","string",e);return this[Wr][e.toLowerCase()]}get headersSent(){return this[Gb]}removeHeader(e){if(typeof e!="string")throw new aD("name","string",e);if(this.headersSent)throw new P2("remove");delete this[Wr][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new P2("set");if(typeof e!="string"||!rle.test(e)&&!Jue(e))throw new Que("Header name",e);if(typeof r>"u")throw new Zue(r,e);if(nle.test(r))throw new ele("header content",e);this[Wr][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let n=()=>this._request.setTimeout(e,r);return this._request?n():this[dm].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};R2.exports=lD});var O2=y((IOe,M2)=>{"use strict";var ile=require("tls");M2.exports=(t={},e=ile.connect)=>new Promise((r,n)=>{let i=!1,o,s=async()=>{await c,o.off("timeout",a),o.off("error",n),t.resolveSocket?(r({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),r({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,s()},c=(async()=>{try{o=await e(t,s),o.on("error",n),o.once("timeout",a)}catch(u){n(u)}})()})});var B2=y((SOe,F2)=>{"use strict";var ole=require("net");F2.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),ole.isIP(e)?"":e}});var U2=y((EOe,fD)=>{"use strict";var N2=require("http"),dD=require("https"),sle=O2(),ale=tD(),cle=pD(),ule=B2(),lle=sD(),zb=new ale({maxSize:100}),fm=new Map,j2=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{t.emit("free",e,r)};e.on("free",n);let i=()=>{t.removeSocket(e,r)};e.on("close",i);let o=()=>{t.removeSocket(e,r),e.off("close",i),e.off("free",n),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},ple=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!zb.has(e)){if(fm.has(e))return(await fm.get(e)).alpnProtocol;let{path:r,agent:n}=t;t.path=t.socketPath;let i=sle(t);fm.set(e,i);try{let{socket:o,alpnProtocol:s}=await i;if(zb.set(e,s),t.path=r,s==="h2")o.destroy();else{let{globalAgent:a}=dD,c=dD.Agent.prototype.createConnection;n?n.createConnection===c?j2(n,o,t):o.destroy():a.createConnection===c?j2(a,o,t):o.destroy()}return fm.delete(e),s}catch(o){throw fm.delete(e),o}}return zb.get(e)};fD.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=lle(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||ule(e),e.port=e.port||(n?443:80),e._defaultAgent=n?dD.globalAgent:N2.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await ple(e)==="h2"?(i&&(e.agent=i.http2),new cle(e,r)):N2.request(e,r)};fD.exports.protocolCache=zb});var W2=y((DOe,q2)=>{"use strict";var dle=require("http2"),fle=nD(),hD=pD(),hle=oD(),mle=U2(),gle=(t,e,r)=>new hD(t,e,r),Hle=(t,e,r)=>{let n=new hD(t,e,r);return n.end(),n};q2.exports={...dle,ClientRequest:hD,IncomingMessage:hle,...fle,request:gle,get:Hle,auto:mle}});var gD=y(mD=>{"use strict";Object.defineProperty(mD,"__esModule",{value:!0});var V2=gs();mD.default=t=>V2.default.nodeStream(t)&&V2.default.function_(t.getBoundary)});var X2=y(HD=>{"use strict";Object.defineProperty(HD,"__esModule",{value:!0});var z2=require("fs"),K2=require("util"),G2=gs(),yle=gD(),vle=K2.promisify(z2.stat);HD.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(G2.default.string(t))return Buffer.byteLength(t);if(G2.default.buffer(t))return t.length;if(yle.default(t))return K2.promisify(t.getLength.bind(t))();if(t instanceof z2.ReadStream){let{size:r}=await vle(t.path);return r===0?void 0:r}}});var vD=y(yD=>{"use strict";Object.defineProperty(yD,"__esModule",{value:!0});function ble(t,e,r){let n={};for(let i of r)n[i]=(...o)=>{e.emit(i,...o)},t.on(i,n[i]);return()=>{for(let i of r)t.off(i,n[i])}}yD.default=ble});var J2=y(bD=>{"use strict";Object.defineProperty(bD,"__esModule",{value:!0});bD.default=()=>{let t=[];return{once(e,r,n){e.once(r,n),t.push({origin:e,event:r,fn:n})},unhandleAll(){for(let e of t){let{origin:r,event:n,fn:i}=e;r.removeListener(n,i)}t.length=0}}}});var Q2=y(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.TimeoutError=void 0;var wle=require("net"),xle=J2(),Y2=Symbol("reentry"),_le=()=>{},Kb=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};hm.TimeoutError=Kb;hm.default=(t,e,r)=>{if(Y2 in t)return _le;t[Y2]=!0;let n=[],{once:i,unhandleAll:o}=xle.default(),s=(p,d,m)=>{var f;let g=setTimeout(d,p,p,m);(f=g.unref)===null||f===void 0||f.call(g);let v=()=>{clearTimeout(g)};return n.push(v),v},{host:a,hostname:c}=r,u=(p,d)=>{t.destroy(new Kb(p,d))},l=()=>{for(let p of n)p();o()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),i(t,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&s(e.request,u,"request"),typeof e.socket<"u"){let p=()=>{u(e.socket,"socket")};t.setTimeout(e.socket,p),n.push(()=>{t.removeListener("timeout",p)})}return i(t,"socket",p=>{var d;let{socketPath:m}=t;if(p.connecting){let f=!!(m??wle.isIP((d=c??a)!==null&&d!==void 0?d:"")!==0);if(typeof e.lookup<"u"&&!f&&typeof p.address().address>"u"){let g=s(e.lookup,u,"lookup");i(p,"lookup",g)}if(typeof e.connect<"u"){let g=()=>s(e.connect,u,"connect");f?i(p,"connect",g()):i(p,"lookup",v=>{v===null&&i(p,"connect",g())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&i(p,"connect",()=>{let g=s(e.secureConnect,u,"secureConnect");i(p,"secureConnect",g)})}if(typeof e.send<"u"){let f=()=>s(e.send,u,"send");p.connecting?i(p,"connect",()=>{i(t,"upload-complete",f())}):i(t,"upload-complete",f())}}),typeof e.response<"u"&&i(t,"upload-complete",()=>{let p=s(e.response,u,"response");i(t,"response",p)}),l}});var eU=y(wD=>{"use strict";Object.defineProperty(wD,"__esModule",{value:!0});var Z2=gs();wD.default=t=>{t=t;let e={protocol:t.protocol,hostname:Z2.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return Z2.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var tU=y(xD=>{"use strict";Object.defineProperty(xD,"__esModule",{value:!0});var Ale=require("url"),Ile=["protocol","host","hostname","port","pathname","search"];xD.default=(t,e)=>{var r,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(n=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&n!==void 0?n:""}`}let i=new Ale.URL(t);if(e.path){let o=e.path.indexOf("?");o===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,o),e.search=e.path.slice(o+1)),delete e.path}for(let o of Ile)e[o]&&(i[o]=e[o].toString());return i}});var rU=y(AD=>{"use strict";Object.defineProperty(AD,"__esModule",{value:!0});var _D=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};AD.default=_D});var SD=y(ID=>{"use strict";Object.defineProperty(ID,"__esModule",{value:!0});var Sle=async t=>{let e=[],r=0;for await(let n of t)e.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};ID.default=Sle});var iU=y(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.dnsLookupIpVersionToFamily=hu.isDnsLookupIpVersion=void 0;var nU={auto:0,ipv4:4,ipv6:6};hu.isDnsLookupIpVersion=t=>t in nU;hu.dnsLookupIpVersionToFamily=t=>{if(hu.isDnsLookupIpVersion(t))return nU[t];throw new Error("Invalid DNS lookup IP version")}});var ED=y(Xb=>{"use strict";Object.defineProperty(Xb,"__esModule",{value:!0});Xb.isResponseOk=void 0;Xb.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var sU=y(DD=>{"use strict";Object.defineProperty(DD,"__esModule",{value:!0});var oU=new Set;DD.default=t=>{oU.has(t)||(oU.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var aU=y(CD=>{"use strict";Object.defineProperty(CD,"__esModule",{value:!0});var ht=gs(),Ele=(t,e)=>{if(ht.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ht.assert.any([ht.default.string,ht.default.undefined],t.encoding),ht.assert.any([ht.default.boolean,ht.default.undefined],t.resolveBodyOnly),ht.assert.any([ht.default.boolean,ht.default.undefined],t.methodRewriting),ht.assert.any([ht.default.boolean,ht.default.undefined],t.isStream),ht.assert.any([ht.default.string,ht.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ht.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(n=>n.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):ht.default.number(r)&&(t.retry.limit=r),ht.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(ht.default.number))),ht.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:n}=t;if(!ht.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ht.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ht.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ht.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};CD.default=Ele});var cU=y(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.retryAfterStatusCodes=void 0;mm.retryAfterStatusCodes=new Set([413,429,503]);var Dle=({attemptCount:t,retryOptions:e,error:r,retryAfter:n})=>{if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),s=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!s)return 0;if(r.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};mm.default=Dle});var ym=y(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.UnsupportedProtocolError=Ue.ReadError=Ue.TimeoutError=Ue.UploadError=Ue.CacheError=Ue.HTTPError=Ue.MaxRedirectsError=Ue.RequestError=Ue.setNonEnumerableProperties=Ue.knownHookEvents=Ue.withoutBody=Ue.kIsNormalizedAlready=void 0;var uU=require("util"),lU=require("stream"),Cle=require("fs"),Pa=require("url"),pU=require("http"),PD=require("http"),Ple=require("https"),Lle=S3(),Tle=$3(),dU=p2(),$le=m2(),kle=W2(),Rle=Wb(),V=gs(),Mle=X2(),fU=gD(),Ole=vD(),hU=Q2(),Fle=eU(),mU=tU(),Ble=rU(),Nle=SD(),gU=iU(),jle=ED(),La=sU(),Ule=aU(),qle=cU(),LD,_r=Symbol("request"),Qb=Symbol("response"),Rp=Symbol("responseSize"),Mp=Symbol("downloadedSize"),Op=Symbol("bodySize"),Fp=Symbol("uploadedSize"),Jb=Symbol("serverResponsesPiped"),HU=Symbol("unproxyEvents"),yU=Symbol("isFromCache"),TD=Symbol("cancelTimeouts"),vU=Symbol("startedReading"),Bp=Symbol("stopReading"),Yb=Symbol("triggerRead"),Ta=Symbol("body"),gm=Symbol("jobs"),bU=Symbol("originalResponse"),wU=Symbol("retryTimeout");Ue.kIsNormalizedAlready=Symbol("isNormalizedAlready");var Wle=V.default.string(process.versions.brotli);Ue.withoutBody=new Set(["GET","HEAD"]);Ue.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function Vle(t){for(let e in t){let r=t[e];if(!V.default.string(r)&&!V.default.number(r)&&!V.default.boolean(r)&&!V.default.null_(r)&&!V.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function Gle(t){return V.default.object(t)&&!("statusCode"in t)}var $D=new Ble.default,zle=async t=>new Promise((e,r)=>{let n=i=>{r(i)};t.pending||e(),t.once("error",n),t.once("ready",()=>{t.off("error",n),e()})}),Kle=new Set([300,301,302,303,304,307,308]),Xle=["context","body","json","form"];Ue.setNonEnumerableProperties=(t,e)=>{let r={};for(let n of t)if(n)for(let i of Xle)i in n&&(r[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,r)};var Ft=class extends Error{constructor(e,r,n){var i,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=r.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof ow?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[Qb]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(o=this.request)===null||o===void 0?void 0:o.timings,V.default.string(r.stack)&&V.default.string(this.stack)){let s=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(s).split(`
`).reverse(),c=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,s)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};Ue.RequestError=Ft;var Zb=class extends Ft{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Ue.MaxRedirectsError=Zb;var ew=class extends Ft{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Ue.HTTPError=ew;var tw=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Ue.CacheError=tw;var rw=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Ue.UploadError=rw;var nw=class extends Ft{constructor(e,r,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=r}};Ue.TimeoutError=nw;var Hm=class extends Ft{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Ue.ReadError=Hm;var iw=class extends Ft{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Ue.UnsupportedProtocolError=iw;var Jle=["socket","connect","continue","information","upgrade","timeout"],ow=class extends lU.Duplex{constructor(e,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[Mp]=0,this[Fp]=0,this.requestInitialized=!1,this[Jb]=new Set,this.redirects=[],this[Bp]=!1,this[Yb]=!1,this[gm]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",u=>{u.prependListener("data",i),u.on("data",o),u.prependListener("end",i),u.on("end",o)}),this.on("unpipe",u=>{u.off("data",i),u.off("data",o),u.off("end",i),u.off("end",o)}),this.on("pipe",u=>{u instanceof PD.IncomingMessage&&(this.options.headers={...u.headers,...this.options.headers})});let{json:s,body:a,form:c}=r;if((s||a||c)&&this._lockWrite(),Ue.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,n)}catch(u){V.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(u);return}(async()=>{var u;try{this.options.body instanceof Cle.ReadStream&&await zle(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(u=this[_r])===null||u===void 0||u.destroy();return}for(let p of this[gm])p();this[gm].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Ft){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,n){var i,o,s,a,c;let u=r;if(V.default.object(e)&&!V.default.urlInstance(e))r={...n,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},e!==void 0&&(r.url=e),V.default.urlInstance(r.url)&&(r.url=new Pa.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),V.assert.any([V.default.string,V.default.undefined],r.method),V.assert.any([V.default.object,V.default.undefined],r.headers),V.assert.any([V.default.string,V.default.urlInstance,V.default.undefined],r.prefixUrl),V.assert.any([V.default.object,V.default.undefined],r.cookieJar),V.assert.any([V.default.object,V.default.string,V.default.undefined],r.searchParams),V.assert.any([V.default.object,V.default.string,V.default.undefined],r.cache),V.assert.any([V.default.object,V.default.number,V.default.undefined],r.timeout),V.assert.any([V.default.object,V.default.undefined],r.context),V.assert.any([V.default.object,V.default.undefined],r.hooks),V.assert.any([V.default.boolean,V.default.undefined],r.decompress),V.assert.any([V.default.boolean,V.default.undefined],r.ignoreInvalidCookies),V.assert.any([V.default.boolean,V.default.undefined],r.followRedirect),V.assert.any([V.default.number,V.default.undefined],r.maxRedirects),V.assert.any([V.default.boolean,V.default.undefined],r.throwHttpErrors),V.assert.any([V.default.boolean,V.default.undefined],r.http2),V.assert.any([V.default.boolean,V.default.undefined],r.allowGetBody),V.assert.any([V.default.string,V.default.undefined],r.localAddress),V.assert.any([gU.isDnsLookupIpVersion,V.default.undefined],r.dnsLookupIpVersion),V.assert.any([V.default.object,V.default.undefined],r.https),V.assert.any([V.default.boolean,V.default.undefined],r.rejectUnauthorized),r.https&&(V.assert.any([V.default.boolean,V.default.undefined],r.https.rejectUnauthorized),V.assert.any([V.default.function_,V.default.undefined],r.https.checkServerIdentity),V.assert.any([V.default.string,V.default.object,V.default.array,V.default.undefined],r.https.certificateAuthority),V.assert.any([V.default.string,V.default.object,V.default.array,V.default.undefined],r.https.key),V.assert.any([V.default.string,V.default.object,V.default.array,V.default.undefined],r.https.certificate),V.assert.any([V.default.string,V.default.undefined],r.https.passphrase),V.assert.any([V.default.string,V.default.buffer,V.default.array,V.default.undefined],r.https.pfx)),V.assert.any([V.default.object,V.default.undefined],r.cacheOptions),V.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=Rle({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let m;if(V.default.string(r.searchParams)||r.searchParams instanceof Pa.URLSearchParams)m=new Pa.URLSearchParams(r.searchParams);else{Vle(r.searchParams),m=new Pa.URLSearchParams;for(let f in r.searchParams){let g=r.searchParams[f];g===null?m.append(f,""):g!==void 0&&m.append(f,g)}}(i=n?.searchParams)===null||i===void 0||i.forEach((f,g)=>{m.has(g)||m.append(g,f)}),r.searchParams=m}if(r.username=(o=r.username)!==null&&o!==void 0?o:"",r.password=(s=r.password)!==null&&s!==void 0?s:"",V.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),V.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=mU.default(r.prefixUrl+r.url,r)}else(V.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=mU.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:g=>{let v=r.url;if(!v.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${g}: ${v.href}`);r.url=new Pa.URL(g+v.href.slice(m.length)),m=g},get:()=>m});let{protocol:f}=r.url;if(f==="unix:"&&(f="http:",r.url=new Pa.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),f!=="http:"&&f!=="https:")throw new iw(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:m,getCookieString:f}=l;V.assert.function_(m),V.assert.function_(f),m.length===4&&f.length===0&&(m=uU.promisify(m.bind(r.cookieJar)),f=uU.promisify(f.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:f})}let{cache:p}=r;if(p&&($D.has(p)||$D.set(p,new dU((m,f)=>{let g=m[_r](m,f);return V.default.promise(g)&&(g.once=(v,x)=>{if(v==="error")g.catch(x);else if(v==="abort")(async()=>{try{(await g).once("abort",x)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${v}`);return g}),g},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)LD||(LD=new Tle.default),r.dnsCache=LD;else if(!V.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${V.default(r.dnsCache)}`);V.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let d=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let m of Ue.knownHookEvents)if(m in r.hooks)if(V.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${V.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!d)for(let m of Ue.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&La.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&La.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&La.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&La.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&La.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&La.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&La.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&La.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(c=r.maxRedirects)!==null&&c!==void 0?c:0,Ue.setNonEnumerableProperties([n,u],r),Ule.default(r,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!V.default.undefined(e.form),i=!V.default.undefined(e.json),o=!V.default.undefined(e.body),s=n||i||o,a=Ue.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,s){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,i].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof lU.Readable)&&!V.default.string(e.body)&&!V.default.buffer(e.body)&&!fU.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!V.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let c=!V.default.string(r["content-type"]);o?(fU.default(e.body)&&c&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[Ta]=e.body):n?(c&&(r["content-type"]="application/x-www-form-urlencoded"),this[Ta]=new Pa.URLSearchParams(e.form).toString()):(c&&(r["content-type"]="application/json"),this[Ta]=e.stringifyJson(e.json));let u=await Mle.default(this[Ta],e.headers);V.default.undefined(r["content-length"])&&V.default.undefined(r["transfer-encoding"])&&!a&&!V.default.undefined(u)&&(r["content-length"]=String(u))}}else a?this._lockWrite():this._unlockWrite();this[Op]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:n}=r;this[bU]=e,r.decompress&&(e=$le(e));let i=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:pU.STATUS_CODES[i],o.url=r.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[yU]=o.isFromCache,this[Rp]=Number(e.headers["content-length"])||void 0,this[Qb]=e,e.once("end",()=>{this[Rp]=this[Mp],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new Hm(a,this))}),e.once("aborted",()=>{this._beforeError(new Hm({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(V.default.object(r.cookieJar)&&s){let a=s.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(r.followRedirect&&e.headers.location&&Kle.has(i)){if(e.resume(),this[_r]&&(this[TD](),delete this[_r],this[HU]()),(i===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[Ta]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new Zb(this));return}try{let p=function(d){return d.protocol==="unix:"||d.hostname==="unix"},c=Buffer.from(e.headers.location,"binary").toString(),u=new Pa.URL(c,n),l=u.toString();if(decodeURI(l),!p(n)&&p(u)){this._beforeError(new Ft("Cannot redirect to UNIX socket",{},this));return}u.hostname!==n.hostname||u.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(u.username=r.username,u.password=r.password),this.redirects.push(l),r.url=u;for(let d of r.hooks.beforeRedirect)await d(r,o);this.emit("redirect",o,r),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(r.isStream&&r.throwHttpErrors&&!jle.isResponseOk(o)){this._beforeError(new ew(o));return}e.on("readable",()=>{this[Yb]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[Jb])if(!a.headersSent){for(let c in e.headers){let u=r.decompress?c!=="content-encoding":!0,l=e.headers[c];u&&a.setHeader(c,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;Lle.default(e),this[TD]=hU.default(e,n,i);let o=r.cache?"cacheableResponse":"response";e.once(o,c=>{this._onResponse(c)}),e.once("error",c=>{var u;e.destroy(),(u=e.res)===null||u===void 0||u.removeAllListeners("end"),c=c instanceof hU.TimeoutError?new nw(c,this.timings,this):new Ft(c.message,c,this),this._beforeError(c)}),this[HU]=Ole.default(e,this,Jle),this[_r]=e,this.emit("uploadProgress",this.uploadProgress);let s=this[Ta],a=this.redirects.length===0?this:e;V.default.nodeStream(s)?(s.pipe(a),s.once("error",c=>{this._beforeError(new rw(c,this))})):(this._unlockWrite(),V.default.undefined(s)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(s,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,Fle.default(e)),delete r.url;let o,s=$D.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",a),n(a)});r.url=e,s.once("error",i),s.once("request",async a=>{o=a,n(o)})})}async _makeRequest(){var e,r,n,i,o;let{options:s}=this,{headers:a}=s;for(let x in a)if(V.default.undefined(a[x]))delete a[x];else if(V.default.null_(a[x]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${x}\` header`);if(s.decompress&&V.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=Wle?"gzip, deflate, br":"gzip, deflate"),s.cookieJar){let x=await s.cookieJar.getCookieString(s.url.toString());V.default.nonEmptyString(x)&&(s.headers.cookie=x)}for(let x of s.hooks.beforeRequest){let C=await x(s);if(!V.default.undefined(C)){s.request=()=>C;break}}s.body&&this[Ta]!==s.body&&(this[Ta]=s.body);let{agent:c,request:u,timeout:l,url:p}=s;if(s.dnsCache&&!("lookup"in s)&&(s.lookup=s.dnsCache.lookup),p.hostname==="unix"){let x=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(x?.groups){let{socketPath:C,path:$}=x.groups;Object.assign(s,{socketPath:C,path:$,host:""})}}let d=p.protocol==="https:",m;s.http2?m=kle.auto:m=d?Ple.request:pU.request;let f=(e=s.request)!==null&&e!==void 0?e:m,g=s.cache?this._createCacheableRequest:f;c&&!s.http2&&(s.agent=c[d?"https":"http"]),s[_r]=f,delete s.request,delete s.timeout;let v=s;if(v.shared=(r=s.cacheOptions)===null||r===void 0?void 0:r.shared,v.cacheHeuristic=(n=s.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,v.immutableMinTimeToLive=(i=s.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,v.ignoreCargoCult=(o=s.cacheOptions)===null||o===void 0?void 0:o.ignoreCargoCult,s.dnsLookupIpVersion!==void 0)try{v.family=gU.dnsLookupIpVersionToFamily(s.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}s.https&&("rejectUnauthorized"in s.https&&(v.rejectUnauthorized=s.https.rejectUnauthorized),s.https.checkServerIdentity&&(v.checkServerIdentity=s.https.checkServerIdentity),s.https.certificateAuthority&&(v.ca=s.https.certificateAuthority),s.https.certificate&&(v.cert=s.https.certificate),s.https.key&&(v.key=s.https.key),s.https.passphrase&&(v.passphrase=s.https.passphrase),s.https.pfx&&(v.pfx=s.https.pfx));try{let x=await g(p,v);V.default.undefined(x)&&(x=m(p,v)),s.request=u,s.timeout=l,s.agent=c,s.https&&("rejectUnauthorized"in s.https&&delete v.rejectUnauthorized,s.https.checkServerIdentity&&delete v.checkServerIdentity,s.https.certificateAuthority&&delete v.ca,s.https.certificate&&delete v.cert,s.https.key&&delete v.key,s.https.passphrase&&delete v.passphrase,s.https.pfx&&delete v.pfx),Gle(x)?this._onRequest(x):this.writable?(this.once("finish",()=>{this._onResponse(x)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(x)}catch(x){throw x instanceof dU.CacheError?new tw(x,this):new Ft(x.message,x,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Ft(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[Bp])return;let{options:r}=this,n=this.retryCount+1;this[Bp]=!0,e instanceof Ft||(e=new Ft(e.message,e,this));let i=e,{response:o}=i;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await Nle.default(o),o.body=o.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let s;try{let a;o&&"retry-after"in o.headers&&(a=Number(o.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(o.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),s=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:qle.default({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new Ft(a.message,a,this));return}if(s){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,i,n)}catch(c){this._error(new Ft(c.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[wU]=setTimeout(a,s);return}}this._error(i)})()}_read(){this[Yb]=!0;let e=this[Qb];if(e&&!this[Bp]){e.readableLength&&(this[Yb]=!1);let r;for(;(r=e.read())!==null;){this[Mp]+=r.length,this[vU]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this.requestInitialized?i():this[gm].push(i)}_writeRequest(e,r,n){this[_r].destroyed||(this._progressCallbacks.push(()=>{this[Fp]+=Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[_r].write(e,r,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(_r in this)){e();return}if(this[_r].destroyed){e();return}this[_r].end(n=>{n||(this[Op]=this[Fp],this.emit("uploadProgress",this.uploadProgress),this[_r].emit("upload-complete")),e(n)})};this.requestInitialized?r():this[gm].push(r)}_destroy(e,r){var n;this[Bp]=!0,clearTimeout(this[wU]),_r in this&&(this[TD](),!((n=this[Qb])===null||n===void 0)&&n.complete||this[_r].destroy()),e!==null&&!V.default.undefined(e)&&!(e instanceof Ft)&&(e=new Ft(e.message,e,this)),r(e)}get _isAboutToError(){return this[Bp]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,n;return((r=(e=this[_r])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[bU])===null||n===void 0)&&n.complete)}get socket(){var e,r;return(r=(e=this[_r])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[Rp]?e=this[Mp]/this[Rp]:this[Rp]===this[Mp]?e=1:e=0,{percent:e,transferred:this[Mp],total:this[Rp]}}get uploadProgress(){let e;return this[Op]?e=this[Fp]/this[Op]:this[Op]===this[Fp]?e=1:e=0,{percent:e,transferred:this[Fp],total:this[Op]}}get timings(){var e;return(e=this[_r])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[yU]}pipe(e,r){if(this[vU])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof PD.ServerResponse&&this[Jb].add(e),super.pipe(e,r)}unpipe(e){return e instanceof PD.ServerResponse&&this[Jb].delete(e),super.unpipe(e),this}};Ue.default=ow});var vm=y(Ti=>{"use strict";var Yle=Ti&&Ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qle=Ti&&Ti.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Yle(e,t,r)};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.CancelError=Ti.ParseError=void 0;var xU=ym(),kD=class extends xU.RequestError{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};Ti.ParseError=kD;var RD=class extends xU.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};Ti.CancelError=RD;Qle(ym(),Ti)});var AU=y(MD=>{"use strict";Object.defineProperty(MD,"__esModule",{value:!0});var _U=vm(),Zle=(t,e,r,n)=>{let{rawBody:i}=t;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":r(i.toString());if(e==="buffer")return i;throw new _U.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(o){throw new _U.ParseError(o,t)}};MD.default=Zle});var OD=y($a=>{"use strict";var epe=$a&&$a.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tpe=$a&&$a.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&epe(e,t,r)};Object.defineProperty($a,"__esModule",{value:!0});var rpe=require("events"),npe=gs(),ipe=A3(),sw=vm(),IU=AU(),SU=ym(),ope=vD(),spe=SD(),EU=ED(),ape=["request","response","redirect","uploadProgress","downloadProgress"];function DU(t){let e,r,n=new rpe.EventEmitter,i=new ipe((s,a,c)=>{let u=l=>{let p=new SU.default(void 0,t);p.retryCount=l,p._noPipe=!0,c(()=>p.destroy()),c.shouldReject=!1,c(()=>a(new sw.CancelError(p))),e=p,p.once("response",async f=>{var g;if(f.retryCount=l,f.request.aborted)return;let v;try{v=await spe.default(p),f.rawBody=v}catch{return}if(p._isAboutToError)return;let x=((g=f.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),C=["gzip","deflate","br"].includes(x),{options:$}=p;if(C&&!$.decompress)f.body=v;else try{f.body=IU.default(f,$.responseType,$.parseJson,$.encoding)}catch(T){if(f.body=v.toString(),EU.isResponseOk(f)){p._beforeError(T);return}}try{for(let[T,R]of $.hooks.afterResponse.entries())f=await R(f,async J=>{let X=SU.default.normalizeArguments(void 0,{...J,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},$);X.hooks.afterResponse=X.hooks.afterResponse.slice(0,T);for(let M of X.hooks.beforeRetry)await M(X);let F=DU(X);return c(()=>{F.catch(()=>{}),F.cancel()}),F})}catch(T){p._beforeError(new sw.RequestError(T.message,T,p));return}if(r=f,!EU.isResponseOk(f)){p._beforeError(new sw.HTTPError(f));return}p.destroy(),s(p.options.resolveBodyOnly?f.body:f)});let d=f=>{if(i.isCanceled)return;let{options:g}=p;if(f instanceof sw.HTTPError&&!g.throwHttpErrors){let{response:v}=f;s(p.options.resolveBodyOnly?v.body:v);return}a(f)};p.once("error",d);let m=p.options.body;p.once("retry",(f,g)=>{var v,x;if(m===((v=g.request)===null||v===void 0?void 0:v.options.body)&&npe.default.nodeStream((x=g.request)===null||x===void 0?void 0:x.options.body)){d(g);return}u(f)}),ope.default(p,n,ape)};u(0)});i.on=(s,a)=>(n.on(s,a),i);let o=s=>{let a=(async()=>{await i;let{options:c}=r.request;return IU.default(r,s,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:s}=e.options;return!e.writableFinished&&s.accept===void 0&&(s.accept="application/json"),o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}$a.default=DU;tpe(vm(),$a)});var CU=y(FD=>{"use strict";Object.defineProperty(FD,"__esModule",{value:!0});var cpe=vm();function upe(t,...e){let r=(async()=>{if(t instanceof cpe.RequestError)try{for(let i of e)if(i)for(let o of i)t=await o(t)}catch(i){t=i}throw t})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}FD.default=upe});var TU=y(BD=>{"use strict";Object.defineProperty(BD,"__esModule",{value:!0});var PU=gs();function LU(t){for(let e of Object.values(t))(PU.default.plainObject(e)||PU.default.array(e))&&LU(e);return Object.freeze(t)}BD.default=LU});var kU=y($U=>{"use strict";Object.defineProperty($U,"__esModule",{value:!0})});var ND=y(ii=>{"use strict";var lpe=ii&&ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ppe=ii&&ii.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lpe(e,t,r)};Object.defineProperty(ii,"__esModule",{value:!0});ii.defaultHandler=void 0;var RU=gs(),ni=OD(),dpe=CU(),cw=ym(),fpe=TU(),hpe={RequestError:ni.RequestError,CacheError:ni.CacheError,ReadError:ni.ReadError,HTTPError:ni.HTTPError,MaxRedirectsError:ni.MaxRedirectsError,TimeoutError:ni.TimeoutError,ParseError:ni.ParseError,CancelError:ni.CancelError,UnsupportedProtocolError:ni.UnsupportedProtocolError,UploadError:ni.UploadError},mpe=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:aw}=cw.default,MU=(...t)=>{let e;for(let r of t)e=aw(void 0,r,e);return e},gpe=t=>t.isStream?new cw.default(void 0,t):ni.default(t),Hpe=t=>"defaults"in t&&"options"in t.defaults,ype=["get","post","put","patch","head","delete"];ii.defaultHandler=(t,e)=>e(t);var OU=(t,e)=>{if(t)for(let r of t)r(e)},FU=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(n=>(i,o)=>{let s,a=n(i,c=>(s=o(c),s));if(a!==s&&!i.isStream&&s){let c=a,{then:u,catch:l,finally:p}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(s)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c.then=u,c.catch=l,c.finally=p}return a});let e=(n,i={},o)=>{var s,a;let c=0,u=l=>t.handlers[c++](l,c===t.handlers.length?gpe:u);if(RU.default.plainObject(n)){let l={...n,...i};cw.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{OU(t.options.hooks.init,i),OU((s=i.hooks)===null||s===void 0?void 0:s.init,i)}catch(d){l=d}let p=aw(n,i,o??t.options);if(p[cw.kIsNormalizedAlready]=!0,l)throw new ni.RequestError(l.message,l,p);return u(p)}catch(l){if(i.isStream)throw l;return dpe.default(l,t.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[t.options],o=[...t._rawHandlers],s;for(let a of n)Hpe(a)?(i.push(a.defaults.options),o.push(...a.defaults._rawHandlers),s=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&o.push(...a.handlers),s=a.mutableDefaults);return o=o.filter(a=>a!==ii.defaultHandler),o.length===0&&o.push(ii.defaultHandler),FU({options:MU(...i),handlers:o,mutableDefaults:!!s})};let r=async function*(n,i){let o=aw(n,i,t.options);o.resolveBodyOnly=!1;let s=o.pagination;if(!RU.default.object(s))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=s,u=0;for(;u<s.requestLimit;){u!==0&&await mpe(s.backoff);let l=await e(void 0,void 0,o),p=await s.transform(l),d=[];for(let f of p)if(s.filter(f,a,d)&&(!s.shouldContinue(f,a,d)||(yield f,s.stackAllItems&&a.push(f),d.push(f),--c<=0)))return;let m=s.paginate(l,a,d);if(m===!1)return;m===l.request.options?o=l.request.options:m!==void 0&&(o=aw(void 0,m,o)),u++}};e.paginate=r,e.paginate.all=async(n,i)=>{let o=[];for await(let s of r(n,i))o.push(s);return o},e.paginate.each=r,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of ype)e[n]=(i,o)=>e(i,{...o,method:n}),e.stream[n]=(i,o)=>e(i,{...o,method:n,isStream:!0});return Object.assign(e,hpe),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:fpe.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=MU,e};ii.default=FU;ppe(kU(),ii)});var jU=y((Hs,uw)=>{"use strict";var vpe=Hs&&Hs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BU=Hs&&Hs.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vpe(e,t,r)};Object.defineProperty(Hs,"__esModule",{value:!0});var bpe=require("url"),NU=ND(),wpe={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let n of e){let i=n.split(";");if(i[1].includes("next")){r=i[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new bpe.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[NU.defaultHandler],mutableDefaults:!1},jD=NU.default(wpe);Hs.default=jD;uw.exports=jD;uw.exports.default=jD;uw.exports.__esModule=!0;BU(ND(),Hs);BU(OD(),Hs)});var JU=y((eBe,pw)=>{var tr=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=d(n),o="0123456789abcdefghijklmnopqrstuvwxyz",s=typeof BigInt=="function";function a(h,H,w,_){return typeof h>"u"?a[0]:typeof H<"u"?+H==10&&!w?be(h):_t(h,H,w,_):be(h)}function c(h,H){this.value=h,this.sign=H,this.isSmall=!1}c.prototype=Object.create(a.prototype);function u(h){this.value=h,this.sign=h<0,this.isSmall=!0}u.prototype=Object.create(a.prototype);function l(h){this.value=h}l.prototype=Object.create(a.prototype);function p(h){return-n<h&&h<n}function d(h){return h<1e7?[h]:h<1e14?[h%1e7,Math.floor(h/1e7)]:[h%1e7,Math.floor(h/1e7)%1e7,Math.floor(h/1e14)]}function m(h){f(h);var H=h.length;if(H<4&&z(h,i)<0)switch(H){case 0:return 0;case 1:return h[0];case 2:return h[0]+h[1]*e;default:return h[0]+(h[1]+h[2]*e)*e}return h}function f(h){for(var H=h.length;h[--H]===0;);h.length=H+1}function g(h){for(var H=new Array(h),w=-1;++w<h;)H[w]=0;return H}function v(h){return h>0?Math.floor(h):Math.ceil(h)}function x(h,H){var w=h.length,_=H.length,P=new Array(w),k=0,j=e,q,N;for(N=0;N<_;N++)q=h[N]+H[N]+k,k=q>=j?1:0,P[N]=q-k*j;for(;N<w;)q=h[N]+k,k=q===j?1:0,P[N++]=q-k*j;return k>0&&P.push(k),P}function C(h,H){return h.length>=H.length?x(h,H):x(H,h)}function $(h,H){var w=h.length,_=new Array(w),P=e,k,j;for(j=0;j<w;j++)k=h[j]-P+H,H=Math.floor(k/P),_[j]=k-H*P,H+=1;for(;H>0;)_[j++]=H%P,H=Math.floor(H/P);return _}c.prototype.add=function(h){var H=be(h);if(this.sign!==H.sign)return this.subtract(H.negate());var w=this.value,_=H.value;return H.isSmall?new c($(w,Math.abs(_)),this.sign):new c(C(w,_),this.sign)},c.prototype.plus=c.prototype.add,u.prototype.add=function(h){var H=be(h),w=this.value;if(w<0!==H.sign)return this.subtract(H.negate());var _=H.value;if(H.isSmall){if(p(w+_))return new u(w+_);_=d(Math.abs(_))}return new c($(_,Math.abs(w)),w<0)},u.prototype.plus=u.prototype.add,l.prototype.add=function(h){return new l(this.value+be(h).value)},l.prototype.plus=l.prototype.add;function T(h,H){var w=h.length,_=H.length,P=new Array(w),k=0,j=e,q,N;for(q=0;q<_;q++)N=h[q]-k-H[q],N<0?(N+=j,k=1):k=0,P[q]=N;for(q=_;q<w;q++){if(N=h[q]-k,N<0)N+=j;else{P[q++]=N;break}P[q]=N}for(;q<w;q++)P[q]=h[q];return f(P),P}function R(h,H,w){var _;return z(h,H)>=0?_=T(h,H):(_=T(H,h),w=!w),_=m(_),typeof _=="number"?(w&&(_=-_),new u(_)):new c(_,w)}function J(h,H,w){var _=h.length,P=new Array(_),k=-H,j=e,q,N;for(q=0;q<_;q++)N=h[q]+k,k=Math.floor(N/j),N%=j,P[q]=N<0?N+j:N;return P=m(P),typeof P=="number"?(w&&(P=-P),new u(P)):new c(P,w)}c.prototype.subtract=function(h){var H=be(h);if(this.sign!==H.sign)return this.add(H.negate());var w=this.value,_=H.value;return H.isSmall?J(w,Math.abs(_),this.sign):R(w,_,this.sign)},c.prototype.minus=c.prototype.subtract,u.prototype.subtract=function(h){var H=be(h),w=this.value;if(w<0!==H.sign)return this.add(H.negate());var _=H.value;return H.isSmall?new u(w-_):J(_,Math.abs(w),w>=0)},u.prototype.minus=u.prototype.subtract,l.prototype.subtract=function(h){return new l(this.value-be(h).value)},l.prototype.minus=l.prototype.subtract,c.prototype.negate=function(){return new c(this.value,!this.sign)},u.prototype.negate=function(){var h=this.sign,H=new u(-this.value);return H.sign=!h,H},l.prototype.negate=function(){return new l(-this.value)},c.prototype.abs=function(){return new c(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function X(h,H){var w=h.length,_=H.length,P=w+_,k=g(P),j=e,q,N,ae,de,He;for(ae=0;ae<w;++ae){de=h[ae];for(var Re=0;Re<_;++Re)He=H[Re],q=de*He+k[ae+Re],N=Math.floor(q/j),k[ae+Re]=q-N*j,k[ae+Re+1]+=N}return f(k),k}function F(h,H){var w=h.length,_=new Array(w),P=e,k=0,j,q;for(q=0;q<w;q++)j=h[q]*H+k,k=Math.floor(j/P),_[q]=j-k*P;for(;k>0;)_[q++]=k%P,k=Math.floor(k/P);return _}function M(h,H){for(var w=[];H-- >0;)w.push(0);return w.concat(h)}function O(h,H){var w=Math.max(h.length,H.length);if(w<=30)return X(h,H);w=Math.ceil(w/2);var _=h.slice(w),P=h.slice(0,w),k=H.slice(w),j=H.slice(0,w),q=O(P,j),N=O(_,k),ae=O(C(P,_),C(j,k)),de=C(C(q,M(T(T(ae,q),N),w)),M(N,2*w));return f(de),de}function D(h,H){return-.012*h-.012*H+15e-6*h*H>0}c.prototype.multiply=function(h){var H=be(h),w=this.value,_=H.value,P=this.sign!==H.sign,k;if(H.isSmall){if(_===0)return a[0];if(_===1)return this;if(_===-1)return this.negate();if(k=Math.abs(_),k<e)return new c(F(w,k),P);_=d(k)}return D(w.length,_.length)?new c(O(w,_),P):new c(X(w,_),P)},c.prototype.times=c.prototype.multiply;function W(h,H,w){return h<e?new c(F(H,h),w):new c(X(H,d(h)),w)}u.prototype._multiplyBySmall=function(h){return p(h.value*this.value)?new u(h.value*this.value):W(Math.abs(h.value),d(Math.abs(this.value)),this.sign!==h.sign)},c.prototype._multiplyBySmall=function(h){return h.value===0?a[0]:h.value===1?this:h.value===-1?this.negate():W(Math.abs(h.value),this.value,this.sign!==h.sign)},u.prototype.multiply=function(h){return be(h)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply,l.prototype.multiply=function(h){return new l(this.value*be(h).value)},l.prototype.times=l.prototype.multiply;function B(h){var H=h.length,w=g(H+H),_=e,P,k,j,q,N;for(j=0;j<H;j++){q=h[j],k=0-q*q;for(var ae=j;ae<H;ae++)N=h[ae],P=2*(q*N)+w[j+ae]+k,k=Math.floor(P/_),w[j+ae]=P-k*_;w[j+H]=k}return f(w),w}c.prototype.square=function(){return new c(B(this.value),!1)},u.prototype.square=function(){var h=this.value*this.value;return p(h)?new u(h):new c(B(d(Math.abs(this.value))),!1)},l.prototype.square=function(h){return new l(this.value*this.value)};function G(h,H){var w=h.length,_=H.length,P=e,k=g(H.length),j=H[_-1],q=Math.ceil(P/(2*j)),N=F(h,q),ae=F(H,q),de,He,Re,wn,tn,P0,L0;for(N.length<=w&&N.push(0),ae.push(0),j=ae[_-1],He=w-_;He>=0;He--){for(de=P-1,N[He+_]!==j&&(de=Math.floor((N[He+_]*P+N[He+_-1])/j)),Re=0,wn=0,P0=ae.length,tn=0;tn<P0;tn++)Re+=de*ae[tn],L0=Math.floor(Re/P),wn+=N[He+tn]-(Re-L0*P),Re=L0,wn<0?(N[He+tn]=wn+P,wn=-1):(N[He+tn]=wn,wn=0);for(;wn!==0;){for(de-=1,Re=0,tn=0;tn<P0;tn++)Re+=N[He+tn]-P+ae[tn],Re<0?(N[He+tn]=Re+P,Re=0):(N[He+tn]=Re,Re=1);wn+=Re}k[He]=de}return N=L(N,q)[0],[m(k),m(N)]}function S(h,H){for(var w=h.length,_=H.length,P=[],k=[],j=e,q,N,ae,de,He;w;){if(k.unshift(h[--w]),f(k),z(k,H)<0){P.push(0);continue}N=k.length,ae=k[N-1]*j+k[N-2],de=H[_-1]*j+H[_-2],N>_&&(ae=(ae+1)*j),q=Math.ceil(ae/de);do{if(He=F(H,q),z(He,k)<=0)break;q--}while(q);P.push(q),k=T(k,He)}return P.reverse(),[m(P),m(k)]}function L(h,H){var w=h.length,_=g(w),P=e,k,j,q,N;for(q=0,k=w-1;k>=0;--k)N=q*P+h[k],j=v(N/H),q=N-j*H,_[k]=j|0;return[_,q|0]}function K(h,H){var w,_=be(H);if(s)return[new l(h.value/_.value),new l(h.value%_.value)];var P=h.value,k=_.value,j;if(k===0)throw new Error("Cannot divide by zero");if(h.isSmall)return _.isSmall?[new u(v(P/k)),new u(P%k)]:[a[0],h];if(_.isSmall){if(k===1)return[h,a[0]];if(k==-1)return[h.negate(),a[0]];var q=Math.abs(k);if(q<e){w=L(P,q),j=m(w[0]);var N=w[1];return h.sign&&(N=-N),typeof j=="number"?(h.sign!==_.sign&&(j=-j),[new u(j),new u(N)]):[new c(j,h.sign!==_.sign),new u(N)]}k=d(q)}var ae=z(P,k);if(ae===-1)return[a[0],h];if(ae===0)return[a[h.sign===_.sign?1:-1],a[0]];P.length+k.length<=200?w=G(P,k):w=S(P,k),j=w[0];var de=h.sign!==_.sign,He=w[1],Re=h.sign;return typeof j=="number"?(de&&(j=-j),j=new u(j)):j=new c(j,de),typeof He=="number"?(Re&&(He=-He),He=new u(He)):He=new c(He,Re),[j,He]}c.prototype.divmod=function(h){var H=K(this,h);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=u.prototype.divmod=c.prototype.divmod,c.prototype.divide=function(h){return K(this,h)[0]},l.prototype.over=l.prototype.divide=function(h){return new l(this.value/be(h).value)},u.prototype.over=u.prototype.divide=c.prototype.over=c.prototype.divide,c.prototype.mod=function(h){return K(this,h)[1]},l.prototype.mod=l.prototype.remainder=function(h){return new l(this.value%be(h).value)},u.prototype.remainder=u.prototype.mod=c.prototype.remainder=c.prototype.mod,c.prototype.pow=function(h){var H=be(h),w=this.value,_=H.value,P,k,j;if(_===0)return a[1];if(w===0)return a[0];if(w===1)return a[1];if(w===-1)return H.isEven()?a[1]:a[-1];if(H.sign)return a[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(P=Math.pow(w,_)))return new u(v(P));for(k=this,j=a[1];_&!0&&(j=j.times(k),--_),_!==0;)_/=2,k=k.square();return j},u.prototype.pow=c.prototype.pow,l.prototype.pow=function(h){var H=be(h),w=this.value,_=H.value,P=BigInt(0),k=BigInt(1),j=BigInt(2);if(_===P)return a[1];if(w===P)return a[0];if(w===k)return a[1];if(w===BigInt(-1))return H.isEven()?a[1]:a[-1];if(H.isNegative())return new l(P);for(var q=this,N=a[1];(_&k)===k&&(N=N.times(q),--_),_!==P;)_/=j,q=q.square();return N},c.prototype.modPow=function(h,H){if(h=be(h),H=be(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var w=a[1],_=this.mod(H);for(h.isNegative()&&(h=h.multiply(a[-1]),_=_.modInv(H));h.isPositive();){if(_.isZero())return a[0];h.isOdd()&&(w=w.multiply(_).mod(H)),h=h.divide(2),_=_.square().mod(H)}return w},l.prototype.modPow=u.prototype.modPow=c.prototype.modPow;function z(h,H){if(h.length!==H.length)return h.length>H.length?1:-1;for(var w=h.length-1;w>=0;w--)if(h[w]!==H[w])return h[w]>H[w]?1:-1;return 0}c.prototype.compareAbs=function(h){var H=be(h),w=this.value,_=H.value;return H.isSmall?1:z(w,_)},u.prototype.compareAbs=function(h){var H=be(h),w=Math.abs(this.value),_=H.value;return H.isSmall?(_=Math.abs(_),w===_?0:w>_?1:-1):-1},l.prototype.compareAbs=function(h){var H=this.value,w=be(h).value;return H=H>=0?H:-H,w=w>=0?w:-w,H===w?0:H>w?1:-1},c.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),w=this.value,_=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:z(w,_)*(this.sign?-1:1)},c.prototype.compareTo=c.prototype.compare,u.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=be(h),w=this.value,_=H.value;return H.isSmall?w==_?0:w>_?1:-1:w<0!==H.sign?w<0?-1:1:w<0?1:-1},u.prototype.compareTo=u.prototype.compare,l.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var H=this.value,w=be(h).value;return H===w?0:H>w?1:-1},l.prototype.compareTo=l.prototype.compare,c.prototype.equals=function(h){return this.compare(h)===0},l.prototype.eq=l.prototype.equals=u.prototype.eq=u.prototype.equals=c.prototype.eq=c.prototype.equals,c.prototype.notEquals=function(h){return this.compare(h)!==0},l.prototype.neq=l.prototype.notEquals=u.prototype.neq=u.prototype.notEquals=c.prototype.neq=c.prototype.notEquals,c.prototype.greater=function(h){return this.compare(h)>0},l.prototype.gt=l.prototype.greater=u.prototype.gt=u.prototype.greater=c.prototype.gt=c.prototype.greater,c.prototype.lesser=function(h){return this.compare(h)<0},l.prototype.lt=l.prototype.lesser=u.prototype.lt=u.prototype.lesser=c.prototype.lt=c.prototype.lesser,c.prototype.greaterOrEquals=function(h){return this.compare(h)>=0},l.prototype.geq=l.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals,c.prototype.lesserOrEquals=function(h){return this.compare(h)<=0},l.prototype.leq=l.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals,c.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},c.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},c.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=u.prototype.isPositive,c.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=u.prototype.isNegative,c.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},c.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},c.prototype.isDivisibleBy=function(h){var H=be(h);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=u.prototype.isDivisibleBy=c.prototype.isDivisibleBy;function ee(h){var H=h.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function ne(h,H){for(var w=h.prev(),_=w,P=0,k,j,q,N;_.isEven();)_=_.divide(2),P++;e:for(q=0;q<H.length;q++)if(!h.lesser(H[q])&&(N=tr(H[q]).modPow(_,h),!(N.isUnit()||N.equals(w)))){for(k=P-1;k!=0;k--){if(N=N.square().mod(h),N.isUnit())return!1;if(N.equals(w))continue e}return!1}return!0}c.prototype.isPrime=function(h){var H=ee(this);if(H!==t)return H;var w=this.abs(),_=w.bitLength();if(_<=64)return ne(w,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var P=Math.log(2)*_.toJSNumber(),k=Math.ceil(h===!0?2*Math.pow(P,2):P),j=[],q=0;q<k;q++)j.push(tr(q+2));return ne(w,j)},l.prototype.isPrime=u.prototype.isPrime=c.prototype.isPrime,c.prototype.isProbablePrime=function(h,H){var w=ee(this);if(w!==t)return w;for(var _=this.abs(),P=h===t?5:h,k=[],j=0;j<P;j++)k.push(tr.randBetween(2,_.minus(2),H));return ne(_,k)},l.prototype.isProbablePrime=u.prototype.isProbablePrime=c.prototype.isProbablePrime,c.prototype.modInv=function(h){for(var H=tr.zero,w=tr.one,_=be(h),P=this.abs(),k,j,q;!P.isZero();)k=_.divide(P),j=H,q=_,H=w,_=P,w=j.subtract(k.multiply(w)),P=q.subtract(k.multiply(P));if(!_.isUnit())throw new Error(this.toString()+" and "+h.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(h)),this.isNegative()?H.negate():H},l.prototype.modInv=u.prototype.modInv=c.prototype.modInv,c.prototype.next=function(){var h=this.value;return this.sign?J(h,1,this.sign):new c($(h,1),this.sign)},u.prototype.next=function(){var h=this.value;return h+1<n?new u(h+1):new c(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},c.prototype.prev=function(){var h=this.value;return this.sign?new c($(h,1),!0):J(h,1,this.sign)},u.prototype.prev=function(){var h=this.value;return h-1>-n?new u(h-1):new c(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var Q=[1];2*Q[Q.length-1]<=e;)Q.push(2*Q[Q.length-1]);var pe=Q.length,Ae=Q[pe-1];function me(h){return Math.abs(h)<=e}c.prototype.shiftLeft=function(h){var H=be(h).toJSNumber();if(!me(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var w=this;if(w.isZero())return w;for(;H>=pe;)w=w.multiply(Ae),H-=pe-1;return w.multiply(Q[H])},l.prototype.shiftLeft=u.prototype.shiftLeft=c.prototype.shiftLeft,c.prototype.shiftRight=function(h){var H,w=be(h).toJSNumber();if(!me(w))throw new Error(String(w)+" is too large for shifting.");if(w<0)return this.shiftLeft(-w);for(var _=this;w>=pe;){if(_.isZero()||_.isNegative()&&_.isUnit())return _;H=K(_,Ae),_=H[1].isNegative()?H[0].prev():H[0],w-=pe-1}return H=K(_,Q[w]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=u.prototype.shiftRight=c.prototype.shiftRight;function Xe(h,H,w){H=be(H);for(var _=h.isNegative(),P=H.isNegative(),k=_?h.not():h,j=P?H.not():H,q=0,N=0,ae=null,de=null,He=[];!k.isZero()||!j.isZero();)ae=K(k,Ae),q=ae[1].toJSNumber(),_&&(q=Ae-1-q),de=K(j,Ae),N=de[1].toJSNumber(),P&&(N=Ae-1-N),k=ae[0],j=de[0],He.push(w(q,N));for(var Re=w(_?1:0,P?1:0)!==0?tr(-1):tr(0),wn=He.length-1;wn>=0;wn-=1)Re=Re.multiply(Ae).add(tr(He[wn]));return Re}c.prototype.not=function(){return this.negate().prev()},l.prototype.not=u.prototype.not=c.prototype.not,c.prototype.and=function(h){return Xe(this,h,function(H,w){return H&w})},l.prototype.and=u.prototype.and=c.prototype.and,c.prototype.or=function(h){return Xe(this,h,function(H,w){return H|w})},l.prototype.or=u.prototype.or=c.prototype.or,c.prototype.xor=function(h){return Xe(this,h,function(H,w){return H^w})},l.prototype.xor=u.prototype.xor=c.prototype.xor;var ge=1<<30,Jt=(e&-e)*(e&-e)|ge;function Je(h){var H=h.value,w=typeof H=="number"?H|ge:typeof H=="bigint"?H|BigInt(ge):H[0]+H[1]*e|Jt;return w&-w}function ie(h,H){if(H.compareTo(h)<=0){var w=ie(h,H.square(H)),_=w.p,P=w.e,k=_.multiply(H);return k.compareTo(h)<=0?{p:k,e:P*2+1}:{p:_,e:P*2}}return{p:tr(1),e:0}}c.prototype.bitLength=function(){var h=this;return h.compareTo(tr(0))<0&&(h=h.negate().subtract(tr(1))),h.compareTo(tr(0))===0?tr(0):tr(ie(h,tr(2)).e).add(tr(1))},l.prototype.bitLength=u.prototype.bitLength=c.prototype.bitLength;function Te(h,H){return h=be(h),H=be(H),h.greater(H)?h:H}function te(h,H){return h=be(h),H=be(H),h.lesser(H)?h:H}function ve(h,H){if(h=be(h).abs(),H=be(H).abs(),h.equals(H))return h;if(h.isZero())return H;if(H.isZero())return h;for(var w=a[1],_,P;h.isEven()&&H.isEven();)_=te(Je(h),Je(H)),h=h.divide(_),H=H.divide(_),w=w.multiply(_);for(;h.isEven();)h=h.divide(Je(h));do{for(;H.isEven();)H=H.divide(Je(H));h.greater(H)&&(P=H,H=h,h=P),H=H.subtract(h)}while(!H.isZero());return w.isUnit()?h:h.multiply(w)}function qe(h,H){return h=be(h).abs(),H=be(H).abs(),h.divide(ve(h,H)).multiply(H)}function yt(h,H,w){h=be(h),H=be(H);var _=w||Math.random,P=te(h,H),k=Te(h,H),j=k.subtract(P).add(1);if(j.isSmall)return P.add(Math.floor(_()*j));for(var q=Ec(j,e).value,N=[],ae=!0,de=0;de<q.length;de++){var He=ae?q[de]:e,Re=v(_()*He);N.push(Re),Re<He&&(ae=!1)}return P.add(a.fromArray(N,e,!1))}var _t=function(h,H,w,_){w=w||o,h=String(h),_||(h=h.toLowerCase(),w=w.toLowerCase());var P=h.length,k,j=Math.abs(H),q={};for(k=0;k<w.length;k++)q[w[k]]=k;for(k=0;k<P;k++){var N=h[k];if(N!=="-"&&N in q&&q[N]>=j){if(N==="1"&&j===1)continue;throw new Error(N+" is not a valid digit in base "+H+".")}}H=be(H);var ae=[],de=h[0]==="-";for(k=de?1:0;k<h.length;k++){var N=h[k];if(N in q)ae.push(be(q[N]));else if(N==="<"){var He=k;do k++;while(h[k]!==">"&&k<h.length);ae.push(be(h.slice(He+1,k)))}else throw new Error(N+" is not a valid character")}return zs(ae,H,de)};function zs(h,H,w){var _=a[0],P=a[1],k;for(k=h.length-1;k>=0;k--)_=_.add(h[k].times(P)),P=P.times(H);return w?_.negate():_}function Ks(h,H){return H=H||o,h<H.length?H[h]:"<"+h+">"}function Ec(h,H){if(H=tr(H),H.isZero()){if(h.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(h.isZero())return{value:[0],isNegative:!1};if(h.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-h.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var w=Array.apply(null,Array(h.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return w.unshift([1]),{value:[].concat.apply([],w),isNegative:!1}}var _=!1;if(h.isNegative()&&H.isPositive()&&(_=!0,h=h.abs()),H.isUnit())return h.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(h.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:_};for(var P=[],k=h,j;k.isNegative()||k.compareAbs(H)>=0;){j=k.divmod(H),k=j.quotient;var q=j.remainder;q.isNegative()&&(q=H.minus(q).abs(),k=k.next()),P.push(q.toJSNumber())}return P.push(k.toJSNumber()),{value:P.reverse(),isNegative:_}}function il(h,H,w){var _=Ec(h,H);return(_.isNegative?"-":"")+_.value.map(function(P){return Ks(P,w)}).join("")}c.prototype.toArray=function(h){return Ec(this,h)},u.prototype.toArray=function(h){return Ec(this,h)},l.prototype.toArray=function(h){return Ec(this,h)},c.prototype.toString=function(h,H){if(h===t&&(h=10),h!==10)return il(this,h,H);for(var w=this.value,_=w.length,P=String(w[--_]),k="0000000",j;--_>=0;)j=String(w[_]),P+=k.slice(j.length)+j;var q=this.sign?"-":"";return q+P},u.prototype.toString=function(h,H){return h===t&&(h=10),h!=10?il(this,h,H):String(this.value)},l.prototype.toString=u.prototype.toString,l.prototype.toJSON=c.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},c.prototype.valueOf=function(){return parseInt(this.toString(),10)},c.prototype.toJSNumber=c.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function eH(h){if(p(+h)){var H=+h;if(H===v(H))return s?new l(BigInt(H)):new u(H);throw new Error("Invalid integer: "+h)}var w=h[0]==="-";w&&(h=h.slice(1));var _=h.split(/e/i);if(_.length>2)throw new Error("Invalid integer: "+_.join("e"));if(_.length===2){var P=_[1];if(P[0]==="+"&&(P=P.slice(1)),P=+P,P!==v(P)||!p(P))throw new Error("Invalid integer: "+P+" is not a valid exponent.");var k=_[0],j=k.indexOf(".");if(j>=0&&(P-=k.length-j-1,k=k.slice(0,j)+k.slice(j+1)),P<0)throw new Error("Cannot include negative exponent part for integers");k+=new Array(P+1).join("0"),h=k}var q=/^([0-9][0-9]*)$/.test(h);if(!q)throw new Error("Invalid integer: "+h);if(s)return new l(BigInt(w?"-"+h:h));for(var N=[],ae=h.length,de=r,He=ae-de;ae>0;)N.push(+h.slice(He,ae)),He-=de,He<0&&(He=0),ae-=de;return f(N),new c(N,w)}function C0(h){if(s)return new l(BigInt(h));if(p(h)){if(h!==v(h))throw new Error(h+" is not an integer.");return new u(h)}return eH(h.toString())}function be(h){return typeof h=="number"?C0(h):typeof h=="string"?eH(h):typeof h=="bigint"?new l(h):h}for(var wi=0;wi<1e3;wi++)a[wi]=be(wi),wi>0&&(a[-wi]=be(-wi));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Te,a.min=te,a.gcd=ve,a.lcm=qe,a.isInstance=function(h){return h instanceof c||h instanceof u||h instanceof l},a.randBetween=yt,a.fromArray=function(h,H,w){return zs(h.map(be),be(H||10),w)},a}();typeof pw<"u"&&pw.hasOwnProperty("exports")&&(pw.exports=tr);typeof define=="function"&&define.amd&&define(function(){return tr})});var YU=y(rr=>{"use strict";var Ipe=require("fs"),Spe=JU(),Oa=!1;rr.maxObjectSize=100*1e3*1e3;rr.maxObjectCount=32768;var Epe=9783072e5,Dpe=rr.UID=function(t){this.UID=t},tBe=rr.parseFile=function(t,e){function r(n){var i=null,o;try{o=Cpe(n)}catch(s){i=s}e(i,o)}if(Buffer.isBuffer(t))return r(t);Ipe.readFile(t,function(n,i){if(n)return e(n);r(i)})},Cpe=rr.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=t.slice(t.length-32,t.length),i=n.readUInt8(6);Oa&&console.log("offsetSize: "+i);var o=n.readUInt8(7);Oa&&console.log("objectRefSize: "+o);var s=UD(n,8);Oa&&console.log("numObjects: "+s);var a=UD(n,16);Oa&&console.log("topObject: "+a);var c=UD(n,24);if(Oa&&console.log("offsetTableOffset: "+c),s>rr.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var u=[],l=0;l<s;l++){var p=t.slice(c+l*i,c+(l+1)*i);u[l]=mn(p,0),Oa&&console.log("Offset for Object #"+l+" is "+u[l]+" ["+u[l].toString(16)+"]")}function d(m){var f=u[m],g=t[f],v=(g&240)>>4,x=g&15;switch(v){case 0:return C();case 1:return T();case 8:return R();case 2:return J();case 3:return X();case 4:return F();case 5:return M();case 6:return M(!0);case 10:return O();case 13:return D();default:throw new Error("Unhandled type 0x"+v.toString(16))}function C(){switch(x){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+v.toString(16))}}function $(W){var B="",G;for(G=0;G<W.length&&W[G]==0;G++);for(;G<W.length;G++){var S="00"+W[G].toString(16);B+=S.substr(S.length-2)}return B}function T(){var W=Math.pow(2,x);if(W>4){var B=t.slice(f+1,f+1+W),G=$(B);return Spe(G,16)}if(W<rr.maxObjectSize)return mn(t.slice(f+1,f+1+W));throw new Error("To little heap space available! Wanted to read "+W+" bytes, but only "+rr.maxObjectSize+" are available.")}function R(){var W=x+1;if(W<rr.maxObjectSize)return new Dpe(mn(t.slice(f+1,f+1+W)));throw new Error("To little heap space available! Wanted to read "+W+" bytes, but only "+rr.maxObjectSize+" are available.")}function J(){var W=Math.pow(2,x);if(W<rr.maxObjectSize){var B=t.slice(f+1,f+1+W);if(W===4)return B.readFloatBE(0);if(W===8)return B.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+W+" bytes, but only "+rr.maxObjectSize+" are available.")}function X(){x!=3&&console.error("Unknown date type :"+x+". Parsing anyway...");var W=t.slice(f+1,f+9);return new Date(Epe+1e3*W.readDoubleBE(0))}function F(){var W=1,B=x;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+S);var L=G&15,K=Math.pow(2,L);W=2+K,K<3,B=mn(t.slice(f+2,f+2+K))}if(B<rr.maxObjectSize)return t.slice(f+W,f+W+B);throw new Error("To little heap space available! Wanted to read "+B+" bytes, but only "+rr.maxObjectSize+" are available.")}function M(W){W=W||0;var B="utf8",G=x,S=1;if(x==15){var L=t[f+1],K=(L&240)/16;K!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+K);var z=L&15,ee=Math.pow(2,z),S=2+ee;ee<3,G=mn(t.slice(f+2,f+2+ee))}if(G*=W+1,G<rr.maxObjectSize){var ne=new Buffer(t.slice(f+S,f+S+G));return W&&(ne=Ppe(ne),B="ucs2"),ne.toString(B)}else throw new Error("To little heap space available! Wanted to read "+G+" bytes, but only "+rr.maxObjectSize+" are available.")}function O(){var W=x,B=1;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+S);var L=G&15,K=Math.pow(2,L);B=2+K,K<3,W=mn(t.slice(f+2,f+2+K))}if(W*o>rr.maxObjectSize)throw new Error("To little heap space available!");for(var z=[],ee=0;ee<W;ee++){var ne=mn(t.slice(f+B+ee*o,f+B+(ee+1)*o));z[ee]=d(ne)}return z}function D(){var W=x,B=1;if(x==15){var G=t[f+1],S=(G&240)/16;S!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+S);var L=G&15,K=Math.pow(2,L);B=2+K,K<3,W=mn(t.slice(f+2,f+2+K))}if(W*2*o>rr.maxObjectSize)throw new Error("To little heap space available!");Oa&&console.log("Parsing dictionary #"+m);for(var z={},ee=0;ee<W;ee++){var ne=mn(t.slice(f+B+ee*o,f+B+(ee+1)*o)),Q=mn(t.slice(f+B+W*o+ee*o,f+B+W*o+(ee+1)*o)),pe=d(ne),Ae=d(Q);Oa&&console.log("  DICT #"+m+": Mapped "+pe+" to "+Ae),z[pe]=Ae}return z}}return[d(a)]};function mn(t,e){e=e||0;for(var r=0,n=e;n<t.length;n++)r<<=8,r|=t[n]&255;return r}function UD(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function Ppe(t){for(var e=t.length,r=0;r<e;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t}});var eq=y((nBe,ZU)=>{"use strict";var QU=require("os");function Lpe(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}ZU.exports=typeof QU.homedir=="function"?QU.homedir:Lpe});var nq=y((iBe,rq)=>{"use strict";var Tpe=eq(),tq=Tpe();rq.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return tq?t.replace(/^~($|\/|\\)/,tq+"$1"):t}});var qD=y((oBe,sq)=>{"use strict";var iq=function(t,e,r){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new e(function(s,a){i.push(function(c,u){if(c)a(c);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];s(l)}else s(u)}),t.apply(n,i)})}},oq=sq.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var n=function(o){var s=function(a){return typeof a=="string"?o===a:a.test(o)};return r.include?r.include.some(s):!r.exclude.some(s)},i=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):iq(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(o,s){var a=t[s];return o[s]=typeof a=="function"&&n(s)?iq(a,e,r):a,o},i)};oq.all=oq});var cq=y((sBe,aq)=>{"use strict";var $pe=require("os"),kpe=YU(),Rpe=nq(),Mpe=qD(),Ope=Number($pe.release().split(".")[0]),Fpe=Rpe(Ope>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");aq.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return Mpe(kpe.parseFile)(Fpe).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let n of r)if(n.LSHandlerURLScheme==="http"&&n.LSHandlerRoleAll){t=n.LSHandlerRoleAll;break}return t})}});var gq=y((aBe,mq)=>{"use strict";var VD="pending",uq="settled",dw="fulfilled",fw="rejected",Bpe=function(){},lq=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",Npe=typeof setImmediate>"u"?setTimeout:setImmediate,wm=[],WD;function jpe(){for(var t=0;t<wm.length;t++)wm[t][0](wm[t][1]);wm=[],WD=!1}function hw(t,e){wm.push([t,e]),WD||(WD=!0,Npe(jpe,0))}function Upe(t,e){function r(i){GD(e,i)}function n(i){xm(e,i)}try{t(r,n)}catch(i){n(i)}}function pq(t){var e=t.owner,r=e._state,n=e._data,i=t[r],o=t.then;if(typeof i=="function"){r=dw;try{n=i(n)}catch(s){xm(o,s)}}dq(o,n)||(r===dw&&GD(o,n),r===fw&&xm(o,n))}function dq(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var n=e.then;if(typeof n=="function")return n.call(e,function(i){r||(r=!0,e===i?fq(t,i):GD(t,i))},function(i){r||(r=!0,xm(t,i))}),!0}}catch(i){return r||xm(t,i),!0}return!1}function GD(t,e){(t===e||!dq(t,e))&&fq(t,e)}function fq(t,e){t._state===VD&&(t._state=uq,t._data=e,hw(qpe,t))}function xm(t,e){t._state===VD&&(t._state=uq,t._data=e,hw(Wpe,t))}function hq(t){t._then=t._then.forEach(pq)}function qpe(t){t._state=dw,hq(t)}function Wpe(t){t._state=fw,hq(t),!t._handled&&lq&&global.process.emit("unhandledRejection",t._data,t)}function Vpe(t){global.process.emit("rejectionHandled",t)}function kn(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof kn))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],Upe(t,this)}kn.prototype={constructor:kn,_state:VD,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(Bpe),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===fw&&lq&&hw(Vpe,this)),this._state===dw||this._state===fw?hw(pq,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};kn.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new kn(function(e,r){var n=[],i=0;function o(c){return i++,function(u){n[c]=u,--i||e(n)}}for(var s=0,a;s<t.length;s++)a=t[s],a&&typeof a.then=="function"?a.then(o(s),r):n[s]=a;i||e(n)})};kn.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new kn(function(e,r){for(var n=0,i;n<t.length;n++)i=t[n],i&&typeof i.then=="function"?i.then(e,r):e(i)})};kn.resolve=function(t){return t&&typeof t=="object"&&t.constructor===kn?t:new kn(function(e){e(t)})};kn.reject=function(t){return new kn(function(e,r){r(t)})};mq.exports=kn});var yq=y((cBe,Hq)=>{"use strict";Hq.exports=typeof Promise=="function"?Promise:gq()});var wq=y((uBe,bq)=>{"use strict";var Gpe=require("child_process").execFile,vq=yq(),zpe=qD();bq.exports=function(t){return process.platform!=="darwin"?vq.reject(new Error("Only OS X systems are supported")):zpe(Gpe,vq)("osascript",["-e",t]).then(function(e){return e.trim()})}});var _q=y((lBe,xq)=>{"use strict";var Kpe=wq();xq.exports=t=>Kpe(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var Eq=y((pBe,Sq)=>{var Aq=Object.prototype.hasOwnProperty;Sq.exports=Rn;function Rn(t){if(!(this instanceof Rn))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof Rn||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}Rn.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};Rn.prototype.has=function(t){return!!zD(this._data,t)};Rn.prototype.get=function(t){var e=zD(this._data,t);return e&&e.value};Rn.prototype.set=function(t,e){Jpe(this._data,t,e)};Rn.prototype.delete=function(t){var e=zD(this._data,t);e&&(delete this._data[e._index],this._data.size--)};Rn.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(Rn.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});Rn.prototype.values=Rn.prototype.keys=Rn.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function Iq(t,e){return t===e||t!==t&&e!==e}function Xpe(t,e,r){this.key=t,this.value=e,this._index=r}function zD(t,e){for(var r=0,n="_"+e,i=n;Aq.call(t,i);i=n+r++)if(Iq(t[i].key,e))return t[i]}function Jpe(t,e,r){for(var n=0,i="_"+e,o=i;Aq.call(t,o);o=i+n++)if(Iq(t[o].key,e)){t[o].value=r;return}t.size++,t[o]=new Xpe(e,r,o)}});var Dq=y((dBe,KD)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?KD.exports=Map:KD.exports=Eq()});var Pq=y((fBe,Cq)=>{Cq.exports=ze;ze.Node=_m;ze.create=ze;function ze(t){var e=this;if(e instanceof ze||(e=new ze),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ze.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};ze.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ze.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ze.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Ype(this,arguments[t]);return this.length};ze.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Qpe(this,arguments[t]);return this.length};ze.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ze.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ze.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ze.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ze.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ze.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ze.prototype.map=function(t,e){e=e||this;for(var r=new ze,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ze.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ze,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ze.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ze.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ze.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ze.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ze.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ze;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ze.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ze;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ze.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Ype(t,e){t.tail=new _m(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Qpe(t,e){t.head=new _m(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function _m(t,e,r,n){if(!(this instanceof _m))return new _m(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var JD=y((hBe,$q)=>{"use strict";$q.exports=mt;var Zpe=Dq(),Am=require("util"),ede=Pq(),tde=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",ki;tde?ki=function(t){return Symbol(t)}:ki=function(t){return"_"+t};var vs=ki("max"),Ro=ki("length"),Hu=ki("lengthCalculator"),qp=ki("allowStale"),Fa=ki("maxAge"),ys=ki("dispose"),Lq=ki("noDisposeOnSet"),nr=ki("lruList"),$i=ki("cache");function Im(){return 1}function mt(t){if(!(this instanceof mt))return new mt(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[vs]=t.max;(!e||typeof e!="number"||e<=0)&&(this[vs]=1/0);var r=t.length||Im;typeof r!="function"&&(r=Im),this[Hu]=r,this[qp]=t.stale||!1,this[Fa]=t.maxAge||0,this[ys]=t.dispose,this[Lq]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(mt.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[vs]=t,Sm(this)},get:function(){return this[vs]},enumerable:!0});Object.defineProperty(mt.prototype,"allowStale",{set:function(t){this[qp]=!!t},get:function(){return this[qp]},enumerable:!0});Object.defineProperty(mt.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[Fa]=t,Sm(this)},get:function(){return this[Fa]},enumerable:!0});Object.defineProperty(mt.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=Im),t!==this[Hu]&&(this[Hu]=t,this[Ro]=0,this[nr].forEach(function(e){e.length=this[Hu](e.value,e.key),this[Ro]+=e.length},this)),Sm(this)},get:function(){return this[Hu]},enumerable:!0});Object.defineProperty(mt.prototype,"length",{get:function(){return this[Ro]},enumerable:!0});Object.defineProperty(mt.prototype,"itemCount",{get:function(){return this[nr].length},enumerable:!0});mt.prototype.rforEach=function(t,e){e=e||this;for(var r=this[nr].tail;r!==null;){var n=r.prev;Tq(this,t,r,e),r=n}};function Tq(t,e,r,n){var i=r.value;Em(t,i)&&(Wp(t,r),t[qp]||(i=void 0)),i&&e.call(n,i.value,i.key,t)}mt.prototype.forEach=function(t,e){e=e||this;for(var r=this[nr].head;r!==null;){var n=r.next;Tq(this,t,r,e),r=n}};mt.prototype.keys=function(){return this[nr].toArray().map(function(t){return t.key},this)};mt.prototype.values=function(){return this[nr].toArray().map(function(t){return t.value},this)};mt.prototype.reset=function(){this[ys]&&this[nr]&&this[nr].length&&this[nr].forEach(function(t){this[ys](t.key,t.value)},this),this[$i]=new Zpe,this[nr]=new ede,this[Ro]=0};mt.prototype.dump=function(){return this[nr].map(function(t){if(!Em(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};mt.prototype.dumpLru=function(){return this[nr]};mt.prototype.inspect=function(t,e){var r="LRUCache {",n=!1,i=this[qp];i&&(r+=`
  allowStale: true`,n=!0);var o=this[vs];o&&o!==1/0&&(n&&(r+=","),r+=`
  max: `+Am.inspect(o,e),n=!0);var s=this[Fa];s&&(n&&(r+=","),r+=`
  maxAge: `+Am.inspect(s,e),n=!0);var a=this[Hu];a&&a!==Im&&(n&&(r+=","),r+=`
  length: `+Am.inspect(this[Ro],e),n=!0);var c=!1;return this[nr].forEach(function(u){c?r+=`,
  `:(n&&(r+=`,
`),c=!0,r+=`
  `);var l=Am.inspect(u.key).split(`
`).join(`
  `),p={value:u.value};u.maxAge!==s&&(p.maxAge=u.maxAge),a!==Im&&(p.length=u.length),Em(this,u)&&(p.stale=!0),p=Am.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(c||n)&&(r+=`
`),r+="}",r};mt.prototype.set=function(t,e,r){r=r||this[Fa];var n=r?Date.now():0,i=this[Hu](e,t);if(this[$i].has(t)){if(i>this[vs])return Wp(this,this[$i].get(t)),!1;var o=this[$i].get(t),s=o.value;return this[ys]&&(this[Lq]||this[ys](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[Ro]+=i-s.length,s.length=i,this.get(t),Sm(this),!0}var a=new rde(t,e,i,n,r);return a.length>this[vs]?(this[ys]&&this[ys](t,e),!1):(this[Ro]+=a.length,this[nr].unshift(a),this[$i].set(t,this[nr].head),Sm(this),!0)};mt.prototype.has=function(t){if(!this[$i].has(t))return!1;var e=this[$i].get(t).value;return!Em(this,e)};mt.prototype.get=function(t){return XD(this,t,!0)};mt.prototype.peek=function(t){return XD(this,t,!1)};mt.prototype.pop=function(){var t=this[nr].tail;return t?(Wp(this,t),t.value):null};mt.prototype.del=function(t){Wp(this,this[$i].get(t))};mt.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],i=n.e||0;if(i===0)this.set(n.k,n.v);else{var o=i-e;o>0&&this.set(n.k,n.v,o)}}};mt.prototype.prune=function(){var t=this;this[$i].forEach(function(e,r){XD(t,r,!1)})};function XD(t,e,r){var n=t[$i].get(e);if(n){var i=n.value;Em(t,i)?(Wp(t,n),t[qp]||(i=void 0)):r&&t[nr].unshiftNode(n),i&&(i=i.value)}return i}function Em(t,e){if(!e||!e.maxAge&&!t[Fa])return!1;var r=!1,n=Date.now()-e.now;return e.maxAge?r=n>e.maxAge:r=t[Fa]&&n>t[Fa],r}function Sm(t){if(t[Ro]>t[vs])for(var e=t[nr].tail;t[Ro]>t[vs]&&e!==null;){var r=e.prev;Wp(t,e),e=r}}function Wp(t,e){if(e){var r=e.value;t[ys]&&t[ys](r.key,r.value),t[Ro]-=r.length,t[$i].delete(r.key),t[nr].removeNode(e)}}function rde(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}});var Nq=y((mBe,Bq)=>{Bq.exports=Fq;Fq.sync=ide;var YD=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",kq=require("path"),nde=YD?";":":",Rq=iA();function Mq(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function Oq(t,e){var r=e.colon||nde,n=e.path||process.env.PATH||"",i=[""];n=n.split(r);var o="";return YD&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(r),t.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(t.match(/\//)||YD&&t.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function Fq(t,e,r){typeof e=="function"&&(r=e,e={});var n=Oq(t,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function c(u,l){if(u===l)return e.all&&a.length?r(null,a):r(Mq(t));var p=i[u];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var d=kq.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(d=t.slice(0,2)+d),function m(f,g){if(f===g)return c(u+1,l);var v=o[f];Rq(d+v,{pathExt:s},function(x,C){if(!x&&C)if(e.all)a.push(d+v);else return r(null,d+v);return m(f+1,g)})}(0,o.length)})(0,i.length)}function ide(t,e){e=e||{};for(var r=Oq(t,e),n=r.env,i=r.ext,o=r.extExe,s=[],a=0,c=n.length;a<c;a++){var u=n[a];u.charAt(0)==='"'&&u.slice(-1)==='"'&&(u=u.slice(1,-1));var l=kq.join(u,t);!u&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,d=i.length;p<d;p++){var m=l+i[p],f;try{if(f=Rq.sync(m,{pathExt:o}),f)if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw Mq(t)}});var Wq=y((gBe,qq)=>{"use strict";var jq=require("path"),Uq=Nq(),ode=JD(),mw=new ode({max:50,maxAge:30*1e3}),sde=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function ade(t,e){var r;if(sde.test(t)&&(t=jq.resolve(t)),e=!!e,r=mw.get(t+"!"+e),mw.has(t))return mw.get(t);try{r=e?Uq.sync(t,{pathExt:jq.delimiter+(process.env.PATHEXT||"")}):Uq.sync(t)}catch{}return mw.set(t+"!"+e,r),r}qq.exports=ade});var Kq=y((HBe,zq)=>{"use strict";var QD=require("fs"),cde=JD(),Vq=Wq(),ude=process.platform==="win32",ZD=new cde({max:50,maxAge:30*1e3});function lde(t){var e,r,n,i;if(ZD.has(t))return ZD.get(t);e=new Buffer(150);try{r=QD.openSync(t,"r"),QD.readSync(r,e,0,150,0),QD.closeSync(r)}catch{}return n=e.toString().trim().match(/#!(.+)/i),n&&(i=n[1].replace(/\/usr\/bin\/env\s+/i,"")),ZD.set(t,i),i}function Gq(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function pde(t){return/^[a-z0-9_-]+$/i.test(t)?t:Gq(t,!0)}function dde(t,e,r){var n,i,o,s;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},s=t,ude&&(o=Vq(t),o=o||Vq(t,!0),n=o&&lde(o),n&&(e.unshift(o),t=n),i=t!=="echo",t=pde(t),e=e.map(function(a){return Gq(a,i)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:o,original:s}}zq.exports=dde});var Qq=y((yBe,gw)=>{"use strict";var Xq=process.platform==="win32";function Jq(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function fde(t,e){var r;Xq&&(r=t.emit,t.emit=function(n,i){var o;return n==="exit"&&(o=Yq(i,e,"spawn"),o)?r.call(t,"error",o):r.apply(t,arguments)})}function Yq(t,e,r){return Xq&&t===1&&!e.file?Jq(e.original,r):null}gw.exports.hookChildProcess=fde;gw.exports.verifyENOENT=Yq;gw.exports.notFoundError=Jq});var rW=y((vBe,Dm)=>{"use strict";var hde=require("child_process"),Zq=Kq(),eW=Qq();function tW(t,e,r){var n,i;return n=Zq(t,e,r),i=hde.spawn(n.command,n.args,n.options),eW.hookChildProcess(i,n),i}Dm.exports=tW;Dm.exports.spawn=tW;Dm.exports._parse=Zq;Dm.exports._enoent=eW});var iW=y((bBe,nW)=>{"use strict";nW.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var aW=y((wBe,sW)=>{"use strict";var oW=Object.getOwnPropertySymbols,mde=Object.prototype.hasOwnProperty,gde=Object.prototype.propertyIsEnumerable;function Hde(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function yde(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}sW.exports=yde()?Object.assign:function(t,e){for(var r,n=Hde(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)mde.call(r,s)&&(n[s]=r[s]);if(oW){i=oW(r);for(var a=0;a<i.length;a++)gde.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var eC=y((xBe,cW)=>{"use strict";cW.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(n){return n.toUpperCase()==="PATH"})[0]||"Path"}});var lW=y((_Be,uW)=>{"use strict";var Cm=require("path"),vde=eC();uW.exports=function(t){t=t||{};for(var e,r=Cm.resolve(t.cwd||"."),n=[];e!==r;)n.push(Cm.join(r,"node_modules/.bin")),e=r,r=Cm.resolve(r,"..");return n.push(Cm.dirname(process.execPath)),n.concat(t.path||process.env[vde()]).join(Cm.delimiter)}});var dW=y((ABe,Pm)=>{"use strict";var bde=require("child_process"),tC=rW(),wde=iW(),rC=aW(),xde=lW(),pW=eC()(),_de=1024*1024*10;Pm.exports=function(t,e,r){return new Promise(function(n,i){var o=tC._parse(t,e,r);r=rC({maxBuffer:_de,stripEof:!0,preferLocal:!0},o.options);var s=function(c){return r.stripEof&&(c=wde(c)),c};r.preferLocal&&(r.env=rC({},r.env||process.env),r.env[pW]=xde({cwd:r.cwd,path:r.env[pW]}));var a=bde.execFile(o.command,o.args,r,function(c,u,l){if(c){c.stdout=u,c.stderr=l,i(c);return}n({stdout:s(u),stderr:s(l)})});tC._enoent.hookChildProcess(a,o)})};Pm.exports.shell=function(t,e){var r,n;return e=rC({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",n=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",n=["-c",t]),e.shell&&(r=e.shell),Pm.exports(r,n,e)};Pm.exports.spawn=tC});var hW=y((IBe,fW)=>{"use strict";fW.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var gW=y((SBe,mW)=>{"use strict";var Ade=dW(),Ide=hW();mW.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Ade("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Ide(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var yW=y((EBe,HW)=>{"use strict";var Sde=cq(),Ede=_q();HW.exports=()=>process.platform==="linux"?gW()():process.platform==="darwin"?Sde().then(t=>Ede(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var bs=y((YBe,iC)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?iC.exports={nextTick:Pde}:iC.exports=process;function Pde(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,s;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(o=new Array(i-1),s=0;s<o.length;)o[s++]=arguments[s];return process.nextTick(function(){t.apply(null,o)})}}});var oC=y((QBe,IW)=>{var Lde={}.toString;IW.exports=Array.isArray||function(t){return Lde.call(t)=="[object Array]"}});var sC=y((ZBe,SW)=>{SW.exports=require("stream")});var xs=y((aC,DW)=>{var ww=require("buffer"),ws=ww.Buffer;function EW(t,e){for(var r in t)e[r]=t[r]}ws.from&&ws.alloc&&ws.allocUnsafe&&ws.allocUnsafeSlow?DW.exports=ww:(EW(ww,aC),aC.Buffer=zp);function zp(t,e,r){return ws(t,e,r)}EW(ws,zp);zp.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ws(t,e,r)};zp.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ws(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};zp.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ws(t)};zp.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ww.SlowBuffer(t)}});var Ri=y(Vr=>{function Tde(t){return Array.isArray?Array.isArray(t):xw(t)==="[object Array]"}Vr.isArray=Tde;function $de(t){return typeof t=="boolean"}Vr.isBoolean=$de;function kde(t){return t===null}Vr.isNull=kde;function Rde(t){return t==null}Vr.isNullOrUndefined=Rde;function Mde(t){return typeof t=="number"}Vr.isNumber=Mde;function Ode(t){return typeof t=="string"}Vr.isString=Ode;function Fde(t){return typeof t=="symbol"}Vr.isSymbol=Fde;function Bde(t){return t===void 0}Vr.isUndefined=Bde;function Nde(t){return xw(t)==="[object RegExp]"}Vr.isRegExp=Nde;function jde(t){return typeof t=="object"&&t!==null}Vr.isObject=jde;function Ude(t){return xw(t)==="[object Date]"}Vr.isDate=Ude;function qde(t){return xw(t)==="[object Error]"||t instanceof Error}Vr.isError=qde;function Wde(t){return typeof t=="function"}Vr.isFunction=Wde;function Vde(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}Vr.isPrimitive=Vde;Vr.isBuffer=Buffer.isBuffer;function xw(t){return Object.prototype.toString.call(t)}});var CW=y((tNe,cC)=>{typeof Object.create=="function"?cC.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:cC.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var ir=y((rNe,lC)=>{try{if(uC=require("util"),typeof uC.inherits!="function")throw"";lC.exports=uC.inherits}catch{lC.exports=CW()}var uC});var LW=y((nNe,pC)=>{"use strict";function Gde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var PW=xs().Buffer,Tm=require("util");function zde(t,e,r){t.copy(e,r)}pC.exports=function(){function t(){Gde(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return PW.alloc(0);if(this.length===1)return this.head.data;for(var n=PW.allocUnsafe(r>>>0),i=this.head,o=0;i;)zde(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();Tm&&Tm.inspect&&Tm.inspect.custom&&(pC.exports.prototype[Tm.inspect.custom]=function(){var t=Tm.inspect({length:this.length});return this.constructor.name+" "+t})});var dC=y((iNe,kW)=>{"use strict";var TW=bs();function Kde(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&TW.nextTick($W,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(TW.nextTick($W,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function Xde(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function $W(t,e){t.emit("error",e)}kW.exports={destroy:Kde,undestroy:Xde}});var _w=y((oNe,RW)=>{RW.exports=require("util").deprecate});var hC=y((sNe,qW)=>{"use strict";var vu=bs();qW.exports=Wt;function OW(t){var e=this;this.next=null,this.entry=null,this.finish=function(){ffe(e,t)}}var Jde=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:vu.nextTick,Kp;Wt.WritableState=km;var FW=Object.create(Ri());FW.inherits=ir();var Yde={deprecate:_w()},BW=sC(),Iw=xs().Buffer,Qde=global.Uint8Array||function(){};function Zde(t){return Iw.from(t)}function efe(t){return Iw.isBuffer(t)||t instanceof Qde}var NW=dC();FW.inherits(Wt,BW);function tfe(){}function km(t,e){Kp=Kp||bu(),t=t||{};var r=e instanceof Kp;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){cfe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new OW(this)}km.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(km.prototype,"buffer",{get:Yde.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Aw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Aw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wt,Symbol.hasInstance,{value:function(t){return Aw.call(this,t)?!0:this!==Wt?!1:t&&t._writableState instanceof km}})):Aw=function(t){return t instanceof this};function Wt(t){if(Kp=Kp||bu(),!Aw.call(Wt,this)&&!(this instanceof Kp))return new Wt(t);this._writableState=new km(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),BW.call(this)}Wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function rfe(t,e){var r=new Error("write after end");t.emit("error",r),vu.nextTick(e,r)}function nfe(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),vu.nextTick(n,o),i=!1),i}Wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&efe(t);return o&&!Iw.isBuffer(t)&&(t=Zde(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=tfe),n.ended?rfe(this,r):(o||nfe(this,n,t,r))&&(n.pendingcb++,i=ofe(this,n,o,t,e,r)),i};Wt.prototype.cork=function(){var t=this._writableState;t.corked++};Wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&jW(this,t))};Wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function ife(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Iw.from(e,r)),e}Object.defineProperty(Wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ofe(t,e,r,n,i,o){if(!r){var s=ife(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else fC(t,e,!1,a,n,i,o);return c}function fC(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function sfe(t,e,r,n,i){--e.pendingcb,r?(vu.nextTick(i,n),vu.nextTick($m,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),$m(t,e))}function afe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function cfe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(afe(r),e)sfe(t,r,n,e,i);else{var o=UW(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&jW(t,r),n?Jde(MW,t,r,o,i):MW(t,r,o,i)}}function MW(t,e,r,n){r||ufe(t,e),e.pendingcb--,n(),$m(t,e)}function ufe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function jW(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,fC(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new OW(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(fC(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Wt.prototype._writev=null;Wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&dfe(this,n,r)};function UW(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function lfe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),$m(t,e)})}function pfe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,vu.nextTick(lfe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function $m(t,e){var r=UW(e);return r&&(pfe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function dfe(t,e,r){e.ending=!0,$m(t,e),r&&(e.finished?vu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function ffe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Wt.prototype.destroy=NW.destroy;Wt.prototype._undestroy=NW.undestroy;Wt.prototype._destroy=function(t,e){this.end(),e(t)}});var bu=y((aNe,zW)=>{"use strict";var WW=bs(),hfe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};zW.exports=_s;var VW=Object.create(Ri());VW.inherits=ir();var GW=HC(),gC=hC();VW.inherits(_s,GW);for(mC=hfe(gC.prototype),Sw=0;Sw<mC.length;Sw++)Ew=mC[Sw],_s.prototype[Ew]||(_s.prototype[Ew]=gC.prototype[Ew]);var mC,Ew,Sw;function _s(t){if(!(this instanceof _s))return new _s(t);GW.call(this,t),gC.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",mfe)}Object.defineProperty(_s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function mfe(){this.allowHalfOpen||this._writableState.ended||WW.nextTick(gfe,this)}function gfe(t){t.end()}Object.defineProperty(_s.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});_s.prototype._destroy=function(t,e){this.push(null),this.end(),WW.nextTick(e,t)}});var bC=y(XW=>{"use strict";var vC=xs().Buffer,KW=vC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Hfe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function yfe(t){var e=Hfe(t);if(typeof e!="string"&&(vC.isEncoding===KW||!KW(t)))throw new Error("Unknown encoding: "+t);return e||t}XW.StringDecoder=Rm;function Rm(t){this.encoding=yfe(t);var e;switch(this.encoding){case"utf16le":this.text=Afe,this.end=Ife,e=4;break;case"utf8":this.fillLast=wfe,e=4;break;case"base64":this.text=Sfe,this.end=Efe,e=3;break;default:this.write=Dfe,this.end=Cfe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vC.allocUnsafe(e)}Rm.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Rm.prototype.end=_fe;Rm.prototype.text=xfe;Rm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function yC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function vfe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=yC(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=yC(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=yC(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function bfe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function wfe(t){var e=this.lastTotal-this.lastNeed,r=bfe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function xfe(t,e){var r=vfe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function _fe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Afe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Ife(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Sfe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Efe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Dfe(t){return t.toString(this.encoding)}function Cfe(t){return t&&t.length?this.write(t):""}});var HC=y((lNe,a8)=>{"use strict";var Jp=bs();a8.exports=gt;var Pfe=oC(),Mm;gt.ReadableState=r8;var uNe=require("events").EventEmitter,ZW=function(t,e){return t.listeners(e).length},IC=sC(),Om=xs().Buffer,Lfe=global.Uint8Array||function(){};function Tfe(t){return Om.from(t)}function $fe(t){return Om.isBuffer(t)||t instanceof Lfe}var e8=Object.create(Ri());e8.inherits=ir();var wC=require("util"),Ve=void 0;wC&&wC.debuglog?Ve=wC.debuglog("stream"):Ve=function(){};var kfe=LW(),t8=dC(),Xp;e8.inherits(gt,IC);var xC=["error","close","destroy","pause","resume"];function Rfe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Pfe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function r8(t,e){Mm=Mm||bu(),t=t||{};var r=e instanceof Mm;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new kfe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Xp||(Xp=bC().StringDecoder),this.decoder=new Xp(t.encoding),this.encoding=t.encoding)}function gt(t){if(Mm=Mm||bu(),!(this instanceof gt))return new gt(t);this._readableState=new r8(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),IC.call(this)}Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});gt.prototype.destroy=t8.destroy;gt.prototype._undestroy=t8.undestroy;gt.prototype._destroy=function(t,e){this.push(null),e(t)};gt.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Om.from(t,e),e=""),n=!0),n8(this,t,e,!1,n)};gt.prototype.unshift=function(t){return n8(this,t,null,!0,!1)};function n8(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,Bfe(t,o);else{var s;i||(s=Mfe(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Om.prototype&&(e=Tfe(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):_C(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?_C(t,o,e,!1):i8(t,o)):_C(t,o,e,!1))):n||(o.reading=!1)}return Ofe(o)}function _C(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Dw(t)),i8(t,e)}function Mfe(t,e){var r;return!$fe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Ofe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}gt.prototype.isPaused=function(){return this._readableState.flowing===!1};gt.prototype.setEncoding=function(t){return Xp||(Xp=bC().StringDecoder),this._readableState.decoder=new Xp(t),this._readableState.encoding=t,this};var JW=8388608;function Ffe(t){return t>=JW?t=JW:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function YW(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Ffe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}gt.prototype.read=function(t){Ve("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ve("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?AC(this):Dw(this),null;if(t=YW(t,e),t===0&&e.ended)return e.length===0&&AC(this),null;var n=e.needReadable;Ve("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ve("length less than watermark",n)),e.ended||e.reading?(n=!1,Ve("reading or ended",n)):n&&(Ve("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=YW(r,e)));var i;return t>0?i=o8(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&AC(this)),i!==null&&this.emit("data",i),i};function Bfe(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Dw(t)}}function Dw(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ve("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Jp.nextTick(QW,t):QW(t))}function QW(t){Ve("emit readable"),t.emit("readable"),SC(t)}function i8(t,e){e.readingMore||(e.readingMore=!0,Jp.nextTick(Nfe,t,e))}function Nfe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ve("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}gt.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};gt.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ve("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:v;n.endEmitted?Jp.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(x,C){Ve("onunpipe"),x===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,l())}function a(){Ve("onend"),t.end()}var c=jfe(r);t.on("drain",c);var u=!1;function l(){Ve("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var p=!1;r.on("data",d);function d(x){Ve("ondata"),p=!1;var C=t.write(x);C===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&s8(n.pipes,t)!==-1)&&!u&&(Ve("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(x){Ve("onerror",x),v(),t.removeListener("error",m),ZW(t,"error")===0&&t.emit("error",x)}Rfe(t,"error",m);function f(){t.removeListener("finish",g),v()}t.once("close",f);function g(){Ve("onfinish"),t.removeListener("close",f),v()}t.once("finish",g);function v(){Ve("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ve("pipe resume"),r.resume()),t};function jfe(t){return function(){var e=t._readableState;Ve("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&ZW(t,"data")&&(e.flowing=!0,SC(t))}}gt.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=s8(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};gt.prototype.on=function(t,e){var r=IC.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Dw(this):Jp.nextTick(Ufe,this))}return r};gt.prototype.addListener=gt.prototype.on;function Ufe(t){Ve("readable nexttick read 0"),t.read(0)}gt.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ve("resume"),t.flowing=!0,qfe(this,t)),this};function qfe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Jp.nextTick(Wfe,t,e))}function Wfe(t,e){e.reading||(Ve("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),SC(t),e.flowing&&!e.reading&&t.read(0)}gt.prototype.pause=function(){return Ve("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ve("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function SC(t){var e=t._readableState;for(Ve("flow",e.flowing);e.flowing&&t.read()!==null;);}gt.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ve("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ve("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<xC.length;o++)t.on(xC[o],this.emit.bind(this,xC[o]));return this._read=function(s){Ve("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(gt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});gt._fromList=o8;function o8(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Vfe(t,e.buffer,e.decoder),r}function Vfe(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?Gfe(t,e):zfe(t,e),n}function Gfe(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function zfe(t,e){var r=Om.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function AC(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Jp.nextTick(Kfe,e,t))}function Kfe(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function s8(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var EC=y((pNe,l8)=>{"use strict";l8.exports=As;var Cw=bu(),u8=Object.create(Ri());u8.inherits=ir();u8.inherits(As,Cw);function Xfe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function As(t){if(!(this instanceof As))return new As(t);Cw.call(this,t),this._transformState={afterTransform:Xfe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Jfe)}function Jfe(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){c8(t,e,r)}):c8(this,null,null)}As.prototype.push=function(t,e){return this._transformState.needTransform=!1,Cw.prototype.push.call(this,t,e)};As.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};As.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};As.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};As.prototype._destroy=function(t,e){var r=this;Cw.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function c8(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var h8=y((dNe,f8)=>{"use strict";f8.exports=Fm;var p8=EC(),d8=Object.create(Ri());d8.inherits=ir();d8.inherits(Fm,p8);function Fm(t){if(!(this instanceof Fm))return new Fm(t);p8.call(this,t)}Fm.prototype._transform=function(t,e,r){r(null,t)}});var m8=y((Ar,Pw)=>{var Mo=require("stream");process.env.READABLE_STREAM==="disable"&&Mo?(Pw.exports=Mo,Ar=Pw.exports=Mo.Readable,Ar.Readable=Mo.Readable,Ar.Writable=Mo.Writable,Ar.Duplex=Mo.Duplex,Ar.Transform=Mo.Transform,Ar.PassThrough=Mo.PassThrough,Ar.Stream=Mo):(Ar=Pw.exports=HC(),Ar.Stream=Mo||Ar,Ar.Readable=Ar,Ar.Writable=hC(),Ar.Duplex=bu(),Ar.Transform=EC(),Ar.PassThrough=h8())});var y8=y((fNe,H8)=>{var g8=m8(),Yfe=require("util");function Qfe(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function Zfe(t,e){if(!Qfe(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var n=e.read();n;)this===t[0]?r.push(n):this._buffer.push(n),n=e.read()}),e.on("end",function(){for(var n=t[0];n&&n._readableState.ended;n=t[0]){for(;n._buffer.length;)r.push(n._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function Bm(t,e){if(!(this instanceof Bm))return new Bm(t,e);if(t=t||[],e=e||{},e.objectMode=!0,g8.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=Zfe.bind(this,[]);t.forEach(function(n){Array.isArray(n)?n.forEach(r):r(n)})}Yfe.inherits(Bm,g8);Bm.prototype._read=function(){};H8.exports=Bm});var DC=y((hNe,v8)=>{v8.exports=require("stream")});var w8=y((mNe,CC)=>{"use strict";function ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b8=xs().Buffer,Nm=require("util");function the(t,e,r){t.copy(e,r)}CC.exports=function(){function t(){ehe(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return b8.alloc(0);if(this.length===1)return this.head.data;for(var n=b8.allocUnsafe(r>>>0),i=this.head,o=0;i;)the(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();Nm&&Nm.inspect&&Nm.inspect.custom&&(CC.exports.prototype[Nm.inspect.custom]=function(){var t=Nm.inspect({length:this.length});return this.constructor.name+" "+t})});var PC=y((gNe,A8)=>{"use strict";var x8=bs();function rhe(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&x8.nextTick(_8,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(x8.nextTick(_8,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function nhe(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _8(t,e){t.emit("error",e)}A8.exports={destroy:rhe,undestroy:nhe}});var TC=y((HNe,T8)=>{"use strict";var wu=bs();T8.exports=Vt;function S8(t){var e=this;this.next=null,this.entry=null,this.finish=function(){whe(e,t)}}var ihe=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:wu.nextTick,Yp;Vt.WritableState=Um;var E8=Ri();E8.inherits=ir();var ohe={deprecate:_w()},D8=DC(),Tw=xs().Buffer,she=global.Uint8Array||function(){};function ahe(t){return Tw.from(t)}function che(t){return Tw.isBuffer(t)||t instanceof she}var C8=PC();E8.inherits(Vt,D8);function uhe(){}function Um(t,e){Yp=Yp||xu(),t=t||{};var r=e instanceof Yp;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){ghe(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new S8(this)}Um.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Um.prototype,"buffer",{get:ohe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Lw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Lw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Vt,Symbol.hasInstance,{value:function(t){return Lw.call(this,t)?!0:this!==Vt?!1:t&&t._writableState instanceof Um}})):Lw=function(t){return t instanceof this};function Vt(t){if(Yp=Yp||xu(),!Lw.call(Vt,this)&&!(this instanceof Yp))return new Vt(t);this._writableState=new Um(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),D8.call(this)}Vt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function lhe(t,e){var r=new Error("write after end");t.emit("error",r),wu.nextTick(e,r)}function phe(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),wu.nextTick(n,o),i=!1),i}Vt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&che(t);return o&&!Tw.isBuffer(t)&&(t=ahe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=uhe),n.ended?lhe(this,r):(o||phe(this,n,t,r))&&(n.pendingcb++,i=fhe(this,n,o,t,e,r)),i};Vt.prototype.cork=function(){var t=this._writableState;t.corked++};Vt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&P8(this,t))};Vt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function dhe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Tw.from(e,r)),e}Object.defineProperty(Vt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fhe(t,e,r,n,i,o){if(!r){var s=dhe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else LC(t,e,!1,a,n,i,o);return c}function LC(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function hhe(t,e,r,n,i){--e.pendingcb,r?(wu.nextTick(i,n),wu.nextTick(jm,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),jm(t,e))}function mhe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function ghe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(mhe(r),e)hhe(t,r,n,e,i);else{var o=L8(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&P8(t,r),n?ihe(I8,t,r,o,i):I8(t,r,o,i)}}function I8(t,e,r,n){r||Hhe(t,e),e.pendingcb--,n(),jm(t,e)}function Hhe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function P8(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,LC(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new S8(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(LC(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Vt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};Vt.prototype._writev=null;Vt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&bhe(this,n,r)};function L8(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function yhe(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),jm(t,e)})}function vhe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,wu.nextTick(yhe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function jm(t,e){var r=L8(e);return r&&(vhe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function bhe(t,e,r){e.ending=!0,jm(t,e),r&&(e.finished?wu.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function whe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(Vt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});Vt.prototype.destroy=C8.destroy;Vt.prototype._undestroy=C8.undestroy;Vt.prototype._destroy=function(t,e){this.end(),e(t)}});var xu=y((yNe,M8)=>{"use strict";var $8=bs(),xhe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};M8.exports=Is;var k8=Ri();k8.inherits=ir();var R8=RC(),kC=TC();k8.inherits(Is,R8);for($C=xhe(kC.prototype),$w=0;$w<$C.length;$w++)kw=$C[$w],Is.prototype[kw]||(Is.prototype[kw]=kC.prototype[kw]);var $C,kw,$w;function Is(t){if(!(this instanceof Is))return new Is(t);R8.call(this,t),kC.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",_he)}Object.defineProperty(Is.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function _he(){this.allowHalfOpen||this._writableState.ended||$8.nextTick(Ahe,this)}function Ahe(t){t.end()}Object.defineProperty(Is.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});Is.prototype._destroy=function(t,e){this.push(null),this.end(),$8.nextTick(e,t)}});var FC=y(F8=>{"use strict";var OC=xs().Buffer,O8=OC.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Ihe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function She(t){var e=Ihe(t);if(typeof e!="string"&&(OC.isEncoding===O8||!O8(t)))throw new Error("Unknown encoding: "+t);return e||t}F8.StringDecoder=qm;function qm(t){this.encoding=She(t);var e;switch(this.encoding){case"utf16le":this.text=The,this.end=$he,e=4;break;case"utf8":this.fillLast=Che,e=4;break;case"base64":this.text=khe,this.end=Rhe,e=3;break;default:this.write=Mhe,this.end=Ohe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=OC.allocUnsafe(e)}qm.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};qm.prototype.end=Lhe;qm.prototype.text=Phe;qm.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function MC(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ehe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=MC(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=MC(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=MC(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Dhe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Che(t){var e=this.lastTotal-this.lastNeed,r=Dhe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Phe(t,e){var r=Ehe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Lhe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function The(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function $he(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function khe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Rhe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Mhe(t){return t.toString(this.encoding)}function Ohe(t){return t&&t.length?this.write(t):""}});var RC=y((wNe,J8)=>{"use strict";var Zp=bs();J8.exports=Ht;var Fhe=oC(),Wm;Ht.ReadableState=V8;var bNe=require("events").EventEmitter,U8=function(t,e){return t.listeners(e).length},qC=DC(),Vm=xs().Buffer,Bhe=global.Uint8Array||function(){};function Nhe(t){return Vm.from(t)}function jhe(t){return Vm.isBuffer(t)||t instanceof Bhe}var q8=Ri();q8.inherits=ir();var BC=require("util"),Ge=void 0;BC&&BC.debuglog?Ge=BC.debuglog("stream"):Ge=function(){};var Uhe=w8(),W8=PC(),Qp;q8.inherits(Ht,qC);var NC=["error","close","destroy","pause","resume"];function qhe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Fhe(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function V8(t,e){Wm=Wm||xu(),t=t||{};var r=e instanceof Wm;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Uhe,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Qp||(Qp=FC().StringDecoder),this.decoder=new Qp(t.encoding),this.encoding=t.encoding)}function Ht(t){if(Wm=Wm||xu(),!(this instanceof Ht))return new Ht(t);this._readableState=new V8(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),qC.call(this)}Object.defineProperty(Ht.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Ht.prototype.destroy=W8.destroy;Ht.prototype._undestroy=W8.undestroy;Ht.prototype._destroy=function(t,e){this.push(null),e(t)};Ht.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Vm.from(t,e),e=""),n=!0),G8(this,t,e,!1,n)};Ht.prototype.unshift=function(t){return G8(this,t,null,!0,!1)};function G8(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,zhe(t,o);else{var s;i||(s=Whe(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Vm.prototype&&(e=Nhe(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):jC(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?jC(t,o,e,!1):z8(t,o)):jC(t,o,e,!1))):n||(o.reading=!1)}return Vhe(o)}function jC(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Rw(t)),z8(t,e)}function Whe(t,e){var r;return!jhe(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Vhe(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Ht.prototype.isPaused=function(){return this._readableState.flowing===!1};Ht.prototype.setEncoding=function(t){return Qp||(Qp=FC().StringDecoder),this._readableState.decoder=new Qp(t),this._readableState.encoding=t,this};var B8=8388608;function Ghe(t){return t>=B8?t=B8:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function N8(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Ghe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ht.prototype.read=function(t){Ge("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Ge("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?UC(this):Rw(this),null;if(t=N8(t,e),t===0&&e.ended)return e.length===0&&UC(this),null;var n=e.needReadable;Ge("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Ge("length less than watermark",n)),e.ended||e.reading?(n=!1,Ge("reading or ended",n)):n&&(Ge("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=N8(r,e)));var i;return t>0?i=K8(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&UC(this)),i!==null&&this.emit("data",i),i};function zhe(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,Rw(t)}}function Rw(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Ge("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Zp.nextTick(j8,t):j8(t))}function j8(t){Ge("emit readable"),t.emit("readable"),WC(t)}function z8(t,e){e.readingMore||(e.readingMore=!0,Zp.nextTick(Khe,t,e))}function Khe(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Ge("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Ht.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Ht.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Ge("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:v;n.endEmitted?Zp.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(x,C){Ge("onunpipe"),x===r&&C&&C.hasUnpiped===!1&&(C.hasUnpiped=!0,l())}function a(){Ge("onend"),t.end()}var c=Xhe(r);t.on("drain",c);var u=!1;function l(){Ge("cleanup"),t.removeListener("close",f),t.removeListener("finish",g),t.removeListener("drain",c),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",v),r.removeListener("data",d),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}var p=!1;r.on("data",d);function d(x){Ge("ondata"),p=!1;var C=t.write(x);C===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&X8(n.pipes,t)!==-1)&&!u&&(Ge("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(x){Ge("onerror",x),v(),t.removeListener("error",m),U8(t,"error")===0&&t.emit("error",x)}qhe(t,"error",m);function f(){t.removeListener("finish",g),v()}t.once("close",f);function g(){Ge("onfinish"),t.removeListener("close",f),v()}t.once("finish",g);function v(){Ge("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Ge("pipe resume"),r.resume()),t};function Xhe(t){return function(){var e=t._readableState;Ge("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&U8(t,"data")&&(e.flowing=!0,WC(t))}}Ht.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=X8(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ht.prototype.on=function(t,e){var r=qC.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Rw(this):Zp.nextTick(Jhe,this))}return r};Ht.prototype.addListener=Ht.prototype.on;function Jhe(t){Ge("readable nexttick read 0"),t.read(0)}Ht.prototype.resume=function(){var t=this._readableState;return t.flowing||(Ge("resume"),t.flowing=!0,Yhe(this,t)),this};function Yhe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Zp.nextTick(Qhe,t,e))}function Qhe(t,e){e.reading||(Ge("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),WC(t),e.flowing&&!e.reading&&t.read(0)}Ht.prototype.pause=function(){return Ge("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Ge("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function WC(t){var e=t._readableState;for(Ge("flow",e.flowing);e.flowing&&t.read()!==null;);}Ht.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Ge("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Ge("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<NC.length;o++)t.on(NC[o],this.emit.bind(this,NC[o]));return this._read=function(s){Ge("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(Ht.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ht._fromList=K8;function K8(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=Zhe(t,e.buffer,e.decoder),r}function Zhe(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?eme(t,e):tme(t,e),n}function eme(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function tme(t,e){var r=Vm.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function UC(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Zp.nextTick(rme,e,t))}function rme(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function X8(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var VC=y((xNe,Z8)=>{"use strict";Z8.exports=Ss;var Mw=xu(),Q8=Ri();Q8.inherits=ir();Q8.inherits(Ss,Mw);function nme(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ss(t){if(!(this instanceof Ss))return new Ss(t);Mw.call(this,t),this._transformState={afterTransform:nme.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",ime)}function ime(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){Y8(t,e,r)}):Y8(this,null,null)}Ss.prototype.push=function(t,e){return this._transformState.needTransform=!1,Mw.prototype.push.call(this,t,e)};Ss.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Ss.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ss.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ss.prototype._destroy=function(t,e){var r=this;Mw.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function Y8(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var nV=y((_Ne,rV)=>{"use strict";rV.exports=Gm;var eV=VC(),tV=Ri();tV.inherits=ir();tV.inherits(Gm,eV);function Gm(t){if(!(this instanceof Gm))return new Gm(t);eV.call(this,t)}Gm.prototype._transform=function(t,e,r){r(null,t)}});var iV=y((Ir,Ow)=>{var Oo=require("stream");process.env.READABLE_STREAM==="disable"&&Oo?(Ow.exports=Oo,Ir=Ow.exports=Oo.Readable,Ir.Readable=Oo.Readable,Ir.Writable=Oo.Writable,Ir.Duplex=Oo.Duplex,Ir.Transform=Oo.Transform,Ir.PassThrough=Oo.PassThrough,Ir.Stream=Oo):(Ir=Ow.exports=RC(),Ir.Stream=Oo||Ir,Ir.Readable=Ir,Ir.Writable=TC(),Ir.Duplex=xu(),Ir.Transform=VC(),Ir.PassThrough=nV())});var GC=y((ANe,oV)=>{oV.exports=sme;var ome=Object.prototype.hasOwnProperty;function sme(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)ome.call(r,n)&&(t[n]=r[n])}return t}});var uV=y((INe,Fw)=>{var sV=iV().Transform,aV=require("util").inherits,cV=GC();function ed(t){sV.call(this,t),this._destroyed=!1}aV(ed,sV);ed.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function ame(t,e,r){r(null,t)}function zC(t){return function(e,r,n){return typeof e=="function"&&(n=r,r=e,e={}),typeof r!="function"&&(r=ame),typeof n!="function"&&(n=null),t(e,r,n)}}Fw.exports=zC(function(t,e,r){var n=new ed(t);return n._transform=e,r&&(n._flush=r),n});Fw.exports.ctor=zC(function(t,e,r){function n(i){if(!(this instanceof n))return new n(i);this.options=cV(t,i),ed.call(this,this.options)}return aV(n,ed),n.prototype._transform=e,r&&(n.prototype._flush=r),n});Fw.exports.obj=zC(function(t,e,r){var n=new ed(cV({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n})});var dV=y((SNe,zm)=>{"use strict";zm.exports=pV;zm.exports.ctor=KC;zm.exports.objCtor=ume;zm.exports.obj=lme;var cme=uV(),lV=GC();function KC(t,e){typeof t=="function"&&(e=t,t={});var r=cme.ctor(t,function(n,i,o){this.options.wantStrings&&(n=n.toString());try{return e.call(this,n,this._index++)&&this.push(n),o()}catch(s){return o(s)}});return r.prototype._index=0,r}function ume(t,e){return typeof t=="function"&&(e=t,t={}),t=lV({objectMode:!0,highWaterMark:16},t),KC(t,e)}function pV(t,e){return KC(t,e)()}function lme(t,e){return typeof t=="function"&&(e=t,t={}),t=lV({objectMode:!0,highWaterMark:16},t),pV(t,e)}});var hV=y((ENe,fV)=>{fV.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof e.cycles=="boolean"?e.cycles:!1,i=e.replacer||function(a,c){return c},o=e.cmp&&function(a){return function(c){return function(u,l){var p={key:u,value:c[u]},d={key:l,value:c[l]};return a(p,d)}}}(e.cmp),s=[];return function a(c,u,l,p){var d=r?`
`+new Array(p+1).join(r):"",m=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=i.call(c,u,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(pme(l)){for(var f=[],g=0;g<l.length;g++){var v=a(l,g,l[g],p+1)||JSON.stringify(null);f.push(d+r+v)}return"["+f.join(",")+d+"]"}else{if(s.indexOf(l)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else s.push(l);for(var x=dme(l).sort(o&&o(l)),f=[],g=0;g<x.length;g++){var u=x[g],C=a(l,u,l[u],p+1);if(C){var $=JSON.stringify(u)+m+C;f.push(d+r+$)}}return s.splice(s.indexOf(l),1),"{"+f.join(",")+d+"}"}}}({"":t},"",t,0)};var pme=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},dme=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}});var gV=y((DNe,mV)=>{"use strict";var fme=dV().obj,hme=hV(),XC;typeof global.Set=="function"?XC=global.Set:XC=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function mme(t){return function(e){return e[t]}}mV.exports=gme;function gme(t,e){e=e||new XC;var r=hme;return typeof t=="string"?r=mme(t):typeof t=="function"&&(r=t),fme(function(n){var i=r(n);return e.has(i)?!1:(e.add(i),!0)})}});var vV=y((CNe,yV)=>{var Hme=Lp(),yme=Nb(),JC=require("fs"),Km=function(){},vme=/^v?\.0/.test(process.version),Bw=function(t){return typeof t=="function"},bme=function(t){return!vme||!JC?!1:(t instanceof(JC.ReadStream||Km)||t instanceof(JC.WriteStream||Km))&&Bw(t.close)},wme=function(t){return t.setHeader&&Bw(t.abort)},xme=function(t,e,r,n){n=Hme(n);var i=!1;t.on("close",function(){i=!0}),yme(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,bme(t))return t.close(Km);if(wme(t))return t.abort();if(Bw(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},HV=function(t){t()},_me=function(t,e){return t.pipe(e)},Ame=function(){var t=Array.prototype.slice.call(arguments),e=Bw(t[t.length-1]||Km)&&t.pop()||Km;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return xme(i,s,a,function(c){r||(r=c),c&&n.forEach(HV),!s&&(n.forEach(HV),e(r))})});return t.reduce(_me)};yV.exports=Ame});var YC=y((PNe,bV)=>{bV.exports=require("stream")});var AV=y((LNe,_V)=>{"use strict";function wV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ime(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wV(Object(r),!0).forEach(function(n){Sme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dme(t,e,r){return e&&xV(t.prototype,e),r&&xV(t,r),t}var Cme=require("buffer"),Nw=Cme.Buffer,Pme=require("util"),QC=Pme.inspect,Lme=QC&&QC.custom||"inspect";function Tme(t,e,r){Nw.prototype.copy.call(t,e,r)}_V.exports=function(){function t(){Eme(this,t),this.head=null,this.tail=null,this.length=0}return Dme(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Nw.alloc(0);for(var n=Nw.allocUnsafe(r>>>0),i=this.head,o=0;i;)Tme(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Nw.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Lme,value:function(r,n){return QC(this,Ime({},n,{depth:0,customInspect:!1}))}}]),t}()});var eP=y((TNe,SV)=>{"use strict";function $me(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ZC,this,t)):process.nextTick(ZC,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(jw,r):(r._writableState.errorEmitted=!0,process.nextTick(IV,r,o)):process.nextTick(IV,r,o):e?(process.nextTick(jw,r),e(o)):process.nextTick(jw,r)}),this)}function IV(t,e){ZC(t,e),jw(t)}function jw(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function kme(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ZC(t,e){t.emit("error",e)}function Rme(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}SV.exports={destroy:$me,undestroy:kme,errorOrDestroy:Rme}});var Ba=y(($Ne,CV)=>{"use strict";var DV={};function ai(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,c){super(n(s,a,c))}}i.prototype.name=r.name,i.prototype.code=t,DV[t]=i}function EV(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Mme(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ome(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Fme(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ai("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ai("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&Mme(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Ome(t," argument"))i=`The ${t} ${n} ${EV(e,"type")}`;else{let o=Fme(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${EV(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);ai("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ai("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ai("ERR_STREAM_PREMATURE_CLOSE","Premature close");ai("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ai("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ai("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ai("ERR_STREAM_WRITE_AFTER_END","write after end");ai("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ai("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ai("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");CV.exports.codes=DV});var tP=y((kNe,PV)=>{"use strict";var Bme=Ba().codes.ERR_INVALID_OPT_VALUE;function Nme(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function jme(t,e,r,n){var i=Nme(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Bme(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}PV.exports={getHighWaterMark:jme}});var iP=y((RNe,MV)=>{"use strict";MV.exports=Tt;function TV(t){var e=this;this.next=null,this.entry=null,this.finish=function(){hge(e,t)}}var td;Tt.WritableState=Jm;var Ume={deprecate:_w()},$V=YC(),qw=require("buffer").Buffer,qme=global.Uint8Array||function(){};function Wme(t){return qw.from(t)}function Vme(t){return qw.isBuffer(t)||t instanceof qme}var nP=eP(),Gme=tP(),zme=Gme.getHighWaterMark,Na=Ba().codes,Kme=Na.ERR_INVALID_ARG_TYPE,Xme=Na.ERR_METHOD_NOT_IMPLEMENTED,Jme=Na.ERR_MULTIPLE_CALLBACK,Yme=Na.ERR_STREAM_CANNOT_PIPE,Qme=Na.ERR_STREAM_DESTROYED,Zme=Na.ERR_STREAM_NULL_VALUES,ege=Na.ERR_STREAM_WRITE_AFTER_END,tge=Na.ERR_UNKNOWN_ENCODING,rd=nP.errorOrDestroy;ir()(Tt,$V);function rge(){}function Jm(t,e,r){td=td||_u(),t=t||{},typeof r!="boolean"&&(r=e instanceof td),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=zme(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){uge(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new TV(this)}Jm.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Jm.prototype,"buffer",{get:Ume.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Uw;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Uw=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(e){return Uw.call(this,e)?!0:this!==Tt?!1:e&&e._writableState instanceof Jm}})):Uw=function(e){return e instanceof this};function Tt(t){td=td||_u();var e=this instanceof td;if(!e&&!Uw.call(Tt,this))return new Tt(t);this._writableState=new Jm(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),$V.call(this)}Tt.prototype.pipe=function(){rd(this,new Yme)};function nge(t,e){var r=new ege;rd(t,r),process.nextTick(e,r)}function ige(t,e,r,n){var i;return r===null?i=new Zme:typeof r!="string"&&!e.objectMode&&(i=new Kme("chunk",["string","Buffer"],r)),i?(rd(t,i),process.nextTick(n,i),!1):!0}Tt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Vme(t);return o&&!qw.isBuffer(t)&&(t=Wme(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=rge),n.ending?nge(this,r):(o||ige(this,n,t,r))&&(n.pendingcb++,i=sge(this,n,o,t,e,r)),i};Tt.prototype.cork=function(){this._writableState.corked++};Tt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&kV(this,t))};Tt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new tge(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Tt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oge(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qw.from(e,r)),e}Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function sge(t,e,r,n,i,o){if(!r){var s=oge(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else rP(t,e,!1,a,n,i,o);return c}function rP(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Qme("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function age(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Xm,t,e),t._writableState.errorEmitted=!0,rd(t,n)):(i(n),t._writableState.errorEmitted=!0,rd(t,n),Xm(t,e))}function cge(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function uge(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Jme;if(cge(r),e)age(t,r,n,e,i);else{var o=RV(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&kV(t,r),n?process.nextTick(LV,t,r,o,i):LV(t,r,o,i)}}function LV(t,e,r,n){r||lge(t,e),e.pendingcb--,n(),Xm(t,e)}function lge(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function kV(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,rP(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new TV(e),e.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,l=r.callback,p=e.objectMode?1:c.length;if(rP(t,e,!1,p,c,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}Tt.prototype._write=function(t,e,r){r(new Xme("_write()"))};Tt.prototype._writev=null;Tt.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||fge(this,n,r),this};Object.defineProperty(Tt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function RV(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function pge(t,e){t._final(function(r){e.pendingcb--,r&&rd(t,r),e.prefinished=!0,t.emit("prefinish"),Xm(t,e)})}function dge(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(pge,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Xm(t,e){var r=RV(e);if(r&&(dge(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function fge(t,e,r){e.ending=!0,Xm(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function hge(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(Tt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});Tt.prototype.destroy=nP.destroy;Tt.prototype._undestroy=nP.undestroy;Tt.prototype._destroy=function(t,e){e(t)}});var _u=y((MNe,FV)=>{"use strict";var mge=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};FV.exports=Fo;var OV=aP(),sP=iP();ir()(Fo,OV);for(oP=mge(sP.prototype),Ww=0;Ww<oP.length;Ww++)Vw=oP[Ww],Fo.prototype[Vw]||(Fo.prototype[Vw]=sP.prototype[Vw]);var oP,Vw,Ww;function Fo(t){if(!(this instanceof Fo))return new Fo(t);OV.call(this,t),sP.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gge)))}Object.defineProperty(Fo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Fo.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Fo.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function gge(){this._writableState.ended||process.nextTick(Hge,this)}function Hge(t){t.end()}Object.defineProperty(Fo.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var jV=y((cP,NV)=>{var Gw=require("buffer"),Bo=Gw.Buffer;function BV(t,e){for(var r in t)e[r]=t[r]}Bo.from&&Bo.alloc&&Bo.allocUnsafe&&Bo.allocUnsafeSlow?NV.exports=Gw:(BV(Gw,cP),cP.Buffer=Au);function Au(t,e,r){return Bo(t,e,r)}Au.prototype=Object.create(Bo.prototype);BV(Bo,Au);Au.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Bo(t,e,r)};Au.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Bo(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Au.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Bo(t)};Au.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gw.SlowBuffer(t)}});var pP=y(qV=>{"use strict";var lP=jV().Buffer,UV=lP.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function yge(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function vge(t){var e=yge(t);if(typeof e!="string"&&(lP.isEncoding===UV||!UV(t)))throw new Error("Unknown encoding: "+t);return e||t}qV.StringDecoder=Ym;function Ym(t){this.encoding=vge(t);var e;switch(this.encoding){case"utf16le":this.text=Ige,this.end=Sge,e=4;break;case"utf8":this.fillLast=xge,e=4;break;case"base64":this.text=Ege,this.end=Dge,e=3;break;default:this.write=Cge,this.end=Pge;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=lP.allocUnsafe(e)}Ym.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ym.prototype.end=Age;Ym.prototype.text=_ge;Ym.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function uP(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function bge(t,e,r){var n=e.length-1;if(n<r)return 0;var i=uP(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=uP(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=uP(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function wge(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function xge(t){var e=this.lastTotal-this.lastNeed,r=wge(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function _ge(t,e){var r=bge(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Age(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Ige(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Sge(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Ege(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Dge(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Cge(t){return t.toString(this.encoding)}function Pge(t){return t&&t.length?this.write(t):""}});var zw=y((FNe,GV)=>{"use strict";var WV=Ba().codes.ERR_STREAM_PREMATURE_CLOSE;function Lge(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Tge(){}function $ge(t){return t.setHeader&&typeof t.abort=="function"}function VV(t,e,r){if(typeof e=="function")return VV(t,null,e);e||(e={}),r=Lge(r||Tge);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},l=function(f){r.call(t,f)},p=function(){var f;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(f=new WV),r.call(t,f);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(f=new WV),r.call(t,f)},d=function(){t.req.on("finish",a)};return $ge(t)?(t.on("complete",a),t.on("abort",p),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",p)}}GV.exports=VV});var KV=y((BNe,zV)=>{"use strict";var Kw;function ja(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kge=zw(),Ua=Symbol("lastResolve"),Iu=Symbol("lastReject"),Qm=Symbol("error"),Xw=Symbol("ended"),Su=Symbol("lastPromise"),dP=Symbol("handlePromise"),Eu=Symbol("stream");function qa(t,e){return{value:t,done:e}}function Rge(t){var e=t[Ua];if(e!==null){var r=t[Eu].read();r!==null&&(t[Su]=null,t[Ua]=null,t[Iu]=null,e(qa(r,!1)))}}function Mge(t){process.nextTick(Rge,t)}function Oge(t,e){return function(r,n){t.then(function(){if(e[Xw]){r(qa(void 0,!0));return}e[dP](r,n)},n)}}var Fge=Object.getPrototypeOf(function(){}),Bge=Object.setPrototypeOf((Kw={get stream(){return this[Eu]},next:function(){var e=this,r=this[Qm];if(r!==null)return Promise.reject(r);if(this[Xw])return Promise.resolve(qa(void 0,!0));if(this[Eu].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Qm]?a(e[Qm]):s(qa(void 0,!0))})});var n=this[Su],i;if(n)i=new Promise(Oge(n,this));else{var o=this[Eu].read();if(o!==null)return Promise.resolve(qa(o,!1));i=new Promise(this[dP])}return this[Su]=i,i}},ja(Kw,Symbol.asyncIterator,function(){return this}),ja(Kw,"return",function(){var e=this;return new Promise(function(r,n){e[Eu].destroy(null,function(i){if(i){n(i);return}r(qa(void 0,!0))})})}),Kw),Fge),Nge=function(e){var r,n=Object.create(Bge,(r={},ja(r,Eu,{value:e,writable:!0}),ja(r,Ua,{value:null,writable:!0}),ja(r,Iu,{value:null,writable:!0}),ja(r,Qm,{value:null,writable:!0}),ja(r,Xw,{value:e._readableState.endEmitted,writable:!0}),ja(r,dP,{value:function(o,s){var a=n[Eu].read();a?(n[Su]=null,n[Ua]=null,n[Iu]=null,o(qa(a,!1))):(n[Ua]=o,n[Iu]=s)},writable:!0}),r));return n[Su]=null,kge(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Iu];o!==null&&(n[Su]=null,n[Ua]=null,n[Iu]=null,o(i)),n[Qm]=i;return}var s=n[Ua];s!==null&&(n[Su]=null,n[Ua]=null,n[Iu]=null,s(qa(void 0,!0))),n[Xw]=!0}),e.on("readable",Mge.bind(null,n)),n};zV.exports=Nge});var QV=y((NNe,YV)=>{"use strict";function XV(t,e,r,n,i,o,s){try{var a=t[o](s),c=a.value}catch(u){r(u);return}a.done?e(c):Promise.resolve(c).then(n,i)}function jge(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(c){XV(o,n,i,s,a,"next",c)}function a(c){XV(o,n,i,s,a,"throw",c)}s(void 0)})}}function JV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(r),!0).forEach(function(n){qge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qge(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wge=Ba().codes.ERR_INVALID_ARG_TYPE;function Vge(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new Wge("iterable",["Iterable"],e);var i=new t(Uge({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=jge(function*(){try{var c=yield n.next(),u=c.value,l=c.done;l?i.push(null):i.push(yield u)?s():o=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}YV.exports=Vge});var aP=y((UNe,c4)=>{"use strict";c4.exports=Oe;var nd;Oe.ReadableState=r4;var jNe=require("events").EventEmitter,t4=function(e,r){return e.listeners(r).length},eg=YC(),Jw=require("buffer").Buffer,Gge=global.Uint8Array||function(){};function zge(t){return Jw.from(t)}function Kge(t){return Jw.isBuffer(t)||t instanceof Gge}var fP=require("util"),De;fP&&fP.debuglog?De=fP.debuglog("stream"):De=function(){};var Xge=AV(),bP=eP(),Jge=tP(),Yge=Jge.getHighWaterMark,Yw=Ba().codes,Qge=Yw.ERR_INVALID_ARG_TYPE,Zge=Yw.ERR_STREAM_PUSH_AFTER_EOF,eHe=Yw.ERR_METHOD_NOT_IMPLEMENTED,tHe=Yw.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,id,hP,mP;ir()(Oe,eg);var Zm=bP.errorOrDestroy,gP=["error","close","destroy","pause","resume"];function rHe(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function r4(t,e,r){nd=nd||_u(),t=t||{},typeof r!="boolean"&&(r=e instanceof nd),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Yge(this,t,"readableHighWaterMark",r),this.buffer=new Xge,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(id||(id=pP().StringDecoder),this.decoder=new id(t.encoding),this.encoding=t.encoding)}function Oe(t){if(nd=nd||_u(),!(this instanceof Oe))return new Oe(t);var e=this instanceof nd;this._readableState=new r4(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),eg.call(this)}Object.defineProperty(Oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Oe.prototype.destroy=bP.destroy;Oe.prototype._undestroy=bP.undestroy;Oe.prototype._destroy=function(t,e){e(t)};Oe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Jw.from(t,e),e=""),n=!0),n4(this,t,e,!1,n)};Oe.prototype.unshift=function(t){return n4(this,t,null,!0,!1)};function n4(t,e,r,n,i){De("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,oHe(t,o);else{var s;if(i||(s=nHe(o,e)),s)Zm(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Jw.prototype&&(e=zge(e)),n)o.endEmitted?Zm(t,new tHe):HP(t,o,e,!0);else if(o.ended)Zm(t,new Zge);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?HP(t,o,e,!1):vP(t,o)):HP(t,o,e,!1)}else n||(o.reading=!1,vP(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function HP(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Qw(t)),vP(t,e)}function nHe(t,e){var r;return!Kge(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Qge("chunk",["string","Buffer","Uint8Array"],e)),r}Oe.prototype.isPaused=function(){return this._readableState.flowing===!1};Oe.prototype.setEncoding=function(t){id||(id=pP().StringDecoder);var e=new id(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var ZV=1073741824;function iHe(t){return t>=ZV?t=ZV:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function e4(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=iHe(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Oe.prototype.read=function(t){De("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return De("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?yP(this):Qw(this),null;if(t=e4(t,e),t===0&&e.ended)return e.length===0&&yP(this),null;var n=e.needReadable;De("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,De("length less than watermark",n)),e.ended||e.reading?(n=!1,De("reading or ended",n)):n&&(De("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=e4(r,e)));var i;return t>0?i=s4(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&yP(this)),i!==null&&this.emit("data",i),i};function oHe(t,e){if(De("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Qw(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,i4(t)))}}function Qw(t){var e=t._readableState;De("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(De("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(i4,t))}function i4(t){var e=t._readableState;De("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,wP(t)}function vP(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(sHe,t,e))}function sHe(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(De("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Oe.prototype._read=function(t){Zm(this,new eHe("_read()"))};Oe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,De("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:g;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(v,x){De("onunpipe"),v===r&&x&&x.hasUnpiped===!1&&(x.hasUnpiped=!0,l())}function a(){De("onend"),t.end()}var c=aHe(r);t.on("drain",c);var u=!1;function l(){De("cleanup"),t.removeListener("close",m),t.removeListener("finish",f),t.removeListener("drain",c),t.removeListener("error",d),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",p),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&c()}r.on("data",p);function p(v){De("ondata");var x=t.write(v);De("dest.write",x),x===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&a4(n.pipes,t)!==-1)&&!u&&(De("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(v){De("onerror",v),g(),t.removeListener("error",d),t4(t,"error")===0&&Zm(t,v)}rHe(t,"error",d);function m(){t.removeListener("finish",f),g()}t.once("close",m);function f(){De("onfinish"),t.removeListener("close",m),g()}t.once("finish",f);function g(){De("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(De("pipe resume"),r.resume()),t};function aHe(t){return function(){var r=t._readableState;De("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&t4(t,"data")&&(r.flowing=!0,wP(t))}}Oe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=a4(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Oe.prototype.on=function(t,e){var r=eg.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,De("on readable",n.length,n.reading),n.length?Qw(this):n.reading||process.nextTick(cHe,this)),r};Oe.prototype.addListener=Oe.prototype.on;Oe.prototype.removeListener=function(t,e){var r=eg.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(o4,this),r};Oe.prototype.removeAllListeners=function(t){var e=eg.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(o4,this),e};function o4(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function cHe(t){De("readable nexttick read 0"),t.read(0)}Oe.prototype.resume=function(){var t=this._readableState;return t.flowing||(De("resume"),t.flowing=!t.readableListening,uHe(this,t)),t.paused=!1,this};function uHe(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(lHe,t,e))}function lHe(t,e){De("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),wP(t),e.flowing&&!e.reading&&t.read(0)}Oe.prototype.pause=function(){return De("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(De("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function wP(t){var e=t._readableState;for(De("flow",e.flowing);e.flowing&&t.read()!==null;);}Oe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(De("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(De("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<gP.length;o++)t.on(gP[o],this.emit.bind(this,gP[o]));return this._read=function(s){De("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Oe.prototype[Symbol.asyncIterator]=function(){return hP===void 0&&(hP=KV()),hP(this)});Object.defineProperty(Oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Oe._fromList=s4;Object.defineProperty(Oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function s4(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function yP(t){var e=t._readableState;De("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(pHe,e,t))}function pHe(t,e){if(De("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Oe.from=function(t,e){return mP===void 0&&(mP=QV()),mP(Oe,t,e)});function a4(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var xP=y((qNe,l4)=>{"use strict";l4.exports=Es;var Zw=Ba().codes,dHe=Zw.ERR_METHOD_NOT_IMPLEMENTED,fHe=Zw.ERR_MULTIPLE_CALLBACK,hHe=Zw.ERR_TRANSFORM_ALREADY_TRANSFORMING,mHe=Zw.ERR_TRANSFORM_WITH_LENGTH_0,ex=_u();ir()(Es,ex);function gHe(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new fHe);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Es(t){if(!(this instanceof Es))return new Es(t);ex.call(this,t),this._transformState={afterTransform:gHe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",HHe)}function HHe(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){u4(t,e,r)}):u4(this,null,null)}Es.prototype.push=function(t,e){return this._transformState.needTransform=!1,ex.prototype.push.call(this,t,e)};Es.prototype._transform=function(t,e,r){r(new dHe("_transform()"))};Es.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Es.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Es.prototype._destroy=function(t,e){ex.prototype._destroy.call(this,t,function(r){e(r)})};function u4(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new mHe;if(t._transformState.transforming)throw new hHe;return t.push(null)}});var f4=y((WNe,d4)=>{"use strict";d4.exports=tg;var p4=xP();ir()(tg,p4);function tg(t){if(!(this instanceof tg))return new tg(t);p4.call(this,t)}tg.prototype._transform=function(t,e,r){r(null,t)}});var y4=y((VNe,H4)=>{"use strict";var _P;function yHe(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var g4=Ba().codes,vHe=g4.ERR_MISSING_ARGS,bHe=g4.ERR_STREAM_DESTROYED;function h4(t){if(t)throw t}function wHe(t){return t.setHeader&&typeof t.abort=="function"}function xHe(t,e,r,n){n=yHe(n);var i=!1;t.on("close",function(){i=!0}),_P===void 0&&(_P=zw()),_P(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,wHe(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new bHe("pipe"))}}}function m4(t){t()}function _He(t,e){return t.pipe(e)}function AHe(t){return!t.length||typeof t[t.length-1]!="function"?h4:t.pop()}function IHe(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=AHe(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new vHe("streams");var i,o=e.map(function(s,a){var c=a<e.length-1,u=a>0;return xHe(s,c,u,function(l){i||(i=l),l&&o.forEach(m4),!c&&(o.forEach(m4),n(i))})});return e.reduce(_He)}H4.exports=IHe});var AP=y((ci,ng)=>{var rg=require("stream");process.env.READABLE_STREAM==="disable"&&rg?(ng.exports=rg.Readable,Object.assign(ng.exports,rg),ng.exports.Stream=rg):(ci=ng.exports=aP(),ci.Stream=rg||ci,ci.Readable=ci,ci.Writable=iP(),ci.Duplex=_u(),ci.Transform=xP(),ci.PassThrough=f4(),ci.finished=zw(),ci.pipeline=y4())});var b4=y((GNe,v4)=>{v4.exports=SHe;function SHe(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(EHe(e)):null}function EHe(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var I4=y((zNe,A4)=>{var tx=AP(),w4=Nb(),DHe=ir(),CHe=b4(),x4=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),IP=function(t,e){t._corked?t.once("uncork",e):e()},PHe=function(t,e){t._autoDestroy&&t.destroy(e)},_4=function(t,e){return function(r){r?PHe(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},LHe=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},THe=function(){},$He=function(t){return new tx.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},Sr=function(t,e,r){if(!(this instanceof Sr))return new Sr(t,e,r);tx.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};DHe(Sr,tx.Duplex);Sr.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new Sr(t,e,r)};Sr.prototype.cork=function(){++this._corked===1&&this.emit("cork")};Sr.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};Sr.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=w4(t,{writable:!0,readable:!1},_4(this,this._forwardEnd)),n=function(){var o=e._ondrain;e._ondrain=null,o&&o()},i=function(){e._writable.removeListener("drain",n),r()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=i,this.uncork()};Sr.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=w4(t,{writable:!1,readable:!0},_4(this)),n=function(){e._forward()},i=function(){e.push(null)},o=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:$He(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=o,this._forward()};Sr.prototype._read=function(){this._drained=!0,this._forward()};Sr.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=CHe(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};Sr.prototype.destroy=function(t,e){if(e||(e=THe),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};Sr.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};Sr.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return IP(this,this._write.bind(this,t,e,r));if(t===x4)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};Sr.prototype._finish=function(t){var e=this;this.emit("preend"),IP(this,function(){LHe(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),IP(e,t)})})};Sr.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(x4),tx.Writable.prototype.end.call(this,r))};A4.exports=Sr});var D4=y((KNe,rx)=>{var kHe=vV(),RHe=ir(),S4=I4(),E4=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},SP=function(t){var e=function(){var r=E4(arguments);if(!(this instanceof e))return new e(r);S4.call(this,null,null,t),r.length&&this.setPipeline(r)};return RHe(e,S4),e.prototype.setPipeline=function(){var r=E4(arguments),n=this,i=!1,o=r[0],s=r[r.length-1];s=s.readable?s:null,o=o.writable?o:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){i||n.cork()}),kHe(r,function(c){if(n.removeListener("close",a),c)return n.destroy(c.message==="premature close"?null:c);i=!0,n._autoDestroy===!1&&(n._autoDestroy=!0),n.uncork()}),this.destroyed)return a();this.setWritable(o),this.setReadable(s)},e};rx.exports=SP({autoDestroy:!1,destroy:!1});rx.exports.obj=SP({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});rx.exports.ctor=SP});var EP=y((XNe,C4)=>{"use strict";C4.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var DP=y((JNe,O4)=>{"use strict";var nx=Object.prototype.hasOwnProperty,M4=Object.prototype.toString,P4=Object.defineProperty,L4=Object.getOwnPropertyDescriptor,T4=function(e){return typeof Array.isArray=="function"?Array.isArray(e):M4.call(e)==="[object Array]"},$4=function(e){if(!e||M4.call(e)!=="[object Object]")return!1;var r=nx.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&nx.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||nx.call(e,i)},k4=function(e,r){P4&&r.name==="__proto__"?P4(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},R4=function(e,r){if(r==="__proto__")if(nx.call(e,r)){if(L4)return L4(e,r).value}else return;return e[r]};O4.exports=function t(){var e,r,n,i,o,s,a=arguments[0],c=1,u=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},c=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});c<u;++c)if(e=arguments[c],e!=null)for(r in e)n=R4(a,r),i=R4(e,r),a!==i&&(l&&i&&($4(i)||(o=T4(i)))?(o?(o=!1,s=n&&T4(n)?n:[]):s=n&&$4(n)?n:{},k4(a,{name:r,newValue:t(l,s,i)})):typeof i<"u"&&k4(a,{name:r,newValue:i}));return a}});var F4=y(CP=>{var Du=require("path"),Va=process.platform==="win32",Wa=require("fs"),MHe=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function OHe(){var t;if(MHe){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function FHe(t){return typeof t=="function"?t:OHe()}var YNe=Du.normalize;Va?Ds=/(.*?)(?:[\/\\]+|$)/g:Ds=/(.*?)(?:[\/]+|$)/g;var Ds;Va?ig=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:ig=/^[\/]*/;var ig;CP.realpathSync=function(e,r){if(e=Du.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},o={},s,a,c,u;l();function l(){var v=ig.exec(e);s=v[0].length,a=v[0],c=v[0],u="",Va&&!o[c]&&(Wa.lstatSync(c),o[c]=!0)}for(;s<e.length;){Ds.lastIndex=s;var p=Ds.exec(e);if(u=a,a+=p[0],c=u+p[1],s=Ds.lastIndex,!(o[c]||r&&r[c]===c)){var d;if(r&&Object.prototype.hasOwnProperty.call(r,c))d=r[c];else{var m=Wa.lstatSync(c);if(!m.isSymbolicLink()){o[c]=!0,r&&(r[c]=c);continue}var f=null;if(!Va){var g=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(g)&&(f=i[g])}f===null&&(Wa.statSync(c),f=Wa.readlinkSync(c)),d=Du.resolve(u,f),r&&(r[c]=d),Va||(i[g]=f)}e=Du.resolve(d,e.slice(s)),l()}}return r&&(r[n]=e),e};CP.realpath=function(e,r,n){if(typeof n!="function"&&(n=FHe(r),r=null),e=Du.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,o={},s={},a,c,u,l;p();function p(){var v=ig.exec(e);a=v[0].length,c=v[0],u=v[0],l="",Va&&!s[u]?Wa.lstat(u,function(x){if(x)return n(x);s[u]=!0,d()}):process.nextTick(d)}function d(){if(a>=e.length)return r&&(r[i]=e),n(null,e);Ds.lastIndex=a;var v=Ds.exec(e);return l=c,c+=v[0],u=l+v[1],a=Ds.lastIndex,s[u]||r&&r[u]===u?process.nextTick(d):r&&Object.prototype.hasOwnProperty.call(r,u)?g(r[u]):Wa.lstat(u,m)}function m(v,x){if(v)return n(v);if(!x.isSymbolicLink())return s[u]=!0,r&&(r[u]=u),process.nextTick(d);if(!Va){var C=x.dev.toString(32)+":"+x.ino.toString(32);if(o.hasOwnProperty(C))return f(null,o[C],u)}Wa.stat(u,function($){if($)return n($);Wa.readlink(u,function(T,R){Va||(o[C]=R),f(T,R)})})}function f(v,x,C){if(v)return n(v);var $=Du.resolve(l,x);r&&(r[C]=$),g($)}function g(v){e=Du.resolve(v,e.slice(a)),p()}}});var $P=y((ZNe,U4)=>{U4.exports=Ga;Ga.realpath=Ga;Ga.sync=TP;Ga.realpathSync=TP;Ga.monkeypatch=NHe;Ga.unmonkeypatch=jHe;var od=require("fs"),PP=od.realpath,LP=od.realpathSync,BHe=process.version,B4=/^v[0-5]\./.test(BHe),N4=F4();function j4(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Ga(t,e,r){if(B4)return PP(t,e,r);typeof e=="function"&&(r=e,e=null),PP(t,e,function(n,i){j4(n)?N4.realpath(t,e,r):r(n,i)})}function TP(t,e){if(B4)return LP(t,e);try{return LP(t,e)}catch(r){if(j4(r))return N4.realpathSync(t,e);throw r}}function NHe(){od.realpath=Ga,od.realpathSync=TP}function jHe(){od.realpath=PP,od.realpathSync=LP}});var W4=y((eje,q4)=>{q4.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);UHe(i)?r.push.apply(r,i):r.push(i)}return r};var UHe=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var X4=y((tje,K4)=>{"use strict";K4.exports=G4;function G4(t,e,r){t instanceof RegExp&&(t=V4(t,r)),e instanceof RegExp&&(e=V4(e,r));var n=z4(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function V4(t,e){var r=e.match(t);return r?r[0]:null}G4.range=z4;function z4(t,e,r){var n,i,o,s,a,c=r.indexOf(t),u=r.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(n=[],o=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),u]:(i=n.pop(),i<o&&(o=i,s=u),u=r.indexOf(e,l+1)),l=c<u&&c>=0?c:u;n.length&&(a=[o,s])}return a}});var n5=y((rje,r5)=>{var qHe=W4(),J4=X4();r5.exports=GHe;var Y4="\0SLASH"+Math.random()+"\0",Q4="\0OPEN"+Math.random()+"\0",RP="\0CLOSE"+Math.random()+"\0",Z4="\0COMMA"+Math.random()+"\0",e5="\0PERIOD"+Math.random()+"\0";function kP(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function WHe(t){return t.split("\\\\").join(Y4).split("\\{").join(Q4).split("\\}").join(RP).split("\\,").join(Z4).split("\\.").join(e5)}function VHe(t){return t.split(Y4).join("\\").split(Q4).join("{").split(RP).join("}").split(Z4).join(",").split(e5).join(".")}function t5(t){if(!t)return[""];var e=[],r=J4("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=t5(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function GHe(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),sd(WHe(t),!0).map(VHe)):[]}function zHe(t){return"{"+t+"}"}function KHe(t){return/^-?0\d/.test(t)}function XHe(t,e){return t<=e}function JHe(t,e){return t>=e}function sd(t,e){var r=[],n=J4("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+RP+n.post,sd(t)):[t];var c;if(s)c=n.body.split(/\.\./);else if(c=t5(n.body),c.length===1&&(c=sd(c[0],!1).map(zHe),c.length===1)){var l=n.post.length?sd(n.post,!1):[""];return l.map(function(D){return n.pre+c[0]+D})}var u=n.pre,l=n.post.length?sd(n.post,!1):[""],p;if(s){var d=kP(c[0]),m=kP(c[1]),f=Math.max(c[0].length,c[1].length),g=c.length==3?Math.abs(kP(c[2])):1,v=XHe,x=m<d;x&&(g*=-1,v=JHe);var C=c.some(KHe);p=[];for(var $=d;v($,m);$+=g){var T;if(o)T=String.fromCharCode($),T==="\\"&&(T="");else if(T=String($),C){var R=f-T.length;if(R>0){var J=new Array(R+1).join("0");$<0?T="-"+J+T.slice(1):T=J+T}}p.push(T)}}else p=qHe(c,function(O){return sd(O,!1)});for(var X=0;X<p.length;X++)for(var F=0;F<l.length;F++){var M=u+p[X]+l[F];(!e||s||M)&&r.push(M)}return r}});var sx=y((nje,c5)=>{c5.exports=Mn;Mn.Minimatch=Er;var og=function(){try{return require("path")}catch{}}()||{sep:"/"};Mn.sep=og.sep;var FP=Mn.GLOBSTAR=Er.GLOBSTAR={},YHe=n5(),i5={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},MP="[^/]",OP=MP+"*?",QHe="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",ZHe="(?:(?!(?:\\/|^)\\.).)*?",o5=eye("().*{}+?[]^$\\!");function eye(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var s5=/\/+/;Mn.filter=tye;function tye(t,e){return e=e||{},function(r,n,i){return Mn(r,t,e)}}function za(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Mn.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Mn;var e=Mn,r=function(i,o,s){return e(i,o,za(t,s))};return r.Minimatch=function(i,o){return new e.Minimatch(i,za(t,o))},r.Minimatch.defaults=function(i){return e.defaults(za(t,i)).Minimatch},r.filter=function(i,o){return e.filter(i,za(t,o))},r.defaults=function(i){return e.defaults(za(t,i))},r.makeRe=function(i,o){return e.makeRe(i,za(t,o))},r.braceExpand=function(i,o){return e.braceExpand(i,za(t,o))},r.match=function(n,i,o){return e.match(n,i,za(t,o))},r};Er.defaults=function(t){return Mn.defaults(t).Minimatch};function Mn(t,e,r){return ox(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Er(e,r).match(t)}function Er(t,e){if(!(this instanceof Er))return new Er(t,e);ox(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&og.sep!=="/"&&(t=t.split(og.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Er.prototype.debug=function(){};Er.prototype.make=rye;function rye(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(s5)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Er.prototype.parseNegate=nye;function nye(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=t.length;i<o&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}Mn.braceExpand=function(t,e){return a5(t,e)};Er.prototype.braceExpand=a5;function a5(t,e){return e||(this instanceof Er?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,ox(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:YHe(t)}var iye=1024*64,ox=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>iye)throw new TypeError("pattern is too long")};Er.prototype.parse=oye;var ix={};function oye(t,e){ox(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return FP;if(t==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],c,u=!1,l=-1,p=-1,d=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function f(){if(c){switch(c){case"*":n+=OP,i=!0;break;case"?":n+=MP,i=!0;break;default:n+="\\"+c;break}m.debug("clearStateChar %j %j",c,n),c=!1}}for(var g=0,v=t.length,x;g<v&&(x=t.charAt(g));g++){if(this.debug("%s	%s %s %j",t,g,n,x),o&&o5[x]){n+="\\"+x,o=!1;continue}switch(x){case"/":return!1;case"\\":f(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,g,n,x),u){this.debug("  in class"),x==="!"&&g===p+1&&(x="^"),n+=x;continue}m.debug("call clearStateChar %j",c),f(),c=x,r.noext&&f();continue;case"(":if(u){n+="(";continue}if(!c){n+="\\(";continue}s.push({type:c,start:g-1,reStart:n.length,open:i5[c].open,close:i5[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(u||!s.length){n+="\\)";continue}f(),i=!0;var C=s.pop();n+=C.close,C.type==="!"&&a.push(C),C.reEnd=n.length;continue;case"|":if(u||!s.length||o){n+="\\|",o=!1;continue}f(),n+="|";continue;case"[":if(f(),u){n+="\\"+x;continue}u=!0,p=g,l=n.length,n+=x;continue;case"]":if(g===p+1||!u){n+="\\"+x,o=!1;continue}var $=t.substring(p+1,g);try{RegExp("["+$+"]")}catch{var T=this.parse($,ix);n=n.substr(0,l)+"\\["+T[0]+"\\]",i=i||T[1],u=!1;continue}i=!0,u=!1,n+=x;continue;default:f(),o?o=!1:o5[x]&&!(x==="^"&&u)&&(n+="\\"),n+=x}}for(u&&($=t.substr(p+1),T=this.parse($,ix),n=n.substr(0,l)+"\\["+T[0],i=i||T[1]),C=s.pop();C;C=s.pop()){var R=n.slice(C.reStart+C.open.length);this.debug("setting tail",n,C),R=R.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ne,Q,pe){return pe||(pe="\\"),Q+Q+pe+"|"}),this.debug(`tail=%j
   %s`,R,R,C,n);var J=C.type==="*"?OP:C.type==="?"?MP:"\\"+C.type;i=!0,n=n.slice(0,C.reStart)+J+"\\("+R}f(),o&&(n+="\\\\");var X=!1;switch(n.charAt(0)){case"[":case".":case"(":X=!0}for(var F=a.length-1;F>-1;F--){var M=a[F],O=n.slice(0,M.reStart),D=n.slice(M.reStart,M.reEnd-8),W=n.slice(M.reEnd-8,M.reEnd),B=n.slice(M.reEnd);W+=B;var G=O.split("(").length-1,S=B;for(g=0;g<G;g++)S=S.replace(/\)[+*?]?/,"");B=S;var L="";B===""&&e!==ix&&(L="$");var K=O+D+B+L+W;n=K}if(n!==""&&i&&(n="(?=.)"+n),X&&(n=d+n),e===ix)return[n,i];if(!i)return aye(t);var z=r.nocase?"i":"";try{var ee=new RegExp("^"+n+"$",z)}catch{return new RegExp("$.")}return ee._glob=t,ee._src=n,ee}Mn.makeRe=function(t,e){return new Er(t,e||{}).makeRe()};Er.prototype.makeRe=sye;function sye(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?OP:e.dot?QHe:ZHe,n=e.nocase?"i":"",i=t.map(function(o){return o.map(function(s){return s===FP?r:typeof s=="string"?cye(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Mn.match=function(t,e,r){r=r||{};var n=new Er(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Er.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;og.sep!=="/"&&(e=e.split(og.sep).join("/")),e=e.split(s5),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var o,s;for(s=e.length-1;s>=0&&(o=e[s],!o);s--);for(s=0;s<i.length;s++){var a=i[s],c=e;n.matchBase&&a.length===1&&(c=[o]);var u=this.matchOne(c,a,r);if(u)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Er.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var c=e[o],u=t[i];if(this.debug(e,c,u),c===!1)return!1;if(c===FP){this.debug("GLOBSTAR",[e,c,u]);var l=i,p=o+1;if(p===a){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<s;){var d=t[l];if(this.debug(`
globstar while`,t,l,e,p,d),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,s,d),!0;if(d==="."||d===".."||!n.dot&&d.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===s))}var m;if(typeof c=="string"?(m=u===c,this.debug("string match",c,u,m)):(m=u.match(c),this.debug("pattern match",c,u,m)),!m)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a)return i===s-1&&t[i]==="";throw new Error("wtf?")};function aye(t){return t.replace(/\\(.)/g,"$1")}function cye(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var cx=y((ije,ax)=>{"use strict";function u5(t){return t.charAt(0)==="/"}function l5(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}ax.exports=process.platform==="win32"?l5:u5;ax.exports.posix=u5;ax.exports.win32=l5});var NP=y(Ka=>{Ka.setopts=hye;Ka.ownProp=p5;Ka.makeAbs=sg;Ka.finish=mye;Ka.mark=gye;Ka.isIgnored=f5;Ka.childrenIgnored=Hye;function p5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var uye=require("fs"),ad=require("path"),lye=sx(),d5=cx(),BP=lye.Minimatch;function pye(t,e){return t.localeCompare(e,"en")}function dye(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(fye))}function fye(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new BP(r,{dot:!0})}return{matcher:new BP(t,{dot:!0}),gmatcher:e}}function hye(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||uye,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),dye(t,r),t.changedCwd=!1;var n=process.cwd();p5(r,"cwd")?(t.cwd=ad.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||ad.resolve(t.cwd,"/"),t.root=ad.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=d5(t.cwd)?t.cwd:sg(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new BP(e,r),t.options=t.minimatch.options}function mye(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var o=t.matches[n];if(!o||Object.keys(o).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var a=Object.keys(o);e?r.push.apply(r,a):a.forEach(function(c){r[c]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(pye)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(c){var u=!/\/$/.test(c),l=t.cache[c]||t.cache[sg(t,c)];return u&&l&&(u=l!=="DIR"&&!Array.isArray(l)),u}))}t.ignore.length&&(r=r.filter(function(c){return!f5(t,c)})),t.found=r}function gye(t,e){var r=sg(t,e),n=t.cache[r],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=sg(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function sg(t,e){var r=e;return e.charAt(0)==="/"?r=ad.join(t.root,e):d5(e)||e===""?r=e:t.changedCwd?r=ad.resolve(t.cwd,e):r=ad.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function f5(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Hye(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var y5=y((uje,H5)=>{H5.exports=g5;g5.GlobSync=or;var yye=$P(),h5=sx(),sje=h5.Minimatch,aje=qP().Glob,cje=require("util"),jP=require("path"),m5=require("assert"),ux=cx(),Cu=NP(),vye=Cu.setopts,UP=Cu.ownProp,bye=Cu.childrenIgnored,wye=Cu.isIgnored;function g5(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new or(t,e).found}function or(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof or))return new or(t,e);if(vye(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}or.prototype._finish=function(){if(m5(this instanceof or),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var o=yye.realpathSync(i,t.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}Cu.finish(this)};or.prototype._process=function(t,e,r){m5(this instanceof or);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var o=t.slice(n),s;i===null?s=".":((ux(i)||ux(t.join("/")))&&(!i||!ux(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!bye(this,s)){var c=o[0]===h5.GLOBSTAR;c?this._processGlobStar(i,s,a,o,e,r):this._processReaddir(i,s,a,o,e,r)}};or.prototype._processReaddir=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){for(var a=n[0],c=!!this.minimatch.negate,u=a._glob,l=this.dot||u.charAt(0)===".",p=[],d=0;d<s.length;d++){var m=s[d];if(m.charAt(0)!=="."||l){var f;c&&!t?f=!m.match(a):f=m.match(a),f&&p.push(m)}}var g=p.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<g;d++){var m=p[d];t&&(t.slice(-1)!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=jP.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var d=0;d<g;d++){var m=p[d],v;t?v=[t,m]:v=[m],this._process(v.concat(n),i,o)}}}};or.prototype._emitMatch=function(t,e){if(!wye(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};or.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};or.prototype._readdir=function(t,e){var r;if(e&&!UP(this.symlinks,t))return this._readdirInGlobStar(t);if(UP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};or.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};or.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};or.prototype._processGlobStar=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length,p=this.symlinks[r];if(!(p&&o))for(var d=0;d<l;d++){var m=s[d];if(!(m.charAt(0)==="."&&!this.dot)){var f=c.concat(s[d],a);this._process(f,i,!0);var g=c.concat(s[d],n);this._process(g,i,!0)}}}};or.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&ux(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=jP.join(this.root,t):(t=jP.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};or.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&UP(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};or.prototype._mark=function(t){return Cu.mark(this,t)};or.prototype._makeAbs=function(t){return Cu.makeAbs(this,t)}});var b5=y((lje,v5)=>{var xye=WE(),ag=Object.create(null),_ye=Lp();v5.exports=xye(Aye);function Aye(t,e){return ag[t]?(ag[t].push(e),null):(ag[t]=[e],Iye(t))}function Iye(t){return _ye(function e(){var r=ag[t],n=r.length,i=Sye(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete ag[t]}})}function Sye(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var qP=y((fje,x5)=>{x5.exports=Pu;var Eye=$P(),w5=sx(),pje=w5.Minimatch,Dye=ir(),Cye=require("events").EventEmitter,WP=require("path"),VP=require("assert"),cg=cx(),zP=y5(),Lu=NP(),Pye=Lu.setopts,GP=Lu.ownProp,KP=b5(),dje=require("util"),Lye=Lu.childrenIgnored,Tye=Lu.isIgnored,$ye=Lp();function Pu(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return zP(t,e)}return new Ke(t,e,r)}Pu.sync=zP;var kye=Pu.GlobSync=zP.GlobSync;Pu.glob=Pu;function Rye(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Pu.hasMagic=function(t,e){var r=Rye({},e);r.noprocess=!0;var n=new Ke(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};Pu.Glob=Ke;Dye(Ke,Cye);function Ke(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new kye(t,e)}if(!(this instanceof Ke))return new Ke(t,e,r);Pye(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=$ye(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}Ke.prototype._finish=function(){if(VP(this instanceof Ke),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Lu.finish(this),this.emit("end",this.found)}};Ke.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};Ke.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,o=n.length;if(o===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),Eye.realpath(a,i.realpathCache,function(u,l){u?u.syscall==="stat"?s[a]=!0:i.emit("error",u):s[l]=!0,--o===0&&(i.matches[t]=s,e())})})};Ke.prototype._mark=function(t){return Lu.mark(this,t)};Ke.prototype._makeAbs=function(t){return Lu.makeAbs(this,t)};Ke.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ke.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ke.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Ke.prototype._process=function(t,e,r,n){if(VP(this instanceof Ke),VP(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var o;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:o=null;break;default:o=t.slice(0,i).join("/");break}var s=t.slice(i),a;o===null?a=".":((cg(o)||cg(t.join("/")))&&(!o||!cg(o))&&(o="/"+o),a=o);var c=this._makeAbs(a);if(Lye(this,a))return n();var u=s[0]===w5.GLOBSTAR;u?this._processGlobStar(o,a,c,s,e,r,n):this._processReaddir(o,a,c,s,e,r,n)}};Ke.prototype._processReaddir=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){return a._processReaddir2(t,e,r,n,i,o,u,s)})};Ke.prototype._processReaddir2=function(t,e,r,n,i,o,s,a){if(!s)return a();for(var c=n[0],u=!!this.minimatch.negate,l=c._glob,p=this.dot||l.charAt(0)===".",d=[],m=0;m<s.length;m++){var f=s[m];if(f.charAt(0)!=="."||p){var g;u&&!t?g=!f.match(c):g=f.match(c),g&&d.push(f)}}var v=d.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<v;m++){var f=d[m];t&&(t!=="/"?f=t+"/"+f:f=t+f),f.charAt(0)==="/"&&!this.nomount&&(f=WP.join(this.root,f)),this._emitMatch(i,f)}return a()}n.shift();for(var m=0;m<v;m++){var f=d[m],x;t&&(t!=="/"?f=t+"/"+f:f=t+f),this._process([f].concat(n),i,o,a)}a()};Ke.prototype._emitMatch=function(t,e){if(!this.aborted&&!Tye(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=cg(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};Ke.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=KP(r,o);i&&n.fs.lstat(t,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[t]=c,!c&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};Ke.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=KP("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!GP(this.symlinks,t))return this._readdirInGlobStar(t,r);if(GP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Mye(this,t,r))}};function Mye(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}Ke.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};Ke.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Ke.prototype._processGlobStar=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(c,u){a._processGlobStar2(t,e,r,n,i,o,u,s)})};Ke.prototype._processGlobStar2=function(t,e,r,n,i,o,s,a){if(!s)return a();var c=n.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var p=this.symlinks[r],d=s.length;if(p&&o)return a();for(var m=0;m<d;m++){var f=s[m];if(!(f.charAt(0)==="."&&!this.dot)){var g=u.concat(s[m],c);this._process(g,i,!0,a);var v=u.concat(s[m],n);this._process(v,i,!0,a)}}a()};Ke.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,o){n._processSimple2(t,e,i,o,r)})};Ke.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&cg(t)&&!this.nomount){var o=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=WP.join(this.root,t):(t=WP.resolve(this.root,t),o&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};Ke.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&GP(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var c=this,u=KP("stat\0"+r,l);u&&c.fs.lstat(r,u);function l(p,d){if(d&&d.isSymbolicLink())return c.fs.stat(r,function(m,f){m?c._stat2(t,r,null,d,e):c._stat2(t,r,m,f,e)});c._stat2(t,r,p,d,e)}};Ke.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var A5=y((hje,_5)=>{_5.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var E5=y((mje,S5)=>{var Oye=A5(),I5={"{":"}","(":")","[":"]"},Fye=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,i=-2,o=-2,s=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(s===-1||s>n||(s=t.indexOf("\\",e),s===-1||s>n)))||i!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(i=t.indexOf("}",e),i>e&&(s=t.indexOf("\\",e),s===-1||s>i))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(s=t.indexOf("\\",e),s===-1||s>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(s=t.indexOf("\\",r),s===-1||s>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=I5[a];if(c){var u=t.indexOf(c,e);u!==-1&&(e=u+1)}if(t[e]==="!")return!0}else e++}return!1},Bye=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=I5[r];if(n){var i=t.indexOf(n,e);i!==-1&&(e=i+1)}if(t[e]==="!")return!0}else e++}return!1};S5.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Oye(e))return!0;var n=Fye;return r&&r.strict===!1&&(n=Bye),n(e)}});var C5=y((gje,D5)=>{"use strict";var Nye=E5(),jye=require("path").posix.dirname,Uye=require("os").platform()==="win32",lx="/",qye=/\\/g,Wye=/\\([!*?|[\](){}])/g;D5.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Uye&&e.indexOf(lx)<0&&(e=e.replace(qye,lx)),Vye(e)&&(e+=lx),e+="a";do e=jye(e);while(Gye(e));return e.replace(Wye,"$1")};function Vye(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var n=t.indexOf(r);return n<0?!1:t.slice(n+1,-1).includes(lx)}function Gye(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:Nye(t)}});var L5=y((Hje,P5)=>{"use strict";P5.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var $5=y((yje,T5)=>{"use strict";var zye=L5()();T5.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return zye.test(t)}});var R5=y((vje,k5)=>{"use strict";var Kye=$5();k5.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!Kye(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var M5=y((XP,JP)=>{(function(t){XP&&typeof XP=="object"&&typeof JP<"u"?JP.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var F5=y((bje,O5)=>{"use strict";var Xye=R5(),Jye=M5();O5.exports=ug;function ug(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return Jye()?ug.win32(t):ug.posix(t)}ug.posix=function(e){return e.charAt(0)==="/"};ug.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!Xye(e)}});var QP=y((wje,U5)=>{"use strict";var B5=require("path"),Yye=EP(),N5=F5();U5.exports=function(t,e){var r=e||{},n=B5.resolve(r.cwd?r.cwd:process.cwd());n=YP(n);var i=r.root;i&&(i=YP(i),(process.platform==="win32"||!N5(i))&&(i=YP(B5.resolve(i)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var o=t.slice(-1),s=Yye(t);return t=s.pattern,i&&t.charAt(0)==="/"?t=j5(i,t):(!N5(t)||t.slice(0,1)==="\\")&&(t=j5(n,t)),o==="/"&&t.slice(-1)!=="/"&&(t+="/"),s.negated?"!"+t:t};function YP(t){return t.replace(/\\/g,"/")}function j5(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var W5=y((xje,q5)=>{var Qye=process.platform==="win32";q5.exports=function(t){var e=t.length-1;if(e<2)return t;for(;Zye(t,e);)e--;return t.substr(0,e+1)};function Zye(t,e){var r=t[e];return e>0&&(r==="/"||Qye&&r==="\\")}});var z5=y((_je,G5)=>{"use strict";var eve=require("util").inherits,tve=qP(),rve=DP(),V5=AP().Readable,nve=C5(),ZP=QP(),ive=W5(),ove="File not found with singular glob: ",sve=" (if this was purposeful, use `allowEmpty` option)";function ave(t,e){return nve(ZP(t,e))}function cve(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(n){return typeof n=="string"})}function cd(t,e,r){if(!(this instanceof cd))return new cd(t,e,r);var n=rve({},r);V5.call(this,{objectMode:!0,highWaterMark:n.highWaterMark||16}),delete n.highWaterMark;var i=this;function o(m){return ZP(m,n)}var s=e.map(o);n.ignore=s;var a=n.cwd,c=n.allowEmpty||!1,u=n.base||ave(t,n);t=ZP(t,n),delete n.root;var l=new tve.Glob(t,n);this._globber=l;var p=!1;l.on("match",function(m){p=!0;var f={cwd:a,base:u,path:ive(m)};i.push(f)||l.pause()}),l.once("end",function(){if(c!==!0&&!p&&cve(l)){var m=new Error(ove+t+sve);return i.destroy(m)}i.push(null)});function d(m){i.destroy(m)}l.once("error",d)}eve(cd,V5);cd.prototype._read=function(){this._globber.resume()};cd.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};G5.exports=cd});var X5=y((Aje,K5)=>{"use strict";var uve=y8(),lve=gV(),pve=D4(),dve=EP(),fve=DP(),hve=z5();function mve(t,e){e||(e={});var r=fve({},e),n=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof n=="string"&&(n=[n]),Array.isArray(n)||(n=[]),Array.isArray(t)||(t=[t]);var i=[],o=[];t.forEach(s);function s(p,d){if(typeof p!="string")throw new Error("Invalid glob at index "+d);var m=dve(p),f=m.negated?o:i;f.push({index:d,glob:m.pattern})}if(i.length===0)throw new Error("Missing positive glob");var a=i.map(l),c=new uve(a),u=lve(r.uniqueBy);return pve.obj(c,u);function l(p){var d=o.filter(gve(p.index)).map(Hve).concat(n);return new hve(p.glob,d,r)}}function gve(t){return function(e){return e.index>t}}function Hve(t){return t.glob}K5.exports=mve});var vx=y((g3e,sG)=>{"use strict";var{Transform:xve}=require("stream"),{StringDecoder:_ve}=require("string_decoder"),Qa=Symbol("last"),yx=Symbol("decoder");function Ave(t,e,r){let n;if(this.overflow){if(n=this[yx].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[Qa]+=this[yx].write(t),n=this[Qa].split(this.matcher);this[Qa]=n.pop();for(let i=0;i<n.length;i++)try{oG(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[Qa].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Ive(t){if(this[Qa]+=this[yx].end(),this[Qa])try{oG(this,this.mapper(this[Qa]))}catch(e){return t(e)}t()}function oG(t,e){e!==void 0&&t.push(e)}function iG(t){return t}function Sve(t,e,r){switch(t=t||/\r?\n/,e=e||iG,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=iG)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Ave,r.flush=Ive,r.readableObjectMode=!0;let n=new xve(r);return n[Qa]="",n[yx]=new _ve("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}sG.exports=Sve});var DG,EG=YX(()=>{DG="./w32appcontainertokens-XTRA77NA.node"});var PG=y((qUe,CG)=>{EG();try{CG.exports=require(DG)}catch{}});var TG=y(Sx=>{"use strict";Object.defineProperty(Sx,"__esModule",{value:!0});Sx.getAppContainerProcessTokens=void 0;var Tve=require("path"),LG,$ve=()=>{if(process.platform==="win32")return LG??=PG(),LG},kve=t=>$ve()?.getAppContainerProcessTokens().map(e=>(0,Tve.join)(e,t));Sx.getAppContainerProcessTokens=kve});var XG=y((jWe,Uve)=>{Uve.exports={name:"dotenv",version:"16.3.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var ZG=y((UWe,$s)=>{var JG=require("fs"),hL=require("path"),qve=require("os"),Wve=require("crypto"),Vve=XG(),mL=Vve.version,Gve=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function zve(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=Gve.exec(r))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[i]=o}return e}function Kve(t){let e=QG(t),r=mr.configDotenv({path:e});if(!r.parsed)throw new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);let n=YG(t).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let a=n[s].trim(),c=Yve(r,a);o=mr.decrypt(c.ciphertext,c.key);break}catch(a){if(s+1>=i)throw a}return mr.parse(o)}function Xve(t){console.log(`[dotenv@${mL}][INFO] ${t}`)}function Jve(t){console.log(`[dotenv@${mL}][WARN] ${t}`)}function fL(t){console.log(`[dotenv@${mL}][DEBUG] ${t}`)}function YG(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Yve(t,e){let r;try{r=new URL(e)}catch(a){throw a.code==="ERR_INVALID_URL"?new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development"):a}let n=r.password;if(!n)throw new Error("INVALID_DOTENV_KEY: Missing key part");let i=r.searchParams.get("environment");if(!i)throw new Error("INVALID_DOTENV_KEY: Missing environment part");let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=t.parsed[o];if(!s)throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);return{ciphertext:s,key:n}}function QG(t){let e=hL.resolve(process.cwd(),".env");return t&&t.path&&t.path.length>0&&(e=t.path),e.endsWith(".vault")?e:`${e}.vault`}function Qve(t){return t[0]==="~"?hL.join(qve.homedir(),t.slice(1)):t}function Zve(t){Xve("Loading env from encrypted .env.vault");let e=mr._parseVault(t),r=process.env;return t&&t.processEnv!=null&&(r=t.processEnv),mr.populate(r,e,t),{parsed:e}}function ebe(t){let e=hL.resolve(process.cwd(),".env"),r="utf8",n=!!(t&&t.debug);t&&(t.path!=null&&(e=Qve(t.path)),t.encoding!=null&&(r=t.encoding));try{let i=mr.parse(JG.readFileSync(e,{encoding:r})),o=process.env;return t&&t.processEnv!=null&&(o=t.processEnv),mr.populate(o,i,t),{parsed:i}}catch(i){return n&&fL(`Failed to load ${e} ${i.message}`),{error:i}}}function tbe(t){let e=QG(t);return YG(t).length===0?mr.configDotenv(t):JG.existsSync(e)?mr._configVault(t):(Jve(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),mr.configDotenv(t))}function rbe(t,e){let r=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(t,"base64"),i=n.slice(0,12),o=n.slice(-16);n=n.slice(12,-16);try{let s=Wve.createDecipheriv("aes-256-gcm",r,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let a=s instanceof RangeError,c=s.message==="Invalid key length",u=s.message==="Unsupported state or unable to authenticate data";if(a||c){let l="INVALID_DOTENV_KEY: It must be 64 characters long (or more)";throw new Error(l)}else if(u){let l="DECRYPTION_FAILED: Please check your DOTENV_KEY";throw new Error(l)}else throw console.error("Error: ",s.code),console.error("Error: ",s.message),s}}function nbe(t,e,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if(typeof e!="object")throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(let o of Object.keys(e))Object.prototype.hasOwnProperty.call(t,o)?(i===!0&&(t[o]=e[o]),n&&fL(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):t[o]=e[o]}var mr={configDotenv:ebe,_configVault:Zve,_parseVault:Kve,config:tbe,decrypt:rbe,parse:zve,populate:nbe};$s.exports.configDotenv=mr.configDotenv;$s.exports._configVault=mr._configVault;$s.exports._parseVault=mr._parseVault;$s.exports.config=mr.config;$s.exports.decrypt=mr.decrypt;$s.exports.parse=mr.parse;$s.exports.populate=mr.populate;$s.exports=mr});var IL=y(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.TargetPopulation=cc.Filters=cc.VSCodeFilterProvider=void 0;var r_=require("vscode"),AL=class t{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case Go.ApplicationVersion:return t.trimVersionSuffix(r_.version);case Go.Build:return r_.env.appName;case Go.ClientId:return r_.env.machineId;case Go.ExtensionName:return this.extensionName;case Go.ExtensionVersion:return t.trimVersionSuffix(this.extensionVersion);case Go.Language:return r_.env.language;case Go.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(Go);for(let n of r)e.set(n,this.getFilterValue(n));return e}};cc.VSCodeFilterProvider=AL;var Go;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Go||(cc.Filters=Go={}));var O6;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(O6||(cc.TargetPopulation=O6={}))});var F6=y(n_=>{"use strict";Object.defineProperty(n_,"__esModule",{value:!0});n_.BaseFeatureProvider=void 0;var SL=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};n_.BaseFeatureProvider=SL});var B6=y(i_=>{"use strict";Object.defineProperty(i_,"__esModule",{value:!0});i_.FilteredFeatureProvider=void 0;var wbe=F6(),EL=class extends wbe.BaseFeatureProvider{constructor(e,r){super(e),this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};i_.FilteredFeatureProvider=EL});var N6=y(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});uc.TasApiFeatureProvider=uc.TASAPI_FETCHERROR_EVENTNAME=void 0;var xbe=B6();uc.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var DL="ErrorType",CL=class extends xbe.FilteredFeatureProvider{constructor(e,r,n){super(r,n),this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let c=e.get(a);r[a]=c}let n;try{n=await this.httpClient.get({headers:r})}catch(a){let c=a,u=new Map;c.response?u.set(DL,"ServerError"):c.request?u.set(DL,"NoResponse"):u.set(DL,"GenericError"),this.telemetry.postEvent(uc.TASAPI_FETCHERROR_EVENTNAME,u)}if(!n)throw Error(uc.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let u=c+(a.Parameters[c]?"":"cf");s.includes(u)||s.push(u)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};uc.TasApiFeatureProvider=CL});var q6=y((X5e,U6)=>{var j6=require("stream").Stream,_be=require("util");U6.exports=ji;function ji(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}_be.inherits(ji,j6);ji.create=function(t,e){var r=new this;e=e||{};for(var n in e)r[n]=e[n];r.source=t;var i=t.emit;return t.emit=function(){return r._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ji.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ji.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ji.prototype.resume=function(){this._released||this.release(),this.source.resume()};ji.prototype.pause=function(){this.source.pause()};ji.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ji.prototype.pipe=function(){var t=j6.prototype.pipe.apply(this,arguments);return this.resume(),t};ji.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ji.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var z6=y((J5e,G6)=>{var Abe=require("util"),V6=require("stream").Stream,W6=q6();G6.exports=$t;function $t(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Abe.inherits($t,V6);$t.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};$t.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};$t.prototype.append=function(t){var e=$t.isStreamLike(t);if(e){if(!(t instanceof W6)){var r=W6.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};$t.prototype.pipe=function(t,e){return V6.prototype.pipe.call(this,t,e),this.resume(),t};$t.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};$t.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var n=$t.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};$t.prototype._pipeNext=function(t){this._currentStream=t;var e=$t.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};$t.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};$t.prototype.write=function(t){this.emit("data",t)};$t.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};$t.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};$t.prototype.end=function(){this._reset(),this.emit("end")};$t.prototype.destroy=function(){this._reset(),this.emit("close")};$t.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};$t.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};$t.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};$t.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var K6=y((Y5e,Ibe)=>{Ibe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var J6=y((Q5e,X6)=>{X6.exports=K6()});var Z6=y(Hn=>{"use strict";var o_=J6(),Sbe=require("path").extname,Y6=/^\s*([^;\s]*)(?:;|\s|$)/,Ebe=/^text\//i;Hn.charset=Q6;Hn.charsets={lookup:Q6};Hn.contentType=Dbe;Hn.extension=Cbe;Hn.extensions=Object.create(null);Hn.lookup=Pbe;Hn.types=Object.create(null);Lbe(Hn.extensions,Hn.types);function Q6(t){if(!t||typeof t!="string")return!1;var e=Y6.exec(t),r=e&&o_[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&Ebe.test(e[1])?"UTF-8":!1}function Dbe(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Hn.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=Hn.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function Cbe(t){if(!t||typeof t!="string")return!1;var e=Y6.exec(t),r=e&&Hn.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function Pbe(t){if(!t||typeof t!="string")return!1;var e=Sbe("x."+t).toLowerCase().substr(1);return e&&Hn.types[e]||!1}function Lbe(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(o_).forEach(function(i){var o=o_[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var c=s[a];if(e[c]){var u=r.indexOf(o_[e[c]].source),l=r.indexOf(o.source);if(e[c]!=="application/octet-stream"&&(u>l||u===l&&e[c].substr(0,12)==="application/"))continue}e[c]=i}}})}});var t9=y((eGe,e9)=>{e9.exports=Tbe;function Tbe(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var PL=y((tGe,n9)=>{var r9=t9();n9.exports=$be;function $be(t){var e=!1;return r9(function(){e=!0}),function(n,i){e?t(n,i):r9(function(){t(n,i)})}}});var LL=y((rGe,i9)=>{i9.exports=kbe;function kbe(t){Object.keys(t.jobs).forEach(Rbe.bind(t)),t.jobs={}}function Rbe(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var TL=y((nGe,s9)=>{var o9=PL(),Mbe=LL();s9.exports=Obe;function Obe(t,e,r,n){var i=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[i]=Fbe(e,i,t[i],function(o,s){i in r.jobs&&(delete r.jobs[i],o?Mbe(r):r.results[i]=s,n(o,r.results))})}function Fbe(t,e,r,n){var i;return t.length==2?i=t(r,o9(n)):i=t(r,e,o9(n)),i}});var $L=y((iGe,a9)=>{a9.exports=Bbe;function Bbe(t,e){var r=!Array.isArray(t),n={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&n.keyedList.sort(r?e:function(i,o){return e(t[i],t[o])}),n}});var kL=y((oGe,c9)=>{var Nbe=LL(),jbe=PL();c9.exports=Ube;function Ube(t){Object.keys(this.jobs).length&&(this.index=this.size,Nbe(this),jbe(t)(null,this.results))}});var l9=y((sGe,u9)=>{var qbe=TL(),Wbe=$L(),Vbe=kL();u9.exports=Gbe;function Gbe(t,e,r){for(var n=Wbe(t);n.index<(n.keyedList||t).length;)qbe(t,e,n,function(i,o){if(i){r(i,o);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return Vbe.bind(n,r)}});var RL=y((aGe,s_)=>{var p9=TL(),zbe=$L(),Kbe=kL();s_.exports=Xbe;s_.exports.ascending=d9;s_.exports.descending=Jbe;function Xbe(t,e,r,n){var i=zbe(t,r);return p9(t,e,i,function o(s,a){if(s){n(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){p9(t,e,i,o);return}n(null,i.results)}),Kbe.bind(i,n)}function d9(t,e){return t<e?-1:t>e?1:0}function Jbe(t,e){return-1*d9(t,e)}});var h9=y((cGe,f9)=>{var Ybe=RL();f9.exports=Qbe;function Qbe(t,e,r){return Ybe(t,e,null,r)}});var g9=y((uGe,m9)=>{m9.exports={parallel:l9(),serial:h9(),serialOrdered:RL()}});var y9=y((lGe,H9)=>{H9.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var w9=y((pGe,b9)=>{var BL=z6(),v9=require("util"),ML=require("path"),Zbe=require("http"),ewe=require("https"),twe=require("url").parse,rwe=require("fs"),nwe=require("stream").Stream,OL=Z6(),iwe=g9(),FL=y9();b9.exports=Fe;v9.inherits(Fe,BL);function Fe(t){if(!(this instanceof Fe))return new Fe(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],BL.call(this),t=t||{};for(var e in t)this[e]=t[e]}Fe.LINE_BREAK=`\r
`;Fe.DEFAULT_CONTENT_TYPE="application/octet-stream";Fe.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=BL.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),v9.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,r),o=this._multiPartFooter();n(i),n(e),n(o),this._trackLength(i,e,r)};Fe.prototype._trackLength=function(t,e,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(e)?n=e.length:typeof e=="string"&&(n=Buffer.byteLength(e)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(t)+Fe.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof nwe))&&(r.knownLength||this._valuesToMeasure.push(e))};Fe.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):rwe.stat(t.path,function(r,n){var i;if(r){e(r);return}i=n.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};Fe.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(e,r),i=this._getContentType(e,r),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(n||[]),"Content-Type":[].concat(i||[])};typeof r.header=="object"&&FL(s,r.header);var a;for(var c in s)s.hasOwnProperty(c)&&(a=s[c],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=c+": "+a.join("; ")+Fe.LINE_BREAK)));return"--"+this.getBoundary()+Fe.LINE_BREAK+o+Fe.LINE_BREAK};Fe.prototype._getContentDisposition=function(t,e){var r,n;return typeof e.filepath=="string"?r=ML.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=ML.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(r=ML.basename(t.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};Fe.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=OL.lookup(t.name)),!r&&t.path&&(r=OL.lookup(t.path)),!r&&t.readable&&t.hasOwnProperty("httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=OL.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=Fe.DEFAULT_CONTENT_TYPE),r};Fe.prototype._multiPartFooter=function(){return function(t){var e=Fe.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};Fe.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+Fe.LINE_BREAK};Fe.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]=t[e]);return r};Fe.prototype.setBoundary=function(t){this._boundary=t};Fe.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};Fe.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(Fe.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};Fe.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};Fe.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};Fe.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};Fe.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}iwe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){t(r);return}n.forEach(function(i){e+=i}),t(null,e)})};Fe.prototype.submit=function(t,e){var r,n,i={method:"post"};return typeof t=="string"?(t=twe(t),n=FL({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(n=FL(t,i),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(t.headers),n.protocol=="https:"?r=ewe.request(n):r=Zbe.request(n),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&r.setHeader("Content-Length",s),this.pipe(r),e){var a,c=function(u,l){return r.removeListener("error",c),r.removeListener("response",a),e.call(this,u,l)};a=c.bind(this,null),r.on("error",c),r.on("response",a)}}.bind(this)),r};Fe.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};Fe.prototype.toString=function(){return"[object FormData]"}});var _9=y(x9=>{"use strict";var owe=require("url").parse,swe={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},awe=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function cwe(t){var e=typeof t=="string"?owe(t):t||{},r=e.protocol,n=e.host,i=e.port;if(typeof n!="string"||!n||typeof r!="string"||(r=r.split(":",1)[0],n=n.replace(/:\d*$/,""),i=parseInt(i)||swe[r]||0,!uwe(n,i)))return"";var o=Fd("npm_config_"+r+"_proxy")||Fd(r+"_proxy")||Fd("npm_config_proxy")||Fd("all_proxy");return o&&o.indexOf("://")===-1&&(o=r+"://"+o),o}function uwe(t,e){var r=(Fd("npm_config_no_proxy")||Fd("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(n){if(!n)return!0;var i=n.match(/^(.+):(\d+)$/),o=i?i[1]:n,s=i?parseInt(i[2]):0;return s&&s!==e?!0:/^[.*]/.test(o)?(o.charAt(0)==="*"&&(o=o.slice(1)),!awe.call(t,o)):t!==o}):!0}function Fd(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}x9.getProxyForUrl=cwe});var I9=y((fGe,A9)=>{var Bd=1e3,Nd=Bd*60,jd=Nd*60,ju=jd*24,lwe=ju*7,pwe=ju*365.25;A9.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return dwe(t);if(r==="number"&&isFinite(t))return e.long?hwe(t):fwe(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function dwe(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*pwe;case"weeks":case"week":case"w":return r*lwe;case"days":case"day":case"d":return r*ju;case"hours":case"hour":case"hrs":case"hr":case"h":return r*jd;case"minutes":case"minute":case"mins":case"min":case"m":return r*Nd;case"seconds":case"second":case"secs":case"sec":case"s":return r*Bd;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fwe(t){var e=Math.abs(t);return e>=ju?Math.round(t/ju)+"d":e>=jd?Math.round(t/jd)+"h":e>=Nd?Math.round(t/Nd)+"m":e>=Bd?Math.round(t/Bd)+"s":t+"ms"}function hwe(t){var e=Math.abs(t);return e>=ju?a_(t,e,ju,"day"):e>=jd?a_(t,e,jd,"hour"):e>=Nd?a_(t,e,Nd,"minute"):e>=Bd?a_(t,e,Bd,"second"):t+" ms"}function a_(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var NL=y((hGe,S9)=>{function mwe(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=I9(),r.destroy=u,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let p=0;for(let d=0;d<l.length;d++)p=(p<<5)-p+l.charCodeAt(d),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=e;function r(l){let p,d=null,m,f;function g(...v){if(!g.enabled)return;let x=g,C=Number(new Date),$=C-(p||C);x.diff=$,x.prev=p,x.curr=C,p=C,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let T=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(J,X)=>{if(J==="%%")return"%";T++;let F=r.formatters[X];if(typeof F=="function"){let M=v[T];J=F.call(x,M),v.splice(T,1),T--}return J}),r.formatArgs.call(x,v),(x.log||r.log).apply(x,v)}return g.namespace=l,g.useColors=r.useColors(),g.color=r.selectColor(l),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(m!==r.namespaces&&(m=r.namespaces,f=r.enabled(l)),f),set:v=>{d=v}}),typeof r.init=="function"&&r.init(g),g}function n(l,p){let d=r(this.namespace+(typeof p>"u"?":":p)+l);return d.log=this.log,d}function i(l){r.save(l),r.namespaces=l,r.names=[],r.skips=[];let p,d=(typeof l=="string"?l:"").split(/[\s,]+/),m=d.length;for(p=0;p<m;p++)d[p]&&(l=d[p].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.slice(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...r.names.map(a),...r.skips.map(a).map(p=>"-"+p)].join(",");return r.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let p,d;for(p=0,d=r.skips.length;p<d;p++)if(r.skips[p].test(l))return!1;for(p=0,d=r.names.length;p<d;p++)if(r.names[p].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}S9.exports=mwe});var E9=y((Nn,c_)=>{Nn.formatArgs=Hwe;Nn.save=ywe;Nn.load=vwe;Nn.useColors=gwe;Nn.storage=bwe();Nn.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Nn.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function gwe(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Hwe(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+c_.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Nn.log=console.debug||console.log||(()=>{});function ywe(t){try{t?Nn.storage.setItem("debug",t):Nn.storage.removeItem("debug")}catch{}}function vwe(){let t;try{t=Nn.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function bwe(){try{return localStorage}catch{}}c_.exports=NL()(Nn);var{formatters:wwe}=c_.exports;wwe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var C9=y((mGe,D9)=>{"use strict";D9.exports=(t,e)=>{e=e||process.argv;let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1?!0:n<i)}});var L9=y((gGe,P9)=>{"use strict";var xwe=require("os"),Ui=C9(),Gr=process.env,Ud;Ui("no-color")||Ui("no-colors")||Ui("color=false")?Ud=!1:(Ui("color")||Ui("colors")||Ui("color=true")||Ui("color=always"))&&(Ud=!0);"FORCE_COLOR"in Gr&&(Ud=Gr.FORCE_COLOR.length===0||parseInt(Gr.FORCE_COLOR,10)!==0);function _we(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Awe(t){if(Ud===!1)return 0;if(Ui("color=16m")||Ui("color=full")||Ui("color=truecolor"))return 3;if(Ui("color=256"))return 2;if(t&&!t.isTTY&&Ud!==!0)return 0;let e=Ud?1:0;if(process.platform==="win32"){let r=xwe.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(r[0])>=10&&Number(r[2])>=10586?Number(r[2])>=14931?3:2:1}if("CI"in Gr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(r=>r in Gr)||Gr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Gr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Gr.TEAMCITY_VERSION)?1:0;if(Gr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Gr){let r=parseInt((Gr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Gr.TERM_PROGRAM){case"iTerm.app":return r>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Gr.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(Gr.TERM)||"COLORTERM"in Gr?1:(Gr.TERM==="dumb",e)}function jL(t){let e=Awe(t);return _we(e)}P9.exports={supportsColor:jL,stdout:jL(process.stdout),stderr:jL(process.stderr)}});var $9=y((Cr,l_)=>{var Iwe=require("tty"),u_=require("util");Cr.init=Twe;Cr.log=Cwe;Cr.formatArgs=Ewe;Cr.save=Pwe;Cr.load=Lwe;Cr.useColors=Swe;Cr.destroy=u_.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Cr.colors=[6,2,3,4,5,1];try{let t=L9();t&&(t.stderr||t).level>=2&&(Cr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Cr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function Swe(){return"colors"in Cr.inspectOpts?!!Cr.inspectOpts.colors:Iwe.isatty(process.stderr.fd)}function Ewe(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+l_.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Dwe()+e+" "+t[0]}function Dwe(){return Cr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Cwe(...t){return process.stderr.write(u_.format(...t)+`
`)}function Pwe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Lwe(){return process.env.DEBUG}function Twe(t){t.inspectOpts={};let e=Object.keys(Cr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Cr.inspectOpts[e[r]]}l_.exports=NL()(Cr);var{formatters:T9}=l_.exports;T9.o=function(t){return this.inspectOpts.colors=this.useColors,u_.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};T9.O=function(t){return this.inspectOpts.colors=this.useColors,u_.inspect(t,this.inspectOpts)}});var k9=y((HGe,UL)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?UL.exports=E9():UL.exports=$9()});var M9=y((yGe,R9)=>{var xg;R9.exports=function(){if(!xg){try{xg=k9()("follow-redirects")}catch{}typeof xg!="function"&&(xg=function(){})}xg.apply(null,arguments)}});var q9=y((vGe,XL)=>{var Uu=require("url"),qL=Uu.URL,$we=require("http"),kwe=require("https"),VL=require("stream").Writable,B9=require("assert"),N9=M9(),GL=["abort","aborted","connect","error","socket","timeout"],zL=Object.create(null);GL.forEach(function(t){zL[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Rwe=Ag("ERR_INVALID_URL","Invalid URL",TypeError),O9=Ag("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),Mwe=Ag("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),Owe=Ag("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),Fwe=Ag("ERR_STREAM_WRITE_AFTER_END","write after end"),Bwe=VL.prototype.destroy||U9;function yn(t,e){VL.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}yn.prototype=Object.create(VL.prototype);yn.prototype.abort=function(){KL(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};yn.prototype.destroy=function(t){return KL(this._currentRequest,t),Bwe.call(this,t),this};yn.prototype.write=function(t,e,r){if(this._ending)throw new Fwe;if(!qu(t)&&!jwe(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(_g(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new Owe),this.abort())};yn.prototype.end=function(t,e,r){if(_g(t)?(r=t,t=e=null):_g(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};yn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};yn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};yn.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),r.removeListener("close",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this.on("close",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){yn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(yn.prototype,t,{get:function(){return this._currentRequest[t]}})});yn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};yn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);n._redirectable=this;for(var i of GL)n.on(i,zL[i]);if(this._currentUrl=/^\//.test(this._options.path)?Uu.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(u){if(n===s._currentRequest)if(u)s.emit("error",u);else if(o<a.length){var l=a[o++];n.finished||n.write(l.data,l.encoding,c)}else s._ended&&n.end()})()}};yn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(KL(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Mwe);return}var n,i=this._options.beforeRedirect;i&&(n=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],WL(/^content-/i,this._options.headers));var s=WL(/^host$/i,this._options.headers),a=Uu.parse(this._currentUrl),c=s||a.host,u=/^\w+:/.test(r)?this._currentUrl:Uu.format(Object.assign(a,{host:c})),l;try{l=Uu.resolve(u,r)}catch(f){this.emit("error",new O9({cause:f}));return}N9("redirecting to",l),this._isRedirect=!0;var p=Uu.parse(l);if(Object.assign(this._options,p),(p.protocol!==a.protocol&&p.protocol!=="https:"||p.host!==c&&!Nwe(p.host,c))&&WL(/^(?:authorization|cookie)$/i,this._options.headers),_g(i)){var d={headers:t.headers,statusCode:e},m={url:u,method:o,headers:n};try{i(this._options,d,m)}catch(f){this.emit("error",f);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(f){this.emit("error",new O9({cause:f}))}};function j9(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(u,l,p){if(qu(u)){var d;try{d=F9(new qL(u))}catch{d=Uu.parse(u)}if(!qu(d.protocol))throw new Rwe({input:u});u=d}else qL&&u instanceof qL?u=F9(u):(p=l,l=u,u={protocol:i});return _g(l)&&(p=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},u,l),l.nativeProtocols=r,!qu(l.host)&&!qu(l.hostname)&&(l.hostname="::1"),B9.equal(l.protocol,i,"protocol mismatch"),N9("options",l),new yn(l,p)}function c(u,l,p){var d=s.request(u,l,p);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function U9(){}function F9(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function WL(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Ag(t,e,r){function n(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return n.prototype=new(r||Error),n.prototype.constructor=n,n.prototype.name="Error ["+t+"]",n}function KL(t,e){for(var r of GL)t.removeListener(r,zL[r]);t.on("error",U9),t.destroy(e)}function Nwe(t,e){B9(qu(t)&&qu(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function qu(t){return typeof t=="string"||t instanceof String}function _g(t){return typeof t=="function"}function jwe(t){return typeof t=="object"&&"length"in t}XL.exports=j9({http:$we,https:kwe});XL.exports.wrap=j9});var $z=y((bGe,Tz)=>{"use strict";var Uwe=w9(),qwe=require("url"),Wwe=_9(),Vwe=require("http"),Gwe=require("https"),az=require("util"),zwe=q9(),Kwe=require("zlib"),cz=require("stream"),Xwe=require("events");function Os(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var uz=Os(Uwe),Jwe=Os(qwe),Ywe=Os(Vwe),Qwe=Os(Gwe),Zwe=Os(az),exe=Os(zwe),fc=Os(Kwe),pc=Os(cz),txe=Os(Xwe);function lz(t,e){return function(){return t.apply(e,arguments)}}var{toString:rxe}=Object.prototype,{getPrototypeOf:lT}=Object,g_=(t=>e=>{let r=rxe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),zo=t=>(t=t.toLowerCase(),e=>g_(e)===t),H_=t=>e=>typeof e===t,{isArray:Gd}=Array,Eg=H_("undefined");function nxe(t){return t!==null&&!Eg(t)&&t.constructor!==null&&!Eg(t.constructor)&&mi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var pz=zo("ArrayBuffer");function ixe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pz(t.buffer),e}var oxe=H_("string"),mi=H_("function"),dz=H_("number"),y_=t=>t!==null&&typeof t=="object",sxe=t=>t===!0||t===!1,d_=t=>{if(g_(t)!=="object")return!1;let e=lT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},axe=zo("Date"),cxe=zo("File"),uxe=zo("Blob"),lxe=zo("FileList"),pxe=t=>y_(t)&&mi(t.pipe),dxe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||mi(t.append)&&((e=g_(t))==="formdata"||e==="object"&&mi(t.toString)&&t.toString()==="[object FormData]"))},fxe=zo("URLSearchParams"),hxe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cg(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Gd(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{let o=r?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length,a;for(n=0;n<s;n++)a=o[n],e.call(null,t[a],a,t)}}function fz(t,e){e=e.toLowerCase();let r=Object.keys(t),n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}var hz=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),mz=t=>!Eg(t)&&t!==hz;function eT(){let{caseless:t}=mz(this)&&this||{},e={},r=(n,i)=>{let o=t&&fz(e,i)||i;d_(e[o])&&d_(n)?e[o]=eT(e[o],n):d_(n)?e[o]=eT({},n):Gd(n)?e[o]=n.slice():e[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Cg(arguments[n],r);return e}var mxe=(t,e,r,{allOwnKeys:n}={})=>(Cg(e,(i,o)=>{r&&mi(i)?t[o]=lz(i,r):t[o]=i},{allOwnKeys:n}),t),gxe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Hxe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},yxe=(t,e,r,n)=>{let i,o,s,a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!n||n(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=r!==!1&&lT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},vxe=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let n=t.indexOf(e,r);return n!==-1&&n===r},bxe=t=>{if(!t)return null;if(Gd(t))return t;let e=t.length;if(!dz(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},wxe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&lT(Uint8Array)),xxe=(t,e)=>{let n=(t&&t[Symbol.iterator]).call(t),i;for(;(i=n.next())&&!i.done;){let o=i.value;e.call(t,o[0],o[1])}},_xe=(t,e)=>{let r,n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Axe=zo("HTMLFormElement"),Ixe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),W9=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Sxe=zo("RegExp"),gz=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),n={};Cg(r,(i,o)=>{let s;(s=e(i,o,t))!==!1&&(n[o]=s||i)}),Object.defineProperties(t,n)},Exe=t=>{gz(t,(e,r)=>{if(mi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let n=t[r];if(mi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Dxe=(t,e)=>{let r={},n=i=>{i.forEach(o=>{r[o]=!0})};return Gd(t)?n(t):n(String(t).split(e)),r},Cxe=()=>{},Pxe=(t,e)=>(t=+t,Number.isFinite(t)?t:e),JL="abcdefghijklmnopqrstuvwxyz",V9="0123456789",Hz={DIGIT:V9,ALPHA:JL,ALPHA_DIGIT:JL+JL.toUpperCase()+V9},Lxe=(t=16,e=Hz.ALPHA_DIGIT)=>{let r="",{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function Txe(t){return!!(t&&mi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var $xe=t=>{let e=new Array(10),r=(n,i)=>{if(y_(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;let o=Gd(n)?[]:{};return Cg(n,(s,a)=>{let c=r(s,i+1);!Eg(c)&&(o[a]=c)}),e[i]=void 0,o}}return n};return r(t,0)},kxe=zo("AsyncFunction"),Rxe=t=>t&&(y_(t)||mi(t))&&mi(t.then)&&mi(t.catch),U={isArray:Gd,isArrayBuffer:pz,isBuffer:nxe,isFormData:dxe,isArrayBufferView:ixe,isString:oxe,isNumber:dz,isBoolean:sxe,isObject:y_,isPlainObject:d_,isUndefined:Eg,isDate:axe,isFile:cxe,isBlob:uxe,isRegExp:Sxe,isFunction:mi,isStream:pxe,isURLSearchParams:fxe,isTypedArray:wxe,isFileList:lxe,forEach:Cg,merge:eT,extend:mxe,trim:hxe,stripBOM:gxe,inherits:Hxe,toFlatObject:yxe,kindOf:g_,kindOfTest:zo,endsWith:vxe,toArray:bxe,forEachEntry:xxe,matchAll:_xe,isHTMLForm:Axe,hasOwnProperty:W9,hasOwnProp:W9,reduceDescriptors:gz,freezeMethods:Exe,toObjectSet:Dxe,toCamelCase:Ixe,noop:Cxe,toFiniteNumber:Pxe,findKey:fz,global:hz,isContextDefined:mz,ALPHABET:Hz,generateString:Lxe,isSpecCompliantForm:Txe,toJSONObject:$xe,isAsyncFn:kxe,isThenable:Rxe};function he(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}U.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var yz=he.prototype,vz={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vz[t]={value:t}});Object.defineProperties(he,vz);Object.defineProperty(yz,"isAxiosError",{value:!0});he.from=(t,e,r,n,i,o)=>{let s=Object.create(yz);return U.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),he.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function tT(t){return U.isPlainObject(t)||U.isArray(t)}function bz(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function G9(t,e,r){return t?t.concat(e).map(function(i,o){return i=bz(i),!r&&o?"["+i+"]":i}).join(r?".":""):e}function Mxe(t){return U.isArray(t)&&!t.some(tT)}var Oxe=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function v_(t,e,r){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new(uz.default||FormData),r=U.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!U.isUndefined(v[g])});let n=r.metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function u(f){if(f===null)return"";if(U.isDate(f))return f.toISOString();if(!c&&U.isBlob(f))throw new he("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(f)||U.isTypedArray(f)?c&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function l(f,g,v){let x=f;if(f&&!v&&typeof f=="object"){if(U.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(U.isArray(f)&&Mxe(f)||(U.isFileList(f)||U.endsWith(g,"[]"))&&(x=U.toArray(f)))return g=bz(g),x.forEach(function($,T){!(U.isUndefined($)||$===null)&&e.append(s===!0?G9([g],T,o):s===null?g:g+"[]",u($))}),!1}return tT(f)?!0:(e.append(G9(v,g,o),u(f)),!1)}let p=[],d=Object.assign(Oxe,{defaultVisitor:l,convertValue:u,isVisitable:tT});function m(f,g){if(!U.isUndefined(f)){if(p.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));p.push(f),U.forEach(f,function(x,C){(!(U.isUndefined(x)||x===null)&&i.call(e,x,U.isString(C)?C.trim():C,g,d))===!0&&m(x,g?g.concat(C):[C])}),p.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function z9(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function wz(t,e){this._pairs=[],t&&v_(t,this,e)}var xz=wz.prototype;xz.append=function(e,r){this._pairs.push([e,r])};xz.toString=function(e){let r=e?function(n){return e.call(this,n,z9)}:z9;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Fxe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pT(t,e,r){if(!e)return t;let n=r&&r.encode||Fxe,i=r&&r.serialize,o;if(i?o=i(e,r):o=U.isURLSearchParams(e)?e.toString():new wz(e,r).toString(n),o){let s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}var rT=class{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(n){n!==null&&e(n)})}},K9=rT,dT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bxe=Jwe.default.URLSearchParams,Nxe={isNode:!0,classes:{URLSearchParams:Bxe,FormData:uz.default,Blob:typeof Blob<"u"&&Blob||null},protocols:["http","https","file","data"]},_z=typeof window<"u"&&typeof document<"u",jxe=(t=>_z&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Uxe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),qxe=Object.freeze({__proto__:null,hasBrowserEnv:_z,hasStandardBrowserWebWorkerEnv:Uxe,hasStandardBrowserEnv:jxe}),hi={...qxe,...Nxe};function Wxe(t,e){return v_(t,new hi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return hi.isNode&&U.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function Vxe(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gxe(t){let e={},r=Object.keys(t),n,i=r.length,o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}function Az(t){function e(r,n,i,o){let s=r[o++],a=Number.isFinite(+s),c=o>=r.length;return s=!s&&U.isArray(i)?i.length:s,c?(U.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!U.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],o)&&U.isArray(i[s])&&(i[s]=Gxe(i[s])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){let r={};return U.forEachEntry(t,(n,i)=>{e(Vxe(n),i,r,0)}),r}return null}function zxe(t,e,r){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var fT={transitional:dT,adapter:["xhr","http"],transformRequest:[function(e,r){let n=r.getContentType()||"",i=n.indexOf("application/json")>-1,o=U.isObject(e);if(o&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i&&i?JSON.stringify(Az(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wxe(e,this.formSerializer).toString();if((a=U.isFileList(e))||n.indexOf("multipart/form-data")>-1){let c=this.env&&this.env.FormData;return v_(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),zxe(e)):e}],transformResponse:[function(e){let r=this.transitional||fT.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&U.isString(e)&&(n&&!this.responseType||i)){let s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?he.from(a,he.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hi.classes.FormData,Blob:hi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{fT.headers[t]={}});var hT=fT,Kxe=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xxe=t=>{let e={},r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&Kxe[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},X9=Symbol("internals");function Ig(t){return t&&String(t).trim().toLowerCase()}function f_(t){return t===!1||t==null?t:U.isArray(t)?t.map(f_):String(t)}function Jxe(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}var Yxe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function YL(t,e,r,n,i){if(U.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!U.isString(e)){if(U.isString(n))return e.indexOf(n)!==-1;if(U.isRegExp(n))return n.test(e)}}function Qxe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Zxe(t,e){let r=U.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,o,s){return this[n].call(this,e,i,o,s)},configurable:!0})})}var qd=class{constructor(e){e&&this.set(e)}set(e,r,n){let i=this;function o(a,c,u){let l=Ig(c);if(!l)throw new Error("header name must be a non-empty string");let p=U.findKey(i,l);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=f_(a))}let s=(a,c)=>U.forEach(a,(u,l)=>o(u,l,c));return U.isPlainObject(e)||e instanceof this.constructor?s(e,r):U.isString(e)&&(e=e.trim())&&!Yxe(e)?s(Xxe(e),r):e!=null&&o(r,e,n),this}get(e,r){if(e=Ig(e),e){let n=U.findKey(this,e);if(n){let i=this[n];if(!r)return i;if(r===!0)return Jxe(i);if(U.isFunction(r))return r.call(this,i,n);if(U.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ig(e),e){let n=U.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||YL(this,this[n],n,r)))}return!1}delete(e,r){let n=this,i=!1;function o(s){if(s=Ig(s),s){let a=U.findKey(n,s);a&&(!r||YL(n,n[a],a,r))&&(delete n[a],i=!0)}}return U.isArray(e)?e.forEach(o):o(e),i}clear(e){let r=Object.keys(this),n=r.length,i=!1;for(;n--;){let o=r[n];(!e||YL(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){let r=this,n={};return U.forEach(this,(i,o)=>{let s=U.findKey(n,o);if(s){r[s]=f_(i),delete r[o];return}let a=e?Qxe(o):String(o).trim();a!==o&&delete r[o],r[a]=f_(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return U.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&U.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){let n=(this[X9]=this[X9]={accessors:{}}).accessors,i=this.prototype;function o(s){let a=Ig(s);n[a]||(Zxe(i,s),n[a]=!0)}return U.isArray(e)?e.forEach(o):o(e),this}};qd.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(qd.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});U.freezeMethods(qd);var gi=qd;function QL(t,e){let r=this||hT,n=e||r,i=gi.from(n.headers),o=n.data;return U.forEach(t,function(a){o=a.call(r,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function Iz(t){return!!(t&&t.__CANCEL__)}function Wu(t,e,r){he.call(this,t??"canceled",he.ERR_CANCELED,e,r),this.name="CanceledError"}U.inherits(Wu,he,{__CANCEL__:!0});function Sg(t,e,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new he("Request failed with status code "+r.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function e_e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function t_e(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function mT(t,e){return t&&!e_e(e)?t_e(t,e):e}var m_="1.6.1";function Sz(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var r_e=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function n_e(t,e,r){let n=r&&r.Blob||hi.classes.Blob,i=Sz(t);if(e===void 0&&n&&(e=!0),i==="data"){t=i.length?t.slice(i.length+1):t;let o=r_e.exec(t);if(!o)throw new he("Invalid URL",he.ERR_INVALID_URL);let s=o[1],a=o[2],c=o[3],u=Buffer.from(decodeURIComponent(c),a?"base64":"utf8");if(e){if(!n)throw new he("Blob is not supported",he.ERR_NOT_SUPPORT);return new n([u],{type:s})}return u}throw new he("Unsupported protocol "+i,he.ERR_NOT_SUPPORT)}function i_e(t,e){let r=0,n=1e3/e,i=null;return function(s,a){let c=Date.now();if(s||c-r>n)return i&&(clearTimeout(i),i=null),r=c,t.apply(null,a);i||(i=setTimeout(()=>(i=null,r=Date.now(),t.apply(null,a)),n-(c-r)))}}function Ez(t,e){t=t||10;let r=new Array(t),n=new Array(t),i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){let u=Date.now(),l=n[o];s||(s=u),r[i]=c,n[i]=u;let p=o,d=0;for(;p!==i;)d+=r[p++],p=p%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),u-s<e)return;let m=l&&u-l;return m?Math.round(d*1e3/m):void 0}}var p_=Symbol("internals"),nT=class extends pc.default.Transform{constructor(e){e=U.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,c)=>!U.isUndefined(c[a])),super({readableHighWaterMark:e.chunkSize});let r=this,n=this[p_]={length:e.length,timeWindow:e.timeWindow,ticksRate:e.ticksRate,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null},i=Ez(n.ticksRate*e.samplesCount,n.timeWindow);this.on("newListener",a=>{a==="progress"&&(n.isCaptured||(n.isCaptured=!0))});let o=0;n.updateProgress=i_e(function(){let c=n.length,u=n.bytesSeen,l=u-o;if(!l||r.destroyed)return;let p=i(l);o=u,process.nextTick(()=>{r.emit("progress",{loaded:u,total:c,progress:c?u/c:void 0,bytes:l,rate:p||void 0,estimated:p&&c&&u<=c?(c-u)/p:void 0})})},n.ticksRate);let s=()=>{n.updateProgress(!0)};this.once("end",s),this.once("error",s)}_read(e){let r=this[p_];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,n){let i=this,o=this[p_],s=o.maxRate,a=this.readableHighWaterMark,c=o.timeWindow,u=1e3/c,l=s/u,p=o.minChunkSize!==!1?Math.max(o.minChunkSize,l*.01):0;function d(f,g){let v=Buffer.byteLength(f);o.bytesSeen+=v,o.bytes+=v,o.isCaptured&&o.updateProgress(),i.push(f)?process.nextTick(g):o.onReadCallback=()=>{o.onReadCallback=null,process.nextTick(g)}}let m=(f,g)=>{let v=Buffer.byteLength(f),x=null,C=a,$,T=0;if(s){let R=Date.now();(!o.ts||(T=R-o.ts)>=c)&&(o.ts=R,$=l-o.bytes,o.bytes=$<0?-$:0,T=0),$=l-o.bytes}if(s){if($<=0)return setTimeout(()=>{g(null,f)},c-T);$<C&&(C=$)}C&&v>C&&v-C>p&&(x=f.subarray(C),f=f.subarray(0,C)),d(f,x?()=>{process.nextTick(g,null,x)}:g)};m(e,function f(g,v){if(g)return n(g);v?m(v,f):n(null)})}setLength(e){return this[p_].length=+e,this}},J9=nT,{asyncIterator:Y9}=Symbol,o_e=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[Y9]?yield*t[Y9]():yield t},Dz=o_e,s_e=U.ALPHABET.ALPHA_DIGIT+"-_",Dg=new az.TextEncoder,dc=`\r
`,a_e=Dg.encode(dc),c_e=2,iT=class{constructor(e,r){let{escapeName:n}=this.constructor,i=U.isString(r),o=`Content-Disposition: form-data; name="${n(e)}"${!i&&r.name?`; filename="${n(r.name)}"`:""}${dc}`;i?r=Dg.encode(String(r).replace(/\r?\n|\r\n?/g,dc)):o+=`Content-Type: ${r.type||"application/octet-stream"}${dc}`,this.headers=Dg.encode(o+dc),this.contentLength=i?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+c_e,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;U.isTypedArray(e)?yield e:yield*Dz(e),yield a_e}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},u_e=(t,e,r)=>{let{tag:n="form-data-boundary",size:i=25,boundary:o=n+"-"+U.generateString(i,s_e)}=r||{};if(!U.isFormData(t))throw TypeError("FormData instance required");if(o.length<1||o.length>70)throw Error("boundary must be 10-70 characters long");let s=Dg.encode("--"+o+dc),a=Dg.encode("--"+o+"--"+dc+dc),c=a.byteLength,u=Array.from(t.entries()).map(([p,d])=>{let m=new iT(p,d);return c+=m.size,m});c+=s.byteLength*u.length,c=U.toFiniteNumber(c);let l={"Content-Type":`multipart/form-data; boundary=${o}`};return Number.isFinite(c)&&(l["Content-Length"]=c),e&&e(l),cz.Readable.from(async function*(){for(let p of u)yield s,yield*p.encode();yield a}())},l_e=u_e,oT=class extends pc.default.Transform{__transform(e,r,n){this.push(e),n()}_transform(e,r,n){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let i=Buffer.alloc(2);i[0]=120,i[1]=156,this.push(i,r)}this.__transform(e,r,n)}},p_e=oT,d_e=(t,e)=>U.isAsyncFn(t)?function(...r){let n=r.pop();t.apply(this,r).then(i=>{try{e?n(null,...e(i)):n(null,i)}catch(o){n(o)}},n)}:t,f_e=d_e,Q9={flush:fc.default.constants.Z_SYNC_FLUSH,finishFlush:fc.default.constants.Z_SYNC_FLUSH},h_e={flush:fc.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:fc.default.constants.BROTLI_OPERATION_FLUSH},Z9=U.isFunction(fc.default.createBrotliDecompress),{http:m_e,https:g_e}=exe.default,H_e=/https:?/,ez=hi.protocols.map(t=>t+":");function y_e(t){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t)}function Cz(t,e,r){let n=e;if(!n&&n!==!1){let i=Wwe.getProxyForUrl(r);i&&(n=new URL(i))}if(n){if(n.username&&(n.auth=(n.username||"")+":"+(n.password||"")),n.auth){(n.auth.username||n.auth.password)&&(n.auth=(n.auth.username||"")+":"+(n.auth.password||""));let o=Buffer.from(n.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+o}t.headers.host=t.hostname+(t.port?":"+t.port:"");let i=n.hostname||n.host;t.hostname=i,t.host=i,t.port=n.port,t.path=r,n.protocol&&(t.protocol=n.protocol.includes(":")?n.protocol:`${n.protocol}:`)}t.beforeRedirects.proxy=function(o){Cz(o,e,o.href)}}var v_e=typeof process<"u"&&U.kindOf(process)==="process",b_e=t=>new Promise((e,r)=>{let n,i,o=(c,u)=>{i||(i=!0,n&&n(c,u))},s=c=>{o(c),e(c)},a=c=>{o(c,!0),r(c)};t(s,a,c=>n=c).catch(a)}),w_e=({address:t,family:e})=>{if(!U.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},tz=(t,e)=>w_e(U.isObject(t)?t:{address:t,family:e}),x_e=v_e&&function(e){return b_e(async function(n,i,o){let{data:s,lookup:a,family:c}=e,{responseType:u,responseEncoding:l}=e,p=e.method.toUpperCase(),d,m=!1,f;if(a){let K=f_e(a,z=>U.isArray(z)?z:[z]);a=(z,ee,ne)=>{K(z,ee,(Q,pe,Ae)=>{let me=U.isArray(pe)?pe.map(Xe=>tz(Xe)):[tz(pe,Ae)];ee.all?ne(Q,me):ne(Q,me[0].address,me[0].family)})}}let g=new txe.default,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(x),e.signal&&e.signal.removeEventListener("abort",x),g.removeAllListeners()};o((K,z)=>{d=!0,z&&(m=!0,v())});function x(K){g.emit("abort",!K||K.type?new Wu(null,e,f):K)}g.once("abort",i),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(x),e.signal&&(e.signal.aborted?x():e.signal.addEventListener("abort",x)));let C=mT(e.baseURL,e.url),$=new URL(C,"http://localhost"),T=$.protocol||ez[0];if(T==="data:"){let K;if(p!=="GET")return Sg(n,i,{status:405,statusText:"method not allowed",headers:{},config:e});try{K=n_e(e.url,u==="blob",{Blob:e.env&&e.env.Blob})}catch(z){throw he.from(z,he.ERR_BAD_REQUEST,e)}return u==="text"?(K=K.toString(l),(!l||l==="utf8")&&(K=U.stripBOM(K))):u==="stream"&&(K=pc.default.Readable.from(K)),Sg(n,i,{data:K,status:200,statusText:"OK",headers:new gi,config:e})}if(ez.indexOf(T)===-1)return i(new he("Unsupported protocol "+T,he.ERR_BAD_REQUEST,e));let R=gi.from(e.headers).normalize();R.set("User-Agent","axios/"+m_,!1);let J=e.onDownloadProgress,X=e.onUploadProgress,F=e.maxRate,M,O;if(U.isSpecCompliantForm(s)){let K=R.getContentType(/boundary=([-_\w\d]{10,70})/i);s=l_e(s,z=>{R.set(z)},{tag:`axios-${m_}-boundary`,boundary:K&&K[1]||void 0})}else if(U.isFormData(s)&&U.isFunction(s.getHeaders)){if(R.set(s.getHeaders()),!R.hasContentLength())try{let K=await Zwe.default.promisify(s.getLength).call(s);Number.isFinite(K)&&K>=0&&R.setContentLength(K)}catch{}}else if(U.isBlob(s))s.size&&R.setContentType(s.type||"application/octet-stream"),R.setContentLength(s.size||0),s=pc.default.Readable.from(Dz(s));else if(s&&!U.isStream(s)){if(!Buffer.isBuffer(s))if(U.isArrayBuffer(s))s=Buffer.from(new Uint8Array(s));else if(U.isString(s))s=Buffer.from(s,"utf-8");else return i(new he("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",he.ERR_BAD_REQUEST,e));if(R.setContentLength(s.length,!1),e.maxBodyLength>-1&&s.length>e.maxBodyLength)return i(new he("Request body larger than maxBodyLength limit",he.ERR_BAD_REQUEST,e))}let D=U.toFiniteNumber(R.getContentLength());U.isArray(F)?(M=F[0],O=F[1]):M=O=F,s&&(X||M)&&(U.isStream(s)||(s=pc.default.Readable.from(s,{objectMode:!1})),s=pc.default.pipeline([s,new J9({length:D,maxRate:U.toFiniteNumber(M)})],U.noop),X&&s.on("progress",K=>{X(Object.assign(K,{upload:!0}))}));let W;if(e.auth){let K=e.auth.username||"",z=e.auth.password||"";W=K+":"+z}if(!W&&$.username){let K=$.username,z=$.password;W=K+":"+z}W&&R.delete("authorization");let B;try{B=pT($.pathname+$.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(K){let z=new Error(K.message);return z.config=e,z.url=e.url,z.exists=!0,i(z)}R.set("Accept-Encoding","gzip, compress, deflate"+(Z9?", br":""),!1);let G={path:B,method:p,headers:R.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:W,protocol:T,family:c,beforeRedirect:y_e,beforeRedirects:{}};!U.isUndefined(a)&&(G.lookup=a),e.socketPath?G.socketPath=e.socketPath:(G.hostname=$.hostname,G.port=$.port,Cz(G,e.proxy,T+"//"+$.hostname+($.port?":"+$.port:"")+G.path));let S,L=H_e.test(G.protocol);if(G.agent=L?e.httpsAgent:e.httpAgent,e.transport?S=e.transport:e.maxRedirects===0?S=L?Qwe.default:Ywe.default:(e.maxRedirects&&(G.maxRedirects=e.maxRedirects),e.beforeRedirect&&(G.beforeRedirects.config=e.beforeRedirect),S=L?g_e:m_e),e.maxBodyLength>-1?G.maxBodyLength=e.maxBodyLength:G.maxBodyLength=1/0,e.insecureHTTPParser&&(G.insecureHTTPParser=e.insecureHTTPParser),f=S.request(G,function(z){if(f.destroyed)return;let ee=[z],ne=+z.headers["content-length"];if(J){let Xe=new J9({length:U.toFiniteNumber(ne),maxRate:U.toFiniteNumber(O)});J&&Xe.on("progress",ge=>{J(Object.assign(ge,{download:!0}))}),ee.push(Xe)}let Q=z,pe=z.req||f;if(e.decompress!==!1&&z.headers["content-encoding"])switch((p==="HEAD"||z.statusCode===204)&&delete z.headers["content-encoding"],(z.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":ee.push(fc.default.createUnzip(Q9)),delete z.headers["content-encoding"];break;case"deflate":ee.push(new p_e),ee.push(fc.default.createUnzip(Q9)),delete z.headers["content-encoding"];break;case"br":Z9&&(ee.push(fc.default.createBrotliDecompress(h_e)),delete z.headers["content-encoding"])}Q=ee.length>1?pc.default.pipeline(ee,U.noop):ee[0];let Ae=pc.default.finished(Q,()=>{Ae(),v()}),me={status:z.statusCode,statusText:z.statusMessage,headers:new gi(z.headers),config:e,request:pe};if(u==="stream")me.data=Q,Sg(n,i,me);else{let Xe=[],ge=0;Q.on("data",function(Je){Xe.push(Je),ge+=Je.length,e.maxContentLength>-1&&ge>e.maxContentLength&&(m=!0,Q.destroy(),i(new he("maxContentLength size of "+e.maxContentLength+" exceeded",he.ERR_BAD_RESPONSE,e,pe)))}),Q.on("aborted",function(){if(m)return;let Je=new he("maxContentLength size of "+e.maxContentLength+" exceeded",he.ERR_BAD_RESPONSE,e,pe);Q.destroy(Je),i(Je)}),Q.on("error",function(Je){f.destroyed||i(he.from(Je,null,e,pe))}),Q.on("end",function(){try{let Je=Xe.length===1?Xe[0]:Buffer.concat(Xe);u!=="arraybuffer"&&(Je=Je.toString(l),(!l||l==="utf8")&&(Je=U.stripBOM(Je))),me.data=Je}catch(Je){return i(he.from(Je,null,e,me.request,me))}Sg(n,i,me)})}g.once("abort",Xe=>{Q.destroyed||(Q.emit("error",Xe),Q.destroy())})}),g.once("abort",K=>{i(K),f.destroy(K)}),f.on("error",function(z){i(he.from(z,null,e,f))}),f.on("socket",function(z){z.setKeepAlive(!0,1e3*60)}),e.timeout){let K=parseInt(e.timeout,10);if(Number.isNaN(K)){i(new he("error trying to parse `config.timeout` to int",he.ERR_BAD_OPTION_VALUE,e,f));return}f.setTimeout(K,function(){if(d)return;let ee=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",ne=e.transitional||dT;e.timeoutErrorMessage&&(ee=e.timeoutErrorMessage),i(new he(ee,ne.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,f)),x()})}if(U.isStream(s)){let K=!1,z=!1;s.on("end",()=>{K=!0}),s.once("error",ee=>{z=!0,f.destroy(ee)}),s.on("close",()=>{!K&&!z&&x(new Wu("Request stream has been aborted",e,f))}),s.pipe(f)}else f.end(s)})},__e=hi.hasStandardBrowserEnv?function(){return{write:function(r,n,i,o,s,a){let c=[];c.push(r+"="+encodeURIComponent(n)),U.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),U.isString(o)&&c.push("path="+o),U.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){let n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),A_e=hi.hasStandardBrowserEnv?function(){let e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){let s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){let a=U.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function rz(t,e){let r=0,n=Ez(50,250);return i=>{let o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-r,c=n(a),u=o<=s;r=o;let l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&u?(s-o)/c:void 0,event:i};l[e?"download":"upload"]=!0,t(l)}}var I_e=typeof XMLHttpRequest<"u",S_e=I_e&&function(t){return new Promise(function(r,n){let i=t.data,o=gi.from(t.headers).normalize(),s=t.responseType,a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let u;if(U.isFormData(i)){if(hi.hasStandardBrowserEnv||hi.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){let[f,...g]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([f||"multipart/form-data",...g].join("; "))}}let l=new XMLHttpRequest;if(t.auth){let f=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(f+":"+g))}let p=mT(t.baseURL,t.url);l.open(t.method.toUpperCase(),pT(p,t.params,t.paramsSerializer),!0),l.timeout=t.timeout;function d(){if(!l)return;let f=gi.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:f,config:t,request:l};Sg(function(C){r(C),c()},function(C){n(C),c()},v),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(n(new he("Request aborted",he.ECONNABORTED,t,l)),l=null)},l.onerror=function(){n(new he("Network Error",he.ERR_NETWORK,t,l)),l=null},l.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",v=t.transitional||dT;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new he(g,v.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,l)),l=null},hi.hasStandardBrowserEnv){let f=A_e(p)&&t.xsrfCookieName&&__e.read(t.xsrfCookieName);f&&o.set(t.xsrfHeaderName,f)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&U.forEach(o.toJSON(),function(g,v){l.setRequestHeader(v,g)}),U.isUndefined(t.withCredentials)||(l.withCredentials=!!t.withCredentials),s&&s!=="json"&&(l.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&l.addEventListener("progress",rz(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",rz(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{l&&(n(!f||f.type?new Wu(null,t,l):f),l.abort(),l=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));let m=Sz(p);if(m&&hi.protocols.indexOf(m)===-1){n(new he("Unsupported protocol "+m+":",he.ERR_BAD_REQUEST,t));return}l.send(i||null)})},sT={http:x_e,xhr:S_e};U.forEach(sT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var nz=t=>`- ${t}`,E_e=t=>U.isFunction(t)||t===null||t===!1,Pz={getAdapter:t=>{t=U.isArray(t)?t:[t];let{length:e}=t,r,n,i={};for(let o=0;o<e;o++){r=t[o];let s;if(n=r,!E_e(r)&&(n=sT[(s=String(r)).toLowerCase()],n===void 0))throw new he(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){let o=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build")),s=e?o.length>1?`since :
`+o.map(nz).join(`
`):" "+nz(o[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:sT};function ZL(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wu(null,t)}function iz(t){return ZL(t),t.headers=gi.from(t.headers),t.data=QL.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Pz.getAdapter(t.adapter||hT.adapter)(t).then(function(n){return ZL(t),n.data=QL.call(t,t.transformResponse,n),n.headers=gi.from(n.headers),n},function(n){return Iz(n)||(ZL(t),n&&n.response&&(n.response.data=QL.call(t,t.transformResponse,n.response),n.response.headers=gi.from(n.response.headers))),Promise.reject(n)})}var oz=t=>t instanceof gi?t.toJSON():t;function Wd(t,e){e=e||{};let r={};function n(u,l,p){return U.isPlainObject(u)&&U.isPlainObject(l)?U.merge.call({caseless:p},u,l):U.isPlainObject(l)?U.merge({},l):U.isArray(l)?l.slice():l}function i(u,l,p){if(U.isUndefined(l)){if(!U.isUndefined(u))return n(void 0,u,p)}else return n(u,l,p)}function o(u,l){if(!U.isUndefined(l))return n(void 0,l)}function s(u,l){if(U.isUndefined(l)){if(!U.isUndefined(u))return n(void 0,u)}else return n(void 0,l)}function a(u,l,p){if(p in e)return n(u,l);if(p in t)return n(void 0,u)}let c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,l)=>i(oz(u),oz(l),!0)};return U.forEach(Object.keys(Object.assign({},t,e)),function(l){let p=c[l]||i,d=p(t[l],e[l],l);U.isUndefined(d)&&p!==a||(r[l]=d)}),r}var gT={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gT[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var sz={};gT.transitional=function(e,r,n){function i(o,s){return"[Axios v"+m_+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return(o,s,a)=>{if(e===!1)throw new he(i(s," has been removed"+(r?" in "+r:"")),he.ERR_DEPRECATED);return r&&!sz[s]&&(sz[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function D_e(t,e,r){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);let n=Object.keys(t),i=n.length;for(;i-- >0;){let o=n[i],s=e[o];if(s){let a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new he("option "+o+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new he("Unknown option "+o,he.ERR_BAD_OPTION)}}var aT={assertOptions:D_e,validators:gT},lc=aT.validators,Vd=class{constructor(e){this.defaults=e,this.interceptors={request:new K9,response:new K9}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Wd(this.defaults,r);let{transitional:n,paramsSerializer:i,headers:o}=r;n!==void 0&&aT.assertOptions(n,{silentJSONParsing:lc.transitional(lc.boolean),forcedJSONParsing:lc.transitional(lc.boolean),clarifyTimeoutError:lc.transitional(lc.boolean)},!1),i!=null&&(U.isFunction(i)?r.paramsSerializer={serialize:i}:aT.assertOptions(i,{encode:lc.function,serialize:lc.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=o&&U.merge(o.common,o[r.method]);o&&U.forEach(["delete","get","head","post","put","patch","common"],f=>{delete o[f]}),r.headers=gi.concat(s,o);let a=[],c=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(c=c&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});let u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let l,p=0,d;if(!c){let f=[iz.bind(this),void 0];for(f.unshift.apply(f,a),f.push.apply(f,u),d=f.length,l=Promise.resolve(r);p<d;)l=l.then(f[p++],f[p++]);return l}d=a.length;let m=r;for(p=0;p<d;){let f=a[p++],g=a[p++];try{m=f(m)}catch(v){g.call(this,v);break}}try{l=iz.call(this,m)}catch(f){return Promise.reject(f)}for(p=0,d=u.length;p<d;)l=l.then(u[p++],u[p++]);return l}getUri(e){e=Wd(this.defaults,e);let r=mT(e.baseURL,e.url);return pT(r,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){Vd.prototype[e]=function(r,n){return this.request(Wd(n||{},{method:e,url:r,data:(n||{}).data}))}});U.forEach(["post","put","patch"],function(e){function r(n){return function(o,s,a){return this.request(Wd(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Vd.prototype[e]=r(),Vd.prototype[e+"Form"]=r(!0)});var h_=Vd,cT=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});let n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o,s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},e(function(o,s,a){n.reason||(n.reason=new Wu(o,s,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new t(function(i){e=i}),cancel:e}}},C_e=cT;function P_e(t){return function(r){return t.apply(null,r)}}function L_e(t){return U.isObject(t)&&t.isAxiosError===!0}var uT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uT).forEach(([t,e])=>{uT[e]=t});var T_e=uT;function Lz(t){let e=new h_(t),r=lz(h_.prototype.request,e);return U.extend(r,h_.prototype,e,{allOwnKeys:!0}),U.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Lz(Wd(t,i))},r}var Kt=Lz(hT);Kt.Axios=h_;Kt.CanceledError=Wu;Kt.CancelToken=C_e;Kt.isCancel=Iz;Kt.VERSION=m_;Kt.toFormData=v_;Kt.AxiosError=he;Kt.Cancel=Kt.CanceledError;Kt.all=function(e){return Promise.all(e)};Kt.spread=P_e;Kt.isAxiosError=L_e;Kt.mergeConfig=Wd;Kt.AxiosHeaders=gi;Kt.formToJSON=t=>Az(U.isHTMLForm(t)?new FormData(t):t);Kt.getAdapter=Pz.getAdapter;Kt.HttpStatusCode=T_e;Kt.default=Kt;Tz.exports=Kt});var kz=y(b_=>{"use strict";Object.defineProperty(b_,"__esModule",{value:!0});b_.AxiosHttpClient=void 0;var $_e=$z(),HT=class{constructor(e){this.endpoint=e}get(e){return $_e.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};b_.AxiosHttpClient=HT});var Rz=y(w_=>{"use strict";Object.defineProperty(w_,"__esModule",{value:!0});w_.MemoryKeyValueStorage=void 0;var yT=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};w_.MemoryKeyValueStorage=yT});var Mz=y(x_=>{"use strict";Object.defineProperty(x_,"__esModule",{value:!0});x_.ExperimentationServiceBase=void 0;var k_e=Rz(),vT=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,r,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=r,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new k_e.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async n=>await n.getFeatures()));let r=await this.fetchPromise;this.updateFeatures(r,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`);let n=this.features.configs.find(i=>i.Id===e);return n?.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};x_.ExperimentationServiceBase=vT});var Oz=y(__=>{"use strict";Object.defineProperty(__,"__esModule",{value:!0});__.PollingService=void 0;var bT=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};__.PollingService=bT});var Fz=y(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});A_.ExperimentationServiceAutoPolling=void 0;var R_e=Mz(),M_e=Oz(),wT=class extends R_e.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new M_e.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};A_.ExperimentationServiceAutoPolling=wT});var Bz=y(S_=>{"use strict";Object.defineProperty(S_,"__esModule",{value:!0});S_.ExperimentationService=void 0;var O_e=N6(),F_e=kz(),B_e=Fz(),I_=class extends B_e.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new O_e.TasApiFeatureProvider(new F_e.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};S_.ExperimentationService=I_;I_.REFRESH_RATE_IN_MINUTES=30});var Nz=y(E_=>{"use strict";Object.defineProperty(E_,"__esModule",{value:!0});E_.ExperimentationService=void 0;var N_e=Bz();Object.defineProperty(E_,"ExperimentationService",{enumerable:!0,get:function(){return N_e.ExperimentationService}})});var jz=y(D_=>{"use strict";Object.defineProperty(D_,"__esModule",{value:!0});D_.MementoKeyValueStorage=void 0;var xT=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};D_.MementoKeyValueStorage=xT});var Uz=y(AT=>{"use strict";Object.defineProperty(AT,"__esModule",{value:!0});var _T=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};AT.default=_T});var Wz=y(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.getExperimentationServiceAsync=zd.getExperimentationService=void 0;var j_e=IL(),U_e=Nz(),IT=require("vscode"),q_e=jz(),W_e=Uz(),V_e="https://default.exp-tas.com/vscode/ab",G_e="query-expfeature",z_e="abexp.assignmentcontext",K_e="VSCode.ABExp.FeatureData",X_e=1e3*60*30;function qz(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=IT.workspace.getConfiguration("telemetry");if(!(IT.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):IT.env.isTelemetryEnabled))return new W_e.default;let u=[new j_e.VSCodeFilterProvider(t,e,r),...o],l=new q_e.MementoKeyValueStorage(i);return new U_e.ExperimentationService({filterProviders:u,telemetry:n,storageKey:K_e,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:z_e,telemetryEventName:G_e,endpoint:V_e,refetchInterval:X_e})}zd.getExperimentationService=qz;async function J_e(t,e,r,n,i,...o){let s=qz(t,e,r,n,i,...o);return await s.initializePromise,s}zd.getExperimentationServiceAsync=J_e});var Gz=y(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.TargetPopulation=hc.getExperimentationServiceAsync=hc.getExperimentationService=void 0;var Vz=Wz();Object.defineProperty(hc,"getExperimentationService",{enumerable:!0,get:function(){return Vz.getExperimentationService}});Object.defineProperty(hc,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return Vz.getExperimentationServiceAsync}});var Y_e=IL();Object.defineProperty(hc,"TargetPopulation",{enumerable:!0,get:function(){return Y_e.TargetPopulation}})});var eX=y(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});function KT(t){this.j={},this.jr=[],this.jd=null,this.t=t}KT.prototype={accepts:function(){return!!this.t},tt:function(e,r){if(r&&r.j)return this.j[e]=r,r;var n=r,i=this.j[e];if(i)return n&&(i.t=n),i;i=nt();var o=X_(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=n||o.t):i.t=n,this.j[e]=i,i}};var nt=function(){return new KT},ye=function(e){return new KT(e)},se=function(e,r,n){e.j[r]||(e.j[r]=n)},Hr=function(e,r,n){e.jr.push([r,n])},X_=function(e,r){var n=e.j[r];if(n)return n;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(r))return s}return e.jd},Ce=function(e,r,n){for(var i=0;i<r.length;i++)se(e,r[i],n)},_0e=function(e,r){for(var n=0;n<r.length;n++){var i=r[n][0],o=r[n][1];se(e,i,o)}},Zu=function(e,r,n,i){for(var o=0,s=r.length,a;o<s&&(a=e.j[r[o]]);)e=a,o++;if(o>=s)return[];for(;o<s-1;)a=i(),se(e,r[o],a),e=a,o++;se(e,r[s-1],n)},Vi="DOMAIN",qs="LOCALHOST",Jo="TLD",vi="NUM",Mf="PROTOCOL",XT="MAILTO",JK="WS",JT="NL",Lf="OPENBRACE",Vg="OPENBRACKET",Gg="OPENANGLEBRACKET",zg="OPENPAREN",el="CLOSEBRACE",Tf="CLOSEBRACKET",$f="CLOSEANGLEBRACKET",kf="CLOSEPAREN",J_="AMPERSAND",Y_="APOSTROPHE",Q_="ASTERISK",Rf="AT",Z_="BACKSLASH",e0="BACKTICK",t0="CARET",Kg="COLON",YT="COMMA",r0="DOLLAR",_c="DOT",n0="EQUALS",QT="EXCLAMATION",i0="HYPHEN",o0="PERCENT",s0="PIPE",a0="PLUS",c0="POUND",u0="QUERY",ZT="QUOTE",e$="SEMI",Ws="SLASH",l0="TILDE",p0="UNDERSCORE",d0="SYM",A0e=Object.freeze({__proto__:null,DOMAIN:Vi,LOCALHOST:qs,TLD:Jo,NUM:vi,PROTOCOL:Mf,MAILTO:XT,WS:JK,NL:JT,OPENBRACE:Lf,OPENBRACKET:Vg,OPENANGLEBRACKET:Gg,OPENPAREN:zg,CLOSEBRACE:el,CLOSEBRACKET:Tf,CLOSEANGLEBRACKET:$f,CLOSEPAREN:kf,AMPERSAND:J_,APOSTROPHE:Y_,ASTERISK:Q_,AT:Rf,BACKSLASH:Z_,BACKTICK:e0,CARET:t0,COLON:Kg,COMMA:YT,DOLLAR:r0,DOT:_c,EQUALS:n0,EXCLAMATION:QT,HYPHEN:i0,PERCENT:o0,PIPE:s0,PLUS:a0,POUND:c0,QUERY:u0,QUOTE:ZT,SEMI:e$,SLASH:Ws,TILDE:l0,UNDERSCORE:p0,SYM:d0}),zK="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),jg=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,Ug=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,qg=/\uFE0F/,Wg=/\d/,KK=/\s/;function I0e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=nt(),r=ye(vi),n=ye(Vi),i=nt(),o=ye(JK),s=[[Wg,n],[jg,n],[Ug,n],[qg,n]],a=function(){var T=ye(Vi);return T.j={"-":i},T.jr=[].concat(s),T},c=function(T){var R=a();return R.t=T,R};_0e(e,[["'",ye(Y_)],["{",ye(Lf)],["[",ye(Vg)],["<",ye(Gg)],["(",ye(zg)],["}",ye(el)],["]",ye(Tf)],[">",ye($f)],[")",ye(kf)],["&",ye(J_)],["*",ye(Q_)],["@",ye(Rf)],["`",ye(e0)],["^",ye(t0)],[":",ye(Kg)],[",",ye(YT)],["$",ye(r0)],[".",ye(_c)],["=",ye(n0)],["!",ye(QT)],["-",ye(i0)],["%",ye(o0)],["|",ye(s0)],["+",ye(a0)],["#",ye(c0)],["?",ye(u0)],['"',ye(ZT)],["/",ye(Ws)],[";",ye(e$)],["~",ye(l0)],["_",ye(p0)],["\\",ye(Z_)]]),se(e,`
`,ye(JT)),Hr(e,KK,o),se(o,`
`,nt()),Hr(o,KK,o);for(var u=0;u<zK.length;u++)Zu(e,zK[u],c(Jo),a);var l=a(),p=a(),d=a(),m=a();Zu(e,"file",l,a),Zu(e,"ftp",p,a),Zu(e,"http",d,a),Zu(e,"mailto",m,a);var f=a(),g=ye(Mf),v=ye(XT);se(p,"s",f),se(p,":",g),se(d,"s",f),se(d,":",g),se(l,":",g),se(f,":",g),se(m,":",v);for(var x=a(),C=0;C<t.length;C++)Zu(e,t[C],x,a);return se(x,":",g),Zu(e,"localhost",c(qs),a),Hr(e,Wg,r),Hr(e,jg,n),Hr(e,Ug,n),Hr(e,qg,n),Hr(r,Wg,r),Hr(r,jg,n),Hr(r,Ug,n),Hr(r,qg,n),se(r,"-",i),se(n,"-",i),se(i,"-",i),Hr(n,Wg,n),Hr(n,jg,n),Hr(n,Ug,n),Hr(n,qg,n),Hr(i,Wg,n),Hr(i,jg,n),Hr(i,Ug,n),Hr(i,qg,n),e.jd=ye(d0),e}function S0e(t,e){for(var r=E0e(e.replace(/[A-Z]/g,function(m){return m.toLowerCase()})),n=r.length,i=[],o=0,s=0;s<n;){for(var a=t,c=null,u=0,l=null,p=-1,d=-1;s<n&&(c=X_(a,r[s]));)a=c,a.accepts()?(p=0,d=0,l=a):p>=0&&(p+=r[s].length,d++),u+=r[s].length,o+=r[s].length,s++;o-=p,s-=d,u-=p,i.push({t:l.t,v:e.substr(o-u,u),s:o-u,e:o})}return i}function E0e(t){for(var e=[],r=t.length,n=0;n<r;){var i=t.charCodeAt(n),o=void 0,s=i<55296||i>56319||n+1===r||(o=t.charCodeAt(n+1))<56320||o>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}function K_(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K_=function(e){return typeof e}:K_=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(t)}var Lr={defaultProtocol:"http",events:null,format:XK,formatHref:XK,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function t$(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:Lr.defaultProtocol,this.events="events"in t?t.events:Lr.events,this.format="format"in t?t.format:Lr.format,this.formatHref="formatHref"in t?t.formatHref:Lr.formatHref,this.nl2br="nl2br"in t?t.nl2br:Lr.nl2br,this.tagName="tagName"in t?t.tagName:Lr.tagName,this.target="target"in t?t.target:Lr.target,this.rel="rel"in t?t.rel:Lr.rel,this.validate="validate"in t?t.validate:Lr.validate,this.truncate="truncate"in t?t.truncate:Lr.truncate,this.className="className"in t?t.className:Lr.className,this.attributes=t.attributes||Lr.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:Lr.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}t$.prototype={resolve:function(e){var r=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",r,e),tagName:this.get("tagName",r,e),className:this.get("className",r,e),target:this.get("target",r,e),rel:this.get("rel",r,e),events:this.getObject("events",r,e),attributes:this.getObject("attributes",r,e),truncate:this.get("truncate",r,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,r,n){var i=this[e];if(!i)return i;var o;switch(K_(i)){case"function":return i(r,n.t);case"object":return o=n.t in i?i[n.t]:Lr[e],typeof o=="function"?o(r,n.t):o}return i},getObject:function(e,r,n){var i=this[e];return typeof i=="function"?i(r,n.t):i}};function XK(t){return t}var D0e=Object.freeze({__proto__:null,defaults:Lr,Options:t$});function C0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=Object.create(t.prototype);for(var i in r)n[i]=r[i];return n.constructor=e,e.prototype=n,e}function f0(){}f0.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lr.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function tl(t,e){function r(n,i){this.t=t,this.v=n,this.tk=i}return C0e(f0,r,e),r}var YK=tl("email",{isLink:!0}),VT=tl("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),GT=tl("text"),QK=tl("nl"),xc=tl("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lr.defaultProtocol,r=this.tk,n=!1,i=!1,o=[],s=0;r[s].t===Mf;)n=!0,o.push(r[s].v),s++;for(;r[s].t===Ws;)i=!0,o.push(r[s].v),s++;for(;s<r.length;s++)o.push(r[s].v);return o=o.join(""),n||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Mf}}),P0e=Object.freeze({__proto__:null,MultiToken:f0,Base:f0,createTokenClass:tl,MailtoEmail:YK,Email:VT,Text:GT,Nl:QK,Url:xc});function L0e(){var t=nt(),e=nt(),r=nt(),n=nt(),i=nt(),o=nt(),s=nt(),a=ye(xc),c=nt(),u=ye(xc),l=ye(xc),p=nt(),d=nt(),m=nt(),f=nt(),g=nt(),v=ye(xc),x=ye(xc),C=ye(xc),$=ye(xc),T=nt(),R=nt(),J=nt(),X=nt(),F=nt(),M=nt(),O=ye(VT),D=nt(),W=ye(VT),B=ye(YK),G=nt(),S=nt(),L=nt(),K=nt(),z=ye(QK);se(t,JT,z),se(t,Mf,e),se(t,XT,r),se(e,Ws,n),se(n,Ws,i),se(t,Jo,o),se(t,Vi,o),se(t,qs,a),se(t,vi,o),se(i,Jo,l),se(i,Vi,l),se(i,vi,l),se(i,qs,l),se(o,_c,s),se(F,_c,M),se(s,Jo,a),se(s,Vi,o),se(s,vi,o),se(s,qs,o),se(M,Jo,O),se(M,Vi,F),se(M,vi,F),se(M,qs,F),se(a,_c,s),se(O,_c,M),se(a,Kg,c),se(a,Ws,l),se(c,vi,u),se(u,Ws,l),se(O,Kg,D),se(D,vi,W);var ee=[J_,Q_,Rf,Z_,e0,t0,r0,Vi,n0,i0,qs,vi,o0,s0,a0,c0,Mf,Ws,d0,l0,Jo,p0],ne=[Y_,$f,el,Tf,kf,Kg,YT,_c,QT,Gg,Lf,Vg,zg,u0,ZT,e$];se(l,Lf,d),se(l,Vg,m),se(l,Gg,f),se(l,zg,g),se(p,Lf,d),se(p,Vg,m),se(p,Gg,f),se(p,zg,g),se(d,el,l),se(m,Tf,l),se(f,$f,l),se(g,kf,l),se(v,el,l),se(x,Tf,l),se(C,$f,l),se($,kf,l),se(T,el,l),se(R,Tf,l),se(J,$f,l),se(X,kf,l),Ce(d,ee,v),Ce(m,ee,x),Ce(f,ee,C),Ce(g,ee,$),Ce(d,ne,T),Ce(m,ne,R),Ce(f,ne,J),Ce(g,ne,X),Ce(v,ee,v),Ce(x,ee,x),Ce(C,ee,C),Ce($,ee,$),Ce(v,ne,v),Ce(x,ne,x),Ce(C,ne,C),Ce($,ne,$),Ce(T,ee,v),Ce(R,ee,x),Ce(J,ee,C),Ce(X,ee,$),Ce(T,ne,T),Ce(R,ne,R),Ce(J,ne,J),Ce(X,ne,X),Ce(l,ee,l),Ce(p,ee,l),Ce(l,ne,p),Ce(p,ne,p),se(r,Jo,B),se(r,Vi,B),se(r,vi,B),se(r,qs,B),Ce(B,ee,B),Ce(B,ne,G),Ce(G,ee,B),Ce(G,ne,G);var Q=[J_,Y_,Q_,Z_,e0,t0,el,r0,Vi,n0,i0,vi,Lf,o0,s0,a0,c0,u0,Ws,d0,l0,Jo,p0];return Ce(o,Q,S),se(o,Rf,L),Ce(a,Q,S),se(a,Rf,L),Ce(s,Q,S),Ce(S,Q,S),se(S,Rf,L),se(S,_c,K),Ce(K,Q,S),se(L,Jo,F),se(L,Vi,F),se(L,vi,F),se(L,qs,O),t}function T0e(t,e,r){for(var n=r.length,i=0,o=[],s=[];i<n;){for(var a=t,c=null,u=null,l=0,p=null,d=-1;i<n&&!(c=X_(a,r[i].t));)s.push(r[i++]);for(;i<n&&(u=c||X_(a,r[i].t));)c=null,a=u,a.accepts()?(d=0,p=a):d>=0&&d++,i++,l++;if(d<0)for(var m=i-l;m<i;m++)s.push(r[m]);else{s.length>0&&(o.push(WT(GT,e,s)),s=[]),i-=d,l-=d;var f=p.t,g=r.slice(i-l,i);o.push(WT(f,e,g))}}return s.length>0&&o.push(WT(GT,e,s)),o}function WT(t,e,r){var n=r[0].s,i=r[r.length-1].e,o=e.substr(n,i-n);return new t(o,r)}var zT=typeof console<"u"&&console&&console.warn||function(){},Et={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function $0e(){Et.scanner=null,Et.parser=null,Et.pluginQueue=[],Et.customProtocols=[],Et.initialized=!1}function k0e(t,e){for(var r=0;r<Et.pluginQueue.length;r++)if(t===Et.pluginQueue[r][0]){zT('linkifyjs: plugin "'.concat(t,'" already registered - will be overwritten')),Et.pluginQueue[r]=[t,e];return}Et.pluginQueue.push([t,e]),Et.initialized&&zT('linkifyjs: already initialized - will not register plugin "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all plugins before invoking linkify the first time.'))}function R0e(t){if(Et.initialized&&zT('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");Et.customProtocols.push(t)}function ZK(){Et.scanner={start:I0e(Et.customProtocols),tokens:A0e},Et.parser={start:L0e(),tokens:P0e};for(var t={createTokenClass:tl},e=0;e<Et.pluginQueue.length;e++)Et.pluginQueue[e][1]({scanner:Et.scanner,parser:Et.parser,utils:t});Et.initialized=!0}function r$(t){return Et.initialized||ZK(),T0e(Et.parser.start,t,S0e(Et.scanner.start,t))}function M0e(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=r$(t),n=[],i=0;i<r.length;i++){var o=r[i];o.isLink&&(!e||o.t===e)&&n.push(o.toObject())}return n}function O0e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=r$(t);return r.length===1&&r[0].isLink&&(!e||r[0].t===e)}Gi.Options=t$;Gi.find=M0e;Gi.init=ZK;Gi.options=D0e;Gi.registerCustomProtocol=R0e;Gi.registerPlugin=k0e;Gi.reset=$0e;Gi.test=O0e;Gi.tokenize=r$});var rX=y((VKe,tX)=>{tX.exports=eX()});var Z0e={};QX(Z0e,{activate:()=>Y0e,deactivate:()=>Q0e});module.exports=ZX(Z0e);var VX=A(xe()),GX=require("os"),Xt=A(require("vscode"));var qf=new Map([["pwa-node","node"],["pwa-chrome","chrome"],["pwa-extensionHost","extensionHost"],["pwa-msedge","msedge"]]),ol=t=>qf.get(t)||t,m7={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},g7={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null},rAe=new Set(Object.keys(g7)),T0=new Set(Object.keys(m7)),Xs=t=>T0.has(t);var Le=(t,e,r)=>t.registerCommand(e,r),nH=async(t,e,...r)=>await t.executeCommand(e,...r);var Ct=(t,e,r)=>t.getConfiguration(void 0,r).get(e),$0=(t,e,r,n)=>t.getConfiguration().update(e,r,n);var Wf=async(t,e,r)=>await t.executeCommand("setContext",e,r);var Pt=t=>!!t,sl=t=>oH(t,e=>e!==null),v$=t=>oH(t,e=>e!==void 0),Dc=t=>e=>e instanceof t,iH=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function oH(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];e(i,n)&&(r[n]=i)}return r}function Yo(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];r[n]=e(i,n)}return r}function b$(t,e){let r={};for(let n of Object.keys(t))e(n,t[n])&&(r[n]=t[n]);return r}function w$(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let n of t)if(n)for(let i of Object.keys(n)){let o=i.toLowerCase();r[o]?e[r[o]]=n[i]:(r[o]=i,e[i]=n[i])}return e}function x$(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase()===r)return t[n]}var k0=Symbol("unset");function _e(t){let e=k0,r=(...n)=>(e===k0&&(r.value=e=t(...n)),e);return r.forget=()=>{e=k0,r.value=void 0},r.value=void 0,r}function Qo(t){let e=new Map,r=n=>{if(e.has(n))return e.get(n);let i=t(n);return e.set(n,i),i};return r.clear=()=>e.clear(),r}function _$(t){let e,r=n=>(e?.arg===n||(e={arg:n,val:t(n)}),e.val);return r.clear=()=>e=void 0,r}function A$(t,e){let r,n=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}function I$(t,e){let r,n=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}async function S$(t,e){let r=[],n=[];for(let i of t)await e(i)?r.push(i):n.push(i);return[r,n]}function Zo(t){let e=[];for(let r of t)e=e.concat(r);return e}var H7=2**31-1,sH=()=>{let t=0;return()=>t++&H7};var Me=Symbol("AnyLaunchConfiguration"),aH={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:B0("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},Vf={...aH,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},cH={...Vf,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},y7={...Vf,type:"node-terminal",request:"attach",name:cH.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},R0={...Vf,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},v7={...Vf,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},Gf={...aH,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:B0("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},M0={...Gf,type:"pwa-msedge",useWebView:!1},uH={...Gf,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},O0={...uH,type:"pwa-msedge",useWebView:!1},F0={...Vf,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function B0(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var lH=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=B0(t.cwd)),t.resolveSourceMapLocations===void 0&&!t.remoteRoot&&(t.resolveSourceMapLocations=t.outFiles)};function N0({...t}){return lH(t),t.request==="attach"?{...F0,...t}:{...v7,...t}}function b7(t,e){return t.request==="attach"?{...Gf,browserAttachLocation:e,...t}:{...uH,browserLaunchLocation:e,...t}}function w7(t,e){return t.request==="attach"?{...M0,browserAttachLocation:e,...t}:{...O0,browserLaunchLocation:e,...t}}function x7(t){let e={...R0,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function j0(t){return lH(t),t.request==="launch"?{...cH,...t}:{...y7,...t}}function Js(t,e){let r,n=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=N0(t);break;case"pwa-msedge":r=w7(t,n);break;case"pwa-chrome":r=b7(t,n);break;case"pwa-extensionHost":r=x7(t);break;case"node-terminal":r=j0(t);break;default:throw iH(t,"Unknown config: {value}")}return q0(r)}function U0(t){let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(n=>!n.includes(e)),sourceMapPathOverrides:oH(t.sourceMapPathOverrides,n=>!n.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(n=>!n.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=r.resolveSourceMapLocations?.filter(n=>!n.includes(e))??null),"cwd"in r&&r.cwd?.includes(e)&&(r.cwd=void 0),"webRoot"in r&&r.webRoot?.includes(e)&&(r.webRoot="/"),r}function q0(t){return t.__workspaceFolder||(t=U0(t)),t=zi(t,"workspaceFolder",t.__workspaceFolder),t=zi(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function zi(t,e,r){let n;if(typeof t=="string")n=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)n=t.map(i=>zi(i,e,r));else if(typeof t=="object"&&t){let i={};for(let[o,s]of Object.entries(t))i[zi(o,e,r)]=zi(s,e,r);n=i}else n=t;return n}var pH=["javascript","typescript","typescriptreact","javascriptreact","fsharp","html","wat","c","cpp","rust","zig"],dH="js-debug",Cc="1.85.0",_7="ms-vscode",fH=dH.includes("nightly"),E$=`${_7}.${dH}`;var g0=A(rA()),aX=A(AA()),m0=require("fs"),H0=A(Z());var XM;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(o,s){return function(a,c){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:c}),s&&s(a,c)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,c=!s&&!a,u={create:s?function(){return wi(Object.create(null))}:a?function(){return wi({__proto__:null})}:function(){return wi({})},has:c?function(h,H){return r.call(h,H)}:function(h,H){return H in h},get:c?function(h,H){return r.call(h,H)?h[H]:void 0}:function(h,H){return h[H]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",d=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:eH(),m=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:C0(),f=!p&&typeof WeakMap=="function"?WeakMap:be(),g=new f;function v(h,H,w,_){if(Q(w)){if(!Te(h))throw new TypeError;if(!ve(H))throw new TypeError;return O(h,H)}else{if(!Te(h))throw new TypeError;if(!me(H))throw new TypeError;if(!me(_)&&!Q(_)&&!pe(_))throw new TypeError;return pe(_)&&(_=void 0),w=ie(w),D(h,H,w,_)}}e("decorate",v);function x(h,H){function w(_,P){if(!me(_))throw new TypeError;if(!Q(P)&&!qe(P))throw new TypeError;K(h,H,_,P)}return w}e("metadata",x);function C(h,H,w,_){if(!me(w))throw new TypeError;return Q(_)||(_=ie(_)),K(h,H,w,_)}e("defineMetadata",C);function $(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),B(h,H,w)}e("hasMetadata",$);function T(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),G(h,H,w)}e("hasOwnMetadata",T);function R(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),S(h,H,w)}e("getMetadata",R);function J(h,H,w){if(!me(H))throw new TypeError;return Q(w)||(w=ie(w)),L(h,H,w)}e("getOwnMetadata",J);function X(h,H){if(!me(h))throw new TypeError;return Q(H)||(H=ie(H)),z(h,H)}e("getMetadataKeys",X);function F(h,H){if(!me(h))throw new TypeError;return Q(H)||(H=ie(H)),ee(h,H)}e("getOwnMetadataKeys",F);function M(h,H,w){if(!me(H))throw new TypeError;Q(w)||(w=ie(w));var _=W(H,w,!1);if(Q(_)||!_.delete(h))return!1;if(_.size>0)return!0;var P=g.get(H);return P.delete(w),P.size>0||g.delete(H),!0}e("deleteMetadata",M);function O(h,H){for(var w=h.length-1;w>=0;--w){var _=h[w],P=_(H);if(!Q(P)&&!pe(P)){if(!ve(P))throw new TypeError;H=P}}return H}function D(h,H,w,_){for(var P=h.length-1;P>=0;--P){var k=h[P],j=k(H,w,_);if(!Q(j)&&!pe(j)){if(!me(j))throw new TypeError;_=j}}return _}function W(h,H,w){var _=g.get(h);if(Q(_)){if(!w)return;_=new d,g.set(h,_)}var P=_.get(H);if(Q(P)){if(!w)return;P=new d,_.set(H,P)}return P}function B(h,H,w){var _=G(h,H,w);if(_)return!0;var P=il(H);return pe(P)?!1:B(h,P,w)}function G(h,H,w){var _=W(H,w,!1);return Q(_)?!1:Jt(_.has(h))}function S(h,H,w){var _=G(h,H,w);if(_)return L(h,H,w);var P=il(H);if(!pe(P))return S(h,P,w)}function L(h,H,w){var _=W(H,w,!1);if(!Q(_))return _.get(h)}function K(h,H,w,_){var P=W(w,_,!0);P.set(h,H)}function z(h,H){var w=ee(h,H),_=il(h);if(_===null)return w;var P=z(_,H);if(P.length<=0)return w;if(w.length<=0)return P;for(var k=new m,j=[],q=0,N=w;q<N.length;q++){var ae=N[q],de=k.has(ae);de||(k.add(ae),j.push(ae))}for(var He=0,Re=P;He<Re.length;He++){var ae=Re[He],de=k.has(ae);de||(k.add(ae),j.push(ae))}return j}function ee(h,H){var w=[],_=W(h,H,!1);if(Q(_))return w;for(var P=_.keys(),k=_t(P),j=0;;){var q=Ks(k);if(!q)return w.length=j,w;var N=zs(q);try{w[j]=N}catch(ae){try{Ec(k)}finally{throw ae}}j++}}function ne(h){if(h===null)return 1;switch(typeof h){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return h===null?1:6;default:return 6}}function Q(h){return h===void 0}function pe(h){return h===null}function Ae(h){return typeof h=="symbol"}function me(h){return typeof h=="object"?h!==null:typeof h=="function"}function Xe(h,H){switch(ne(h)){case 0:return h;case 1:return h;case 2:return h;case 3:return h;case 4:return h;case 5:return h}var w=H===3?"string":H===5?"number":"default",_=yt(h,i);if(_!==void 0){var P=_.call(h,w);if(me(P))throw new TypeError;return P}return ge(h,w==="default"?"number":w)}function ge(h,H){if(H==="string"){var w=h.toString;if(te(w)){var _=w.call(h);if(!me(_))return _}var P=h.valueOf;if(te(P)){var _=P.call(h);if(!me(_))return _}}else{var P=h.valueOf;if(te(P)){var _=P.call(h);if(!me(_))return _}var k=h.toString;if(te(k)){var _=k.call(h);if(!me(_))return _}}throw new TypeError}function Jt(h){return!!h}function Je(h){return""+h}function ie(h){var H=Xe(h,3);return Ae(H)?H:Je(H)}function Te(h){return Array.isArray?Array.isArray(h):h instanceof Object?h instanceof Array:Object.prototype.toString.call(h)==="[object Array]"}function te(h){return typeof h=="function"}function ve(h){return typeof h=="function"}function qe(h){switch(ne(h)){case 3:return!0;case 4:return!0;default:return!1}}function yt(h,H){var w=h[H];if(w!=null){if(!te(w))throw new TypeError;return w}}function _t(h){var H=yt(h,o);if(!te(H))throw new TypeError;var w=H.call(h);if(!me(w))throw new TypeError;return w}function zs(h){return h.value}function Ks(h){var H=h.next();return H.done?!1:H}function Ec(h){var H=h.return;H&&H.call(h)}function il(h){var H=Object.getPrototypeOf(h);if(typeof h!="function"||h===l||H!==l)return H;var w=h.prototype,_=w&&Object.getPrototypeOf(w);if(_==null||_===Object.prototype)return H;var P=_.constructor;return typeof P!="function"||P===h?H:P}function eH(){var h={},H=[],w=function(){function j(q,N,ae){this._index=0,this._keys=q,this._values=N,this._selector=ae}return j.prototype["@@iterator"]=function(){return this},j.prototype[o]=function(){return this},j.prototype.next=function(){var q=this._index;if(q>=0&&q<this._keys.length){var N=this._selector(this._keys[q],this._values[q]);return q+1>=this._keys.length?(this._index=-1,this._keys=H,this._values=H):this._index++,{value:N,done:!1}}return{value:void 0,done:!0}},j.prototype.throw=function(q){throw this._index>=0&&(this._index=-1,this._keys=H,this._values=H),q},j.prototype.return=function(q){return this._index>=0&&(this._index=-1,this._keys=H,this._values=H),{value:q,done:!0}},j}();return function(){function j(){this._keys=[],this._values=[],this._cacheKey=h,this._cacheIndex=-2}return Object.defineProperty(j.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),j.prototype.has=function(q){return this._find(q,!1)>=0},j.prototype.get=function(q){var N=this._find(q,!1);return N>=0?this._values[N]:void 0},j.prototype.set=function(q,N){var ae=this._find(q,!0);return this._values[ae]=N,this},j.prototype.delete=function(q){var N=this._find(q,!1);if(N>=0){for(var ae=this._keys.length,de=N+1;de<ae;de++)this._keys[de-1]=this._keys[de],this._values[de-1]=this._values[de];return this._keys.length--,this._values.length--,q===this._cacheKey&&(this._cacheKey=h,this._cacheIndex=-2),!0}return!1},j.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=h,this._cacheIndex=-2},j.prototype.keys=function(){return new w(this._keys,this._values,_)},j.prototype.values=function(){return new w(this._keys,this._values,P)},j.prototype.entries=function(){return new w(this._keys,this._values,k)},j.prototype["@@iterator"]=function(){return this.entries()},j.prototype[o]=function(){return this.entries()},j.prototype._find=function(q,N){return this._cacheKey!==q&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=q)),this._cacheIndex<0&&N&&(this._cacheIndex=this._keys.length,this._keys.push(q),this._values.push(void 0)),this._cacheIndex},j}();function _(j,q){return j}function P(j,q){return q}function k(j,q){return[j,q]}}function C0(){return function(){function h(){this._map=new d}return Object.defineProperty(h.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),h.prototype.has=function(H){return this._map.has(H)},h.prototype.add=function(H){return this._map.set(H,H),this},h.prototype.delete=function(H){return this._map.delete(H)},h.prototype.clear=function(){this._map.clear()},h.prototype.keys=function(){return this._map.keys()},h.prototype.values=function(){return this._map.values()},h.prototype.entries=function(){return this._map.entries()},h.prototype["@@iterator"]=function(){return this.keys()},h.prototype[o]=function(){return this.keys()},h}()}function be(){var h=16,H=u.create(),w=_();return function(){function N(){this._key=_()}return N.prototype.has=function(ae){var de=P(ae,!1);return de!==void 0?u.has(de,this._key):!1},N.prototype.get=function(ae){var de=P(ae,!1);return de!==void 0?u.get(de,this._key):void 0},N.prototype.set=function(ae,de){var He=P(ae,!0);return He[this._key]=de,this},N.prototype.delete=function(ae){var de=P(ae,!1);return de!==void 0?delete de[this._key]:!1},N.prototype.clear=function(){this._key=_()},N}();function _(){var N;do N="@@WeakMap@@"+q();while(u.has(H,N));return H[N]=!0,N}function P(N,ae){if(!r.call(N,w)){if(!ae)return;Object.defineProperty(N,w,{value:u.create()})}return N[w]}function k(N,ae){for(var de=0;de<ae;++de)N[de]=Math.random()*255|0;return N}function j(N){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(N)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(N)):k(new Uint8Array(N),N):k(new Array(N),N)}function q(){var N=j(h);N[6]=N[6]&79|64,N[8]=N[8]&191|128;for(var ae="",de=0;de<h;++de){var He=N[de];(de===4||de===6||de===8)&&(ae+="-"),He<16&&(ae+="0"),ae+=He.toString(16).toLowerCase()}return ae}}function wi(h){return h.__=void 0,delete h.__,h}})})(XM||(XM={}));var Ih=require("fs"),ur=A(Z()),rv=A(require("path"));var Y=class{constructor(){this._listeners=new Set;this.event=(e,r,n)=>{let i={listener:e,thisArg:r};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(o),o}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(r){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:o}=this._deliveryQueue[n];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},sh=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let n=this.map.get(e);n||(n=new Y,this.map.set(e,n));let i=n.event(r);return{dispose:_e(()=>{i.dispose(),n?.size===0&&this.map.delete(e)})}}emit(e,r){this.listeners.get(e)?.fire(r)}};var kc=A(Z()),uh=A(require("path"));var ZM=require("crypto"),e1=A(AA()),t1=require("os"),Be=A(require("path"));var ns=A(require("fs")),JM=A(require("util"));async function $c({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function nI(t,e,r){try{await t.copyFile(e,r)}catch(n){try{if(await $c(t,r))await t.unlink(r),await t.copyFile(e,r);else throw n}catch{throw n}}}async function An({stat:t},e){if(e)try{return await t(e)}catch{return}}async function YM({lstat:t},e){if(e)try{return await t(e)}catch{return}}async function QM({copyFile:t,rename:e,unlink:r},n,i){try{await e(n,i)}catch{await t(n,i),await r(n)}}function my(t){return new Promise(e=>{ns.readFile(t,"utf8",async(r,n)=>{e(r?"":n)})})}var nSe=JM.promisify(ns.writeFile);var Br=Symbol("FsUtils"),_n=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,ns.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},rI=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},hy=class{constructor(e,r,n){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=n}static create(e,r,n){let i=new _n(r);return e!==void 0?new this(e.toLowerCase(),i,new rI(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var qre=process.platform==="win32"?"\\\\.\\pipe\\":(0,t1.tmpdir)(),Wre=0,gy=()=>Be.join(qre,`node-cdp.${process.pid}-${(0,ZM.randomBytes)(4).toString("hex")}-${Wre++}.sock`);async function Hy(t,e,r){let n;if(process.platform==="win32"){let i=r.WINDIR||"C:\\Windows";n=Be.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await An(t,n)){let o=(await(0,e1.default)(n,[e],{env:sl(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let s=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of o){let c=Be.extname(a).toUpperCase();if(c&&s.includes(c))return a}}else if(o.length>0)return o[0];return}return e}catch{}}async function r1(t,e,r){if(e){if(process.platform==="win32"&&!Be.extname(e)){let n=r.lookup("PATHEXT");if(n){let i=n.split(";");for(let o of i){let s=e+o;if(await An(t,s))return s}}}if(await An(t,e))return e}}var n1=t=>t.includes(`.asar${Be.sep}`);function Zs(...t){return Be.posix.isAbsolute(t[0])?Qe(Be.posix.join(...t)):Be.win32.isAbsolute(t[0])?Be.win32.join(...t):Be.join(...t)}function In(...t){return Be.posix.isAbsolute(t[0])?Be.posix.resolve(...t):Be.win32.isAbsolute(t[0])?Be.win32.resolve(...t):Be.resolve(...t)}function ch(t,e){return Be.posix.isAbsolute(t)?Be.posix.relative(t,e):Be.win32.isAbsolute(t)?Be.win32.relative(t,e):Be.relative(t,e)}var Vre=/\/|\\/,ah="file:///",i1=t=>t.startsWith(ah)&&t[ah.length+1]===":",iI=t=>t.split(Vre);function oI(t,e=!1){if(!t)return t;if(i1(t)){let r=ah.length;t=ah+t[r].toLowerCase()+t.substr(r+1)}else by(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function kt(t,e=!1){if(!t)return t;if(t=oI(t,e),i1(t)){let r=ah.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else by(t)&&(t=t.replace(/\//g,"\\"));return t}function Qe(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var yy=(t,e)=>{let r=Be.relative(t,e);return r.length&&!Be.isAbsolute(r)&&!r.startsWith("..")},vy=(t,e)=>{let r=Be.relative(t,e);return!Be.isAbsolute(r)&&!r.startsWith("..")},sI=t=>t.startsWith("\\\\"),by=t=>/^[A-Za-z]:/.test(t)||sI(t);var wl=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:n}=this.patterns[e];if(r)continue;let i=uh.resolve(this.rootPath,n).split(/[\\/]/g),o=i.findIndex(c=>c.includes("*"));if(o===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let s=i.slice(0,o).join("/"),a=[];for(let c=e+1;c<this.patterns.length;c++){let{negated:u,pattern:l}=this.patterns[c];if(u)if(l.startsWith("**"))a.push(Qe(l));else{let p=uh.relative(s,uh.resolve(this.rootPath,l));p.startsWith("..")||a.push(Qe(p))}}yield{cwd:s,negations:a,pattern:i.slice(o).join("/")}}}};wl=E([(0,kc.injectable)()],wl);var po=class extends wl{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};po=E([(0,kc.injectable)(),b(0,(0,kc.inject)(Me))],po);var is=class extends wl{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};is=E([(0,kc.injectable)(),b(0,(0,kc.inject)(Me))],is);var s1=require("crypto"),a1=require("os"),c1=A(require("path"));var lh=require("fs"),o1=require("path"),xy=require("zlib"),zre=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,wy=class{constructor(e,r){this.file=e;this.dap=r;try{(0,lh.mkdirSync)((0,o1.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,xy.createGzip)(),this.stream.pipe((0,lh.createWriteStream)(e))):this.stream=(0,lh.createWriteStream)(e)}async setup(){this.dap?.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){this.stream&&(this.stream.write(JSON.stringify(e,zre)+`
`),this.stream.flush?.(xy.constants.Z_SYNC_FLUSH))}};var Kre={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},hSe=Object.keys(Kre),ce=Symbol("ILogger");function aI(t,e=(0,a1.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:c1.join(e,`vscode-debugadapter-${(0,s1.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function u1(t,e){let r=aI(e),n={sinks:[]};return r.logFile&&n.sinks.push(new wy(r.logFile,t)),n}var yo=A(Z()),DO=A(Cy());var Py=class extends Error{constructor(r,n,i){super(`Unexpected ${r} response from ${n}: ${i??"<empty body>"}`);this.statusCode=r;this.url=n;this.body=i}},Mc=Symbol("IResourceProvider");var ke=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),$1=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function ho(t){return new Promise((e,r)=>{let n=t.length;for(let i of t)i.then(o=>{o?(e(o),n=-1):--n===0&&e(void 0)}).catch(r)})}function We(){let t=null,e=null,r=!1,n,i=new Promise((o,s)=>{t=a=>{r=!0,n=a,o(a)},e=a=>{r=!0,s(a)}});return{resolve:t,reject:e,promise:i,get settledValue(){return n},hasSettled:()=>r}}var lt=A(xe());var re=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function k1(t,e){t.output({category:"console",output:e+`
`})}function Ze(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function tt(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var AI=()=>tt(lt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),R1=()=>tt(lt.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),M1=()=>tt(lt.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),II=(t,e)=>tt(lt.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),O1=t=>tt(lt.t("Cannot launch debug target in terminal ({0}).",t),9227),F1=t=>tt(lt.t("Can't load environment variables from file ({0}).",t),9228),B1=t=>tt(lt.t("The configured `cwd` {0} does not exist.",t),9245),SI=(t,e)=>tt(lt.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),N1=(t,e)=>tt(lt.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),EI=t=>tt(lt.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),Il=()=>tt(lt.t("An error occurred taking a profile from the target."),9235),j1=()=>tt(lt.t("Please stop the running profile before starting a new one."),9236),U1=t=>Ze(t,9238),Ly=(t,e,r)=>tt(e==="*"&&!r.length?lt.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):lt.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),q1=t=>tt(lt.t('Unable to launch browser: "{0}"',t.message),9240),gh=t=>tt(t??lt.t("Unable to attach to browser"),9242),Ty=()=>tt(lt.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var W1=()=>Ze(lt.t("Variables not available in async stacks"),9234),ra=(t,e)=>tt(lt.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),DI=()=>Ze(lt.t("Thread not found"),9244),$y=(t,e)=>tt(lt.t("Could not read source map for {0}: {1}",t,e)),V1=()=>tt(lt.t("UWP webview debugging is not available on your platform.")),G1=()=>tt(lt.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),z1=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,K1=(t,e)=>t instanceof re&&t.cause.id===e,X1=t=>tt(lt.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var J1=new WeakSet;var Ine="Request",Sne=t=>t.endsWith("Request"),sn=Symbol("IDapApi"),El=Symbol("IRootDapApi"),Sl=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=We();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(n=>this._onMessage(n.message,n.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(n,i)=>(this._requestHandlers.set(n,i),()=>this._requestHandlers.delete(n)):r==="off"?n=>this._requestHandlers.delete(n):n=>{if(Sne(r))return this.enqueueRequest(r.slice(0,-Ine.length),n);this._send({seq:0,type:"event",event:r,body:n})}}})}createTestApi(){let e=(i,o)=>{let s=this._eventListeners.get(i);s||(s=new Set,this._eventListeners.set(i,s)),s.add(o)},r=(i,o)=>{let s=this._eventListeners.get(i);s&&s.delete(o)},n=(i,o)=>new Promise(s=>{let a=c=>{o&&!o(c)||(r(i,a),s(c))};e(i,a)});return new Proxy({},{get:(i,o)=>o==="on"?e:o==="off"?r:o==="once"?n:s=>this.enqueueRequest(o,s)})}enqueueRequest(e,r){return new Promise(n=>{let i={seq:0,type:"request",command:e,arguments:r||{}};this._send(i),this._pendingRequests.set(i.seq,n)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r?.();else{e.seq=this._sequence++;let n=e.type!=="event"||!J1.has(e.body);this.transport.send(e,n,r)}}async _onMessage(e,r){if(e.type==="request"){let n={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let i=this._requestHandlers.get(e.command);if(!i)console.error(`Unknown request: ${e.command}`);else{let o=await i(e.arguments);if(z1(o))this._send({...n,success:!1,message:o.error.format,body:{error:o.error}});else{let s={...n,body:o};n.command==="initialize"?(this._send(s),this._initialized.resolve(this)):n.command==="disconnect"?this._send({...n,body:o},()=>{this.stop()}):this._send(s)}}this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(i){i instanceof re?this._send({...n,success:!1,body:{error:i.cause}}):(console.error(i),this._send({...n,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${i.stack||i.message}`,showUser:!1,sendTelemetry:!1}}})),this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms,i)}}if(e.type==="event"){let n=this._eventListeners.get(e.event)||new Set;for(let i of n)i(e.body)}if(e.type==="response"){let n=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(n,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)n(e.body);else{let i=e.body?.error?.format;n(i||e.message||"Unknown error")}}}};var Ry=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},mo=class{constructor(e,r){this.projection=e;this.initialContents=r;let n=Array.from(r||[]).map(i=>[this.projection(i[0]),new Ry(i[0],i[1])]);this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(n=>{e.call(r,n.value,n.key,this)},r)}get(e){let r=this.projection(e),n=this.projectionToKeyAndValue.get(r);return n?n.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Ry(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};var it=Symbol("ISourcePathResolver");var _O=require("dns"),Sn=A(require("path")),ss=require("url");var HO=require("url");var hO=require("./vendor/acorn.js"),mO=require("crypto");var Wy=require("./vendor/acorn.js");var{stringify:Ene}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var My={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Ii=17,Dne={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Ii,ClassExpression:Ii,FunctionExpression:Ii,ObjectExpression:Ii,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function Dl(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:n}=e;for(let i=1;i<n;i++){let o=e[i];t.write(", "),r[o.type](o,t)}}t.write(")")}function nO(t,e,r,n){let i=t.expressionsPrecedence[e.type];if(i===Ii)return!0;let o=t.expressionsPrecedence[r.type];return i!==o?!n&&i===15&&o===14&&r.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&r.operator==="**"?!n:i===13&&o===13&&(e.operator==="??"||r.operator==="??")?!0:n?My[e.operator]<=My[r.operator]:My[e.operator]<My[r.operator]}function Oy(t,e,r,n){let{generator:i}=t;nO(t,e,r,n)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function Cne(t,e,r,n){let i=e.split(`
`),o=i.length-1;if(t.write(i[0].trim()),o>0){t.write(n);for(let s=1;s<o;s++)t.write(r+i[s].trim()+n);t.write(r+i[o].trim())}}function Jr(t,e,r,n){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];t.write(r),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),Cne(t,s.value,r,n),t.write("*/"+n))}}function Pne(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function CI(t,e){let{generator:r}=t,{declarations:n}=e;t.write(e.kind+" ");let{length:i}=n;if(i>0){r.VariableDeclarator(n[0],t);for(let o=1;o<i;o++)t.write(", "),r.VariableDeclarator(n[o],t)}}var Y1,Q1,Z1,eO,tO,rO,Lne={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:n,writeComments:i}=e;i&&t.comments!=null&&Jr(e,t.comments,r,n);let o=t.body,{length:s}=o;for(let a=0;a<s;a++){let c=o[a];i&&c.comments!=null&&Jr(e,c.comments,r,n),e.write(r),this[c.type](c,e),e.write(n)}i&&t.trailingComments!=null&&Jr(e,t.trailingComments,r,n)},BlockStatement:rO=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;e.write("{");let s=t.body;if(s!=null&&s.length>0){e.write(n),i&&t.comments!=null&&Jr(e,t.comments,o,n);let{length:a}=s;for(let c=0;c<a;c++){let u=s[c];i&&u.comments!=null&&Jr(e,u.comments,o,n),e.write(o),this[u.type](u,e),e.write(n)}e.write(r)}else i&&t.comments!=null&&(e.write(n),Jr(e,t.comments,o,n),e.write(r));i&&t.trailingComments!=null&&Jr(e,t.trailingComments,o,n),e.write("}"),e.indentLevel--},ClassBody:rO,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Ii||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e;e.indentLevel++;let o=r+e.indent,s=o+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+n);let{cases:a}=t,{length:c}=a;for(let u=0;u<c;u++){let l=a[u];i&&l.comments!=null&&Jr(e,l.comments,o,n),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+n)):e.write(o+"default:"+n);let{consequent:p}=l,{length:d}=p;for(let m=0;m<d;m++){let f=p[m];i&&f.comments!=null&&Jr(e,f.comments,s,n),e.write(s),this[f.type](f,e),e.write(n)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?CI(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:Y1=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?CI(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:Y1,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:Q1=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),Dl(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:Q1,VariableDeclaration(t,e){CI(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:n}=r,i=e.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(i===Ii||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:n}=r,i=0;if(n>0){for(;i<n;){i>0&&e.write(", ");let o=r[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<n){for(e.write("{");;){let o=r[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<n)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:n}=r;if(n>0)for(let i=0;;){let o=r[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<n)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),Dl(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):Dl(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:Z1=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:Z1,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Oy(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:n}=t;e.write("`");let{length:i}=n;for(let s=0;s<i;s++){let a=n[s],c=r[s];e.write(c.value.raw,c),e.write("${"),this[a.type](a,e),e.write("}")}let o=r[r.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Oy(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:tO=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:n}=r;for(let i=0;;){let o=r[i];if(o!=null&&this[o.type](o,e),++i<n)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:tO,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(n),i&&t.comments!=null&&Jr(e,t.comments,o,n);let s=","+n,{properties:a}=t,{length:c}=a;for(let u=0;;){let l=a[u];if(i&&l.comments!=null&&Jr(e,l.comments,o,n),e.write(o),this[l.type](l,e),++u<c)e.write(s);else break}e.write(n),i&&t.trailingComments!=null&&Jr(e,t.trailingComments,o,n),e.write(r+"}")}else i?t.comments!=null?(e.write(n),Jr(e,t.comments,o,n),t.trailingComments!=null&&Jr(e,t.trailingComments,o,n),e.write(r+"}")):t.trailingComments!=null?(e.write(n),Jr(e,t.trailingComments,o,n),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:n}=r;for(let i=0;this[r[i].type](r[i],e),++i<n;)e.write(", ")}e.write("}")},SequenceExpression(t,e){Dl(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:n,argument:{type:i}}=t;e.write(r);let o=nO(e,n,t);!o&&(r.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&n.prefix&&n.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),o?(e.write(r.length>1?" (":"("),this[i](n,e),e.write(")")):this[i](n,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:eO=function(t,e){let r=t.operator==="in";r&&e.write("("),Oy(e,t.left,t,!1),e.write(" "+t.operator+" "),Oy(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:eO,ConditionalExpression(t,e){let{test:r}=t,n=e.expressionsPrecedence[r.type];n===Ii||n<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Ii||r<e.expressionsPrecedence.CallExpression||Pne(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),Dl(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Ii||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),Dl(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Ii||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(Ene(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},Tne={};var PI=class{constructor(e){let r=e??Tne;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:Lne,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:Dne,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:o}=r;if(o[0]==="L"&&o[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:s}=this;s.original=r.loc.start,s.name=r.name,this.sourceMap.addMapping(s)}if(o[0]==="T"&&o[8]==="E"||o[0]==="L"&&o[1]==="i"&&typeof r.value=="string"){let{length:s}=e,{column:a,line:c}=this;for(let u=0;u<s;u++)e[u]===`
`?(a=0,c++):a++;this.column=a,this.line=c;return}}let{length:n}=e,{lineEnd:i}=this;n>0&&(this.lineEndSize>0&&(i.length===1?e[n-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}};function os(t,e){let r=new PI(e);return r.generator[t.type](t,r),r.output}var Hh=A(Cy());var iO=require("./vendor/acorn.js"),Ny=require("./vendor/acorn-loose.js");var Fy={ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],AwaitExpression:["argument"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXClosingFragment:[],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXFragment:["openingFragment","children","closingFragment"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXOpeningFragment:[],JSXSpreadAttribute:["argument"],JSXSpreadChild:["expression"],JSXText:[],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},$ne=Object.keys(Fy);for(let t of $ne)Object.freeze(Fy[t]);Object.freeze(Fy);var LI=Fy;var TI={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},na=t=>t.start,$I=t=>t.end,oO=(t,e)=>t.slice(na(e),$I(e)),go=(t,e=!1)=>(e?iO.parse:Ny.parse)(t,TI),jy=t=>{let e=go(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&(0,Ny.isDummy)(r.id)&&(r.id=null);return e.body};function sO(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?uO(t,e,!0,r):aO(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(n=>({type:"Identifier",name:n}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var aO=(t,e,r,n)=>{let i={type:"Identifier",name:"e"},s=n?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:s}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:s}}},Rne=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),cO=(t,e,r)=>Rne(t,uO(t,e,r,!0));function uO(t,e,r,n){let i=e[e.length-1];if(i.type!=="ReturnStatement"){let o=Mne(i);o&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:o}])}return aO(t,e,r,n)}function Mne(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var ia=(t,e)=>{By(t,e)},Uy=(t,e)=>{let r=By(t,e);return r&&typeof r=="object"?r.replace:t},By=(t,e,r)=>{if(!t)return;let n=e.enter(t,r);if(n===0)return 0;if(n&&typeof n=="object")return n;if(n===1)return;let i=LI[t.type];if(i)for(let o of i){let s=t[o];if(s instanceof Array)for(let[a,c]of s.entries()){let u=By(c,e,t);if(u===0)return 0;u&&typeof u=="object"&&(s[a]=u.replace)}else if(s){let a=By(s,e,t);if(a===0)return 0;a&&typeof a=="object"&&(t[o]=a.replace)}}e.leave?.(t)};var Cl=class t{constructor(e,r,n,i,o){this.original=e;this.metadata=r;this.actualRoot=n;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=t.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++)this.sourceActualToOriginal.set(i[s],e.sources[s]),this.sourceOriginalToActual.set(e.sources[s],i[s])}static{this.idCounter=0}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return kt(qy(wr(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){let r=this.original.originalPositionFor(e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return this.original.generatedPositionFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return this.original.allGeneratedPositionsFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,r){return this.original.sourceContentFor(this.sourceActualToOriginal.get(e)??e,r)}eachMapping(e,r,n){return this.original.eachMapping(e,r,n)}destroy(){this.original.destroy()}};async function pO(t,e,r,n){let i=Wy.Parser.parse(e,{locations:!0,ecmaVersion:"latest"}),o=new Hh.SourceMapGenerator({file:t}),s=os(i,{sourceMap:{setSourceContent:(a,c)=>o.setSourceContent(a,c),applySourceMap:(a,c,u)=>o.applySourceMap(a,c,u),toJSON:()=>o.toJSON(),toString:()=>o.toString(),addMapping:a=>o.addMapping({generated:a.original,original:{column:a.generated.column,line:a.generated.line},source:t,name:a.name})}});return o.setSourceContent(t,s),new Cl(await Hh.SourceMapConsumer.fromSourceMap(o),{sourceMapUrl:n,compiledPath:r},"",[t],!1)}function dO(t){let e;try{e=go(t)}catch{return}let r=(c,u)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:c,right:u}}),n=!1,i=!1,o=Uy(e,{enter(c,u){switch(c.type){case"ClassDeclaration":return{replace:r(c.id||{type:"Identifier",name:"_default"},{...c,type:"ClassExpression"})};case"FunctionDeclaration":return{replace:r(c.id||{type:"Identifier",name:"_default"},{...c,type:"FunctionExpression"})};case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return 1;case"AwaitExpression":n=!0;return;case"ForOfStatement":c.await&&(n=!0);return;case"ReturnStatement":i=!0;return;case"VariableDeclaration":if(!u||!("body"in u)||!(u.body instanceof Array))return;let l=u.body,p=c.declarations.map(d=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:d.id,right:d.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(c),1,...p)}}});if(!n||i)return;let s=e.body[e.body.length-1];s.type==="ExpressionStatement"&&(e.body[e.body.length-1]={type:"ReturnStatement",argument:s.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:o.body}},arguments:[],optional:!1}};return os(a)}function yh(t){try{let e=(0,Wy.parseExpressionAt)(t,0,TI);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function Pl(t){if(!t)return;let e="sourceMappingURL",r=t.length,n=e.length,i=r,o=0;for(;;){if(i=t.lastIndexOf(e,i),i===-1||i<4)return;if(i-=4,t[i]==="/"&&t[i+1]==="/"&&!(t[i+2]!=="#"&&t[i+2]!=="@")&&!(t[i+3]!==" "&&t[i+3]!=="	")&&(o=i+4+n,!(o<r&&t[o]!=="=")))break}let s=t.substring(o+1),a=s.indexOf(`
`);return a!==-1&&(s=s.substring(0,a)),s.trim()}function Vy(t,e,r){let n=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:Hh.SourceMapConsumer.GREATEST_LOWER_BOUND}),i=a=>{if(a.line===null||a.column===null)return 1e11;let c=r.originalPositionFor(a);return c.line!==null?Math.abs(e.lineNumber-c.line):1e11},o=i(n),s=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,c)=>a.line!==c.line?a.line-c.line:a.column-c.column).map(a=>[a,i(a)]);return s.push([n,o]),s.sort(([a,c],[u,l])=>c-l||a.line-u.line||a.column-u.column),s[0][0]}var kI=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function oa(t){try{new Function(t)}catch(e){return e}}function Fne(t,e){let r=go(t),n,i;return ia(r,{enter:o=>{let s=o;e>=s.start&&e<s.end&&(o.type==="CallExpression"||o.type==="NewExpression"?i=o:n=o)}}),i||n}var lO=/^[^()]+/g;function fO(t,e){try{let n=Fne(t,e);if(n&&"callee"in n){let i=n.callee;return{text:`${t.slice(i.start,i.end)}(...)`,start:i.start,end:i.end}}else{let i=n;return{text:t.slice(i.start,i.end),start:i.start,end:i.end}}}catch{}lO.lastIndex=e-1;let r=lO.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var vt=()=>`
//# sourceURL=eval-${(0,mO.randomBytes)(4).toString("hex")}.cdp
`;function Fc(t){return Bne(""+t)}function Bne(t){let e=(0,hO.parseExpressionAt)(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(s=>{if(s.type!=="Identifier")throw new Error("Parameter must be identifier");return s.name}),{start:n,end:i}=e.body,o=s=>`
    ${s.map((a,c)=>`let ${r[c]} = ${a}`).join("; ")};
    ${t.slice(n+1,i-1)}
  `;return{expr:(...s)=>`(()=>{${o(s)}})();
${vt()}`,decl:(...s)=>`function(...runtimeArgs){${o(s)};
${vt()}}`}}var Oc=class extends Error{constructor(r){super(r.text);this.details=r}},vh=class{constructor(e){this.objectId=e}};function cr(t){let e=(""+t).replace("}",vt()+"}"),r=async({cdp:n,args:i,...o})=>{let s=await n.Runtime.callFunctionOn({functionDeclaration:e,arguments:i.map(a=>a instanceof vh?{objectId:a.objectId}:{value:a}),...o});if(!s)throw new Oc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(s.exceptionDetails)throw new Oc(s.exceptionDetails);return s.result};return r.source=e,r}var gO=()=>"globalThis.__jsDebugIsReady = true; "+vt();var bh=new Set(["page","iframe","worker","service_worker"]),zy=new Set(["page","iframe"]),MI=new Set(["page","iframe"]),Nne=MI,Ky=class t{constructor(e,r,n,i,o,s,a,c,u){this._manager=e;this._targetInfo=r;this.launchConfig=s;this.sessionId=a;this.logger=c;this._attached=!1;this._onNameChangedEmitter=new Y;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=n,n.pause(),this.parentTarget=i,this._waitingForDebugger=o,this._updateFromInfo(r),this._ondispose=u}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return MI.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:gO()})])}parent(){return this.parentTarget&&!bh.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())bh.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return Nne.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return MI.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,n=e.name;if(!r)return n;let i=r.frameId,o=i?this._manager.frameModel.frameForId(i):void 0;return o&&r.isDefault&&!o.parentFrame()?"top":o&&r.isDefault?o.displayName():o?`${n}`:n}supportsCustomBreakpoints(){return zy.has(this.type())}supportsXHRBreakpoints(){return zy.has(this.type())}scriptUrlToUrl(e){return sa(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){let e=this._customNameComputeFn?.(this);if(e)return e;if(this.type()==="service_worker"){let i=this._manager.serviceWorkerModel.version(this.id());if(i)return i.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(i=>i instanceof t&&i!==this&&i._targetInfo.title===this._targetInfo.title)))return r;try{let i=new HO.URL(this._targetInfo.url);i.protocol==="data:"?r=" <data>":i?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function wh(t){return t instanceof Array?t:[t]}function yO(t,e,r){let n=0,i=t.length-1;for(;n<=i;){let o=(n+i)/2|0,s=r(t[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return n}function vO(t,e){let r=new Map;for(let n of t){let i=e(n),o=r.get(i);o?o.push(n):r.set(i,[n])}return r}function aa(t){return t.next().value}function Ho(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Ll(t,e){if(t.length<=e)return t;let r=e>>1,n=e-r-1,i=t.codePointAt(t.length-n-1);i&&i>=65536&&(--n,++r);let o=t.codePointAt(r-1);return r>0&&o&&o>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-n,n)}var bO="/\\.?*()^${}|[]+",wO=t=>bO.includes(t);function Yr(t,e){let r=bO.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}var ca=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let n=this.lines[r.lineNumber],i=this.lines[r.lineNumber+1]??this.source.length+1;return n+Math.min(i-n-1,r.columnNumber)}};var Jy=process.platform!=="win32";function BI(){return Jy}function Yy(t){return Jy?t:t.toLowerCase()}function Qy(t,e){return Jy?t===e:t.toLowerCase()===e.toLowerCase()}function Bc(){return BI()?new Map:new mo(Yy)}var xO=process.platform==="win32"?process.env.PATHEXT?.toLowerCase().split(";"):void 0,Zy=t=>{let e=Yy(Sn.basename(t));if(xO){for(let r of xO)if(e.endsWith(r))return e.slice(0,-r.length)}return e},NI=async(t,e)=>{for(;;){if(await e(t))return t;let r=Sn.dirname(t);if(r===t)return;t=r}},Tl=(t,e,r)=>NI(e,n=>t.exists(Sn.join(n,r))),Une=new Set(["localhost","127.0.0.1","::1"]),qne=new Set(["0.0.0.0","::","0000:0000:0000:0000:0000:0000:0000:0000"]),Xy=t=>Une.has(t.toLowerCase()),AO=t=>{try{return new ss.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}},IO=t=>qne.has(AO(t)),$l=Qo(async t=>{let e=AO(t);if(Xy(e))return!0;try{let r=await _O.promises.lookup(e);return Xy(r.address)}catch{return!1}});function sa(t,e){try{return new ss.URL(e,t).href}catch{}}function qy(t,e){try{return new ss.URL(e),e}catch{}let r;try{r=new ss.URL(t||"")}catch{return e}let n=r.protocol+"//";return r.username&&(n+=r.username+":"+r.password+"@"),n+=r.host,n+=Sn.dirname(r.pathname),n[n.length-1]!=="/"&&(n+="/"),n+=e,n}function ev(t){try{return new ss.URL(t),!0}catch{return!1}}function SO(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var Wne=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function At(t){let e=Wne.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new ss.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(n,i,o)=>o.length===1?`${i}:///`:`${i}://`);else if(!cn(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),kt(t)}function EO(t){return cn(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function Ne(t){return jI==="win32"?"file:///"+ua(t):"file://"+ua(t)}function kl(t){return t.startsWith("/")?"file://"+ua(t):"file:///"+ua(t)}function Nr(t){return Sn.posix.isAbsolute(t)||Sn.win32.isAbsolute(t)}function wr(t){return!!t&&t.startsWith("data:")}var OI=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}wO(t)?e.add(`\\${t}`):e.add(t);let n=encodeURIComponent(t);t!=="\\"&&n!==t&&e.add(n)},Vne=t=>{switch(t.size){case 0:return"";case 1:return aa(t.values());default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},xh=new Set,FI=(t,e,r,n)=>{let i="";for(let o of t.slice(e,r))Jy?OI(o,xh,n):(OI(o.toLowerCase(),xh,n),OI(o.toUpperCase(),xh,n)),i+=Vne(xh),xh.clear();return i};function Gn(t,[e,r]=[0,t.length]){if(r<=e)return t;let n=[],i=FI(t,0,e,!1),o=FI(t,r,t.length,!1),s=t.slice(e,r);for(let a of[decodeURIComponent(s),At(s)]){if(!a)continue;let c=FI(a,0,a.length,!0);n.push(Gne(`${i}${c}${o}`).concat("($|\\?)"))}return n.join("|")}var Gne=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",n)=>`${r}[${n.toUpperCase()}${n.toLowerCase()}]:`);function cn(t){return t.startsWith("file:///")}var jI=process.platform;function ua(t){return t=Si(t),jI==="win32"?(sI(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function Si(t){return t&&jI==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var la=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,n=r?Kne(r,...e):void 0;return i=>!i.url.startsWith("devtools://")&&n?.(i.url)!==!1},Rl=t=>e=>e.type==="page"&&t(e);function zne(t){return!!t&&!Sn.isAbsolute(t)&&!!(0,ss.parse)(t).protocol}var Kne=(...t)=>{let e=i=>{i=i.toLowerCase();let o=At(i);o?i=o:zne(i)&&i.includes("://")&&(i=i.substr(i.indexOf("://")+3)),i.endsWith("/")&&(i=i.substr(0,i.length-1));let s=i.indexOf("#");return s!==-1&&(i=i.slice(0,i[s-1]==="/"?s-1:s)),i},r=t.map(i=>Yr(e(i),"/*").replace(/(\/\*$)|\*/g,".*")),n=new RegExp("^("+r.join("|")+")$","g");return i=>(n.lastIndex=0,n.test(e(i)))};var vo=Symbol("ISourceMapFactory"),UI=Symbol("IRootSourceMapFactory"),Nc=class{constructor(e,r){this.root=e;this.resourceProvider=r}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,r,n){return this.root.guardSourceMapFn(e,r,n)}};Nc=E([(0,yo.injectable)(),b(0,(0,yo.inject)(UI)),b(1,(0,yo.inject)(Mc))],Nc);var Ah=class{constructor(e,r,n){this.pathResolve=e;this.dap=r;this.logger=n;this.hasWarnedAboutMaps=new WeakSet}async load(e,r){let n=await this.parseSourceMap(e,r.sourceMapUrl),i=n.sourceRoot;n.sourceRoot=void 0;let o=!1,s=[];if("sections"in n){s=[];let a=0;for(let c of n.sections)s.push(...c.map.sources),c.map.sources=c.map.sources.map(()=>`source${a++}.js`),o||=!!c.map.names?.length}else"sources"in n&&Array.isArray(n.sources)&&(s=n.sources,n.sources=n.sources.map((a,c)=>`source${c}.js`),o=!!n.names?.length);return new Cl(await new DO.SourceMapConsumer(n),r,i??"",s,o)}async parseSourceMap(e,r){let n;try{n=await this.parseSourceMapDirect(e,r)}catch(i){if(n=await this.parsePathMappedSourceMap(e,r),!n)throw i}if("sections"in n){let i=await Promise.all(n.sections.map((o,s)=>"url"in o?this.parseSourceMap(e,o.url).then(a=>({offset:o.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${s}: ${a}`)}):o));n.sections=i.filter(Pt)}return n}async parsePathMappedSourceMap(e,r){if(wr(r))return;let n=await this.pathResolve.urlToAbsolutePath({url:r});if(n)try{return this.parseSourceMapDirect(e,n)}catch(i){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",i)}}guardSourceMapFn(e,r,n){try{return r()}catch(i){if(!/error parsing/i.test(String(i.message)))throw i;if(!this.hasWarnedAboutMaps.has(e)){let o=$y(e.metadata.compiledPath,i.message).error;this.dap.output({output:o.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return n()}}dispose(){}async parseSourceMapDirect(e,r){let n=At(r);n&&(n=this.pathResolve.rebaseRemoteToLocal(n));let i=await e.fetch(n||r);if(!i.ok)throw i.error;let o=i.body;return o.slice(0,3)===")]}"&&(o=o.substring(o.indexOf(`
`))),JSON.parse(o)}};Ah=E([(0,yo.injectable)(),b(0,(0,yo.inject)(it)),b(1,(0,yo.inject)(El)),b(2,(0,yo.inject)(ce))],Ah);var pa=class extends Ah{constructor(){super(...arguments);this.knownMaps=new mo(r=>r.toLowerCase());this.overwrittenSourceMaps=[]}load(r,n){let i=this.knownMaps.get(n.sourceMapUrl);if(!i)return this.loadNewSourceMap(r,n);let o=n.cacheKey,s=i.metadata.cacheKey;return i.reloadIfNoMtime?o&&s&&o===s?(i.reloadIfNoMtime=!1,i.prom):(this.overwrittenSourceMaps.push(i.prom),this.loadNewSourceMap(r,n)):s&&o&&o!==s?(this.overwrittenSourceMaps.push(i.prom),this.loadNewSourceMap(r,n)):i.prom}loadNewSourceMap(r,n){let i=super.load(r,n);return this.knownMaps.set(n.sourceMapUrl,{metadata:n,reloadIfNoMtime:!1,prom:i}),i}dispose(){for(let r of this.knownMaps.values())r.prom.then(n=>n.destroy(),()=>{});for(let r of this.overwrittenSourceMaps)r.then(n=>n.destroy(),()=>{});this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};pa=E([(0,yo.injectable)()],pa);var CO=require("path");var Ml=Symbol("ISearchStrategy"),NEe=Symbol("ISearchStrategyFallback"),PO=async(t,e,r)=>{let n,o=`${(0,CO.basename)(t)}.map`;if(e.siblings.includes(o)&&(n=o),n||(typeof r>"u"&&(r=await my(t)),n=Pl(r)),!(!n||(wr(n)||(n=sa(Ne(t),n)),!n))&&!(!n.startsWith("data:")&&!n.startsWith("file://")))return{compiledPath:t,sourceMapUrl:n,cacheKey:e.mtime}};var tv=async(t,e,r,n={})=>{let i=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-i,...n})}};var qI=Symbol("InlineSourceMapUrl"),LO=10*1e3,jc=class{constructor(e){e.__workspaceCachePath&&(this.path=rv.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await Ih.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await Ih.promises.mkdir(rv.dirname(this.path),{recursive:!0}),await Ih.promises.writeFile(this.path,JSON.stringify(e)))}};jc=E([(0,ur.injectable)(),b(0,(0,ur.inject)(Me))],jc);var bo=class{constructor(e,r,n,i,o,s){this.outFiles=e;this.repo=r;this.logger=n;this.sourceMapFactory=i;this.sourcePathResolver=o;this.state=s}async createMapping(e){if(this.outFiles.empty)return new Map;let r=Bc(),n=await this.state.load();try{let{state:i}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async o=>{let s=[],a=await this.sourceMapFactory.load(o);for(let c of a.sources){let u=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:c,map:a}):At(c);u&&s.push({...o,sourceMapUrl:wr(o.sourceMapUrl)?{[qI]:o.sourceMapUrl}:o.sourceMapUrl,resolvedPath:u,sourceUrl:c})}return{discovered:s,compiledPath:kt(o.compiledPath)}},onProcessedMap:({discovered:o})=>{for(let s of o){let a=r.get(s.resolvedPath);a||(a=new Set,r.set(s.resolvedPath,a)),a.add(s)}},lastState:n,...e});i&&this.state.store(i).catch(o=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:o}))}catch(i){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:i})}return r}};bo=E([(0,ur.injectable)(),b(0,(0,ur.inject)(po)),b(1,(0,ur.inject)(Ml)),b(2,(0,ur.inject)(ce)),b(3,(0,ur.inject)(vo)),b(4,(0,ur.inject)(it)),b(5,(0,ur.inject)(jc))],bo);var Ol=class extends bo{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let n=await this.sourcePathToCompiled;return r.map(i=>n.get(i))}async createInitialMapping(){return tv(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};Ol=E([(0,ur.injectable)()],Ol);var Fl=class extends bo{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let n=r.map(s=>this.sourcePathToCompiled.get(s)),i=r.map((s,a)=>a).filter(s=>!n[s]);if(i.length){let s=new Set(i.map(c=>kt(r[c]))),a=this.createMapping({filter:(c,u)=>!u||u.discovered.some(l=>s.has(l.resolvedPath))});for(let c of i)this.sourcePathToCompiled.set(r[c],a),n[c]=a}return await Promise.all(n.map(async(s,a)=>(await s).get(r[a])))}};Fl=E([(0,ur.injectable)()],Fl);var qc=Symbol("IBreakpointsPredictor"),Uc=class{constructor(e,r,n,i){this.bpSearch=e;this.outFiles=r;this.logger=n;this.sourceMapFactory=i;this.predictedLocations=new Map;this.longParseEmitter=new Y;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){if(!e.source.path||!e.breakpoints?.length)return;let r=await this.getMetadataForPaths([e.source.path]).then(i=>i[0]);if(!r)return;let n=async(i,o,s)=>{let a=typeof s.sourceMapUrl=="string"?s.sourceMapUrl:s.sourceMapUrl.hasOwnProperty(qI)?s.sourceMapUrl[qI]:await Ih.promises.readFile(s.compiledPath,"utf8").then(Pl);if(!a)return[];let c=await this.sourceMapFactory.load({...s,sourceMapUrl:a}),u=this.sourceMapFactory.guardSourceMapFn(c,()=>Vy(s.sourceUrl,{lineNumber:i,columnNumber:o||1},c),()=>null);if(!u||u.line===null)return[];let l=await this.getMetadataForPaths([s.compiledPath]).then(p=>p[0]);return l?(await Promise.all([...l].map(d=>n(u.line,u.column,d)))).flat():[{absolutePath:s.compiledPath,lineNumber:u.line||1,columnNumber:u.column?u.column+1:1}]};for(let i of e.breakpoints??[]){let o=`${e.source.path}:${i.line}:${i.column||1}`;if(this.predictedLocations.has(o))return;let s=[];this.predictedLocations.set(o,s);for(let a of r)s.push(...await n(i.line,i.column||0,a))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:LO,patterns:[...this.outFiles.explode()].join(", ")})},LO),n=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),n}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};Uc=E([(0,ur.injectable)(),b(0,(0,ur.inject)(bo)),b(1,(0,ur.inject)(po)),b(2,(0,ur.inject)(ce)),b(3,(0,ur.inject)(vo))],Uc);var Eo=A(Z());var nv=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},iv=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new nv(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let n=new nv;return this._statisticsById.set(e,n),n}}statistics(){let e=0,r=0,n=0;for(let i of this._statisticsById.values())e++,i.hit&&n++,i.verified&&r++;return{set:e,verified:r,hit:n}}};var Gl=A(Z());var oF=require("crypto"),Dh=A(Z());var Xne=0,bt=Symbol("ICdpApi"),Wc=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,n){return this.cause={code:r,message:n},this.message=`CDP error ${r} calling method ${this.method}: ${n}`,this.stack=this.stack?.replace("<<message>>",this.message),this}},Ut=class{constructor(e,r,n){this.logger=r;this.telemetryReporter=n;this._connectionId=Xne++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new Y;this.waitWrapper=Yne();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([i,o])=>this._onMessage(i,o)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new ov(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},n){let i=++this._lastId,o={id:i,method:e,params:r};n&&(o.sessionId=n);let s=JSON.stringify(o);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:o}),this._transport.send(s),i}_onMessage(e,r){let n=JSON.parse(e),i=n;n.result&&n.result.scriptSource?i={...n,result:{...n.result,scriptSource:"<script source>"}}:n.method==="Debugger.scriptParsed"&&n.params&&wr(n.params.sourceMapURL)&&(i={...n,params:{...n.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:i});let o=this._sessions.get(n.sessionId||"");if(!o){let c=this._disposedSessions.get(n.sessionId);if(c){let u=(Date.now()-c.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${u} seconds ago`,{sessionId:n.sessionId,disposeOn:c});return}else throw new Error(`Unknown session id: ${n.sessionId} while processing: ${n.method}`)}let s=n.method,a;try{o._onMessage(n)}catch(c){a=c}s&&this.telemetryReporter.reportOperation("cdpOperation",s,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new ov(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},Jne=+process.version.substring(1).split(".")[0]<11,ov=class{constructor(e,r,n){this.logger=n;this._queue=[];this._prefixListeners=new sh;this._directListeners=new sh;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(n,i)=>{if(i!=="then")return i==="on"?(o,s)=>this.on(`${r}.${o}`,s):o=>this.send(`${r}.${i}`,o)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new Wc(e).setCause(0,"Connection is closed"));let n=this._connection._send(e,r,this._sessionId);return new Promise((i,o)=>{this._callbacks.set(n,{resolve:i,reject:o,from:new Wc(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!Jne&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){this._connection?.waitWrapper(()=>{if(this.paused)return;let e=this._queue.shift();e&&(this._processResponse(e),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let n=e;this._directListeners.emit(n.method,n.params);for(let[i,o]of this._prefixListeners.listeners)n.method.startsWith(i)&&o.fire(n);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function Yne(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let n=e.shift();if(!n){t=!1;return}setImmediate(r),n()};return n=>{e.push(n),t||(t=!0,setImmediate(r))}}var Ul=A(Z());var XO=A(xe()),JO=require("path"),YO=require("url");var WO=require("path"),VO=require("worker_threads");var Vc=A(jO()),zI=require("fs"),KI=require("worker_threads");var lie=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),pie=Buffer.from(`
});`),die=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),fie=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),hie=Buffer.from("#!"),mie=Buffer.from("\r")[0],gie=Buffer.from(`
`)[0],Hie=(t,e)=>t.slice(0,e.length).equals(e),UO=(t,e,r)=>{let n=e.length===64?Vc.shaHash:Vc.hash;if(n(t)===e)return!0;if(r){if(Hie(t,hie)){let i=t.indexOf(gie);return t[i-1]===mie&&i--,n(t.slice(i))===e}if(n(Buffer.concat([lie,t,pie]))===e)return!0}return n(Buffer.concat([die,t,fie]))===e},qO=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function yie(t){switch(t.type){case 0:try{let e=await zI.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,Vc.hash)(e):(0,Vc.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,Vc.hash)(qO(t.data))}}catch{return{id:t.id}}case 2:try{let e=await zI.promises.readFile(t.file);return{id:t.id,matches:UO(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:UO(qO(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function vie(t){t.on("message",e=>{yie(e).then(r=>t.postMessage(r))})}KI.parentPort&&vie(KI.parentPort);var dv=class{constructor(e=3,r=(0,WO.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=A$(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,n){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:n})).matches}async verifyFile(e,r,n){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:n})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let n=We();return this.deferredMap.set(e.id,{deferred:n,request:e}),r.postMessage(e),n.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new VO.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let n=r,i=this.deferredMap.get(n.id);i&&(i.deferred.resolve(n),this.deferredMap.delete(n.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:n}of this.deferredMap.values())r.postMessage(n)}else{for(let{deferred:n}of this.deferredMap.values())n.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var zO=require("fs"),GO=new dv;async function KO(t,e,r){return!t||n1(t)?void 0:e?(typeof r=="string"?await GO.verifyBytes(r,e,!0):await GO.verifyFile(t,e,!0))?t:void 0:await new _n(zO.promises).exists(t)?t:void 0}var Gc=class{constructor(e,r,n,i,o,s,a,c){this.url=r;this.inlineScriptOffset=s;this.runtimeScriptOffset=a;this.contentHash=c;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=_e(i),this._container=e,this.absolutePath=n||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(o),this._existingAbsolutePath=this.checkContentHash(c)}checkContentHash(e){return KO(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:Math.max(1,e.lineNumber-this.runtimeScriptOffset.lineOffset),columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={type:0,sourceByUrl:new Map,value:We(),metadata:e}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(this.url.endsWith(".wat"))return"text/wat";if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){let e=await this._contentGetter();return this.inlineScriptOffset?.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){if(!this._container)return;if(da(this)&&this.sourceMap.metadata.sourceMapUrl.endsWith("-pretty.map")){let c=this.sourceMap.value.settledValue;return c&&{map:c,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,n=r+"-pretty.map",o=r.split(/[\/\\]/).pop()+"-pretty.js",s=await pO(o,e,r,n);if(!s)return;this.setSourceMapUrl({compiledPath:this.absolutePath,sourceMapUrl:""}),this.sourceMap.value.resolve(s);let a=this;return await this._container._addSourceMapSources(a,s),{map:s,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?XO.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(Nr(this._fqname)){for(let e of this._container.rootPaths)if(yy(e,this._fqname))return Qe((0,JO.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(Nr(this.url))return this.url;let e=At(this.url);if(e)return e;let r=this.url;try{let n=[],i=new YO.URL(this.url);if(i.protocol==="data:")return"<eval>/VM"+this.sourceReference;i.hostname&&n.push(i.hostname),i.port&&n.push("\uA789"+i.port),i.pathname&&n.push(/^\/[a-z]:/.test(i.pathname)?i.pathname.slice(1):i.pathname);let o=i.searchParams?.toString();o&&n.push("?"+o),r=n.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}};var Eh;(n=>{async function t(i){return i.value.promise}n.waitForValue=t;function e(i,o){return i.type===0&&i.value.settledValue?Promise.resolve(i.value.settledValue):Promise.race([t(i),ke(o)])}n.waitForValueWithTimeout=e;async function r(i){return await t(i),i.sourceByUrl}n.waitForSources=r})(Eh||={});var Rt=class extends Gc{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},fv=class extends Gc{constructor(r,n,i){super(r,n.url,i,()=>Promise.resolve("Binary content not shown, see the decompiled WAT file"),void 0,void 0,void 0,void 0);this.event=n;this.sourceMap={type:1,value:We(),sourceByUrl:new Map}}checkContentHash(){return Promise.resolve(void 0)}offsetScriptToSource(r){return r}offsetSourceToScript(r){return r}},Qr=t=>!!t&&t instanceof Gc&&!!t.sourceMap,da=t=>Qr(t)&&t.sourceMap.type===0,zc=t=>Qr(t)&&t.sourceMap.type===1,XI=t=>!!t&&typeof t.getDisassembly=="function";function QO(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r+=e.lineOffset,r<=1&&(n+=e.columnOffset)),{...t,lineNumber:r,columnNumber:n}}function ZO(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(n=Math.max(1,n-e.columnOffset))),{...t,lineNumber:r,columnNumber:n}}var eF=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),as=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var It=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new qt(this.lineNumber+1,this.columnNumber+1)}get base01(){return new Di(this.lineNumber,this.columnNumber+1)}compare(e){let r=e.base0;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},qt=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new It(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new Di(this.lineNumber-1,this.columnNumber)}compare(e){let r=e.base1;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber||0}},Di=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new It(this.lineNumber-1,this.columnNumber)}get base1(){return new qt(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){let r=e.base01;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Ci=class t{constructor(e,r){this.begin=e;this.end=r}static{this.ZERO=new t(new It(0,0),new It(0,0))}static{this.INFINITE=new t(new It(0,0),new It(1/0,1/0))}static simplify(e){if(e.length===0)return[];let r=e.slice().sort((o,s)=>o.begin.compare(s.begin)),n=[],i=r[0];for(let o=1;o<r.length;o++){let s=r[o];i.end.compare(s.begin)>=0?i=new t(i.begin,s.end):(n.push(i),i=s)}return n.push(i),n}contains(e){return e.compare(this.begin)>=0&&e.compare(this.end)<=0}toString(){let e=this.begin.base0,r=this.end.base0;return`Range[${e.lineNumber}:${e.columnNumber} -> ${r.lineNumber}:${r.columnNumber}]`}};var tF=require("worker_threads");var Bl=require("worker_threads");function JI(t,e){let r=go(t),n=(a,{loc:c}=a,{loc:u}=a)=>{if(!c||!u)throw new Error("should include locations");let l=e(c,u);if(o.length>0){let p=o[o.length-1];p.scopeNode.children??=[],p.scopeNode.children.push(l)}o.push({node:a,scopeNode:l})},i=new Set,o=[],s;return ia(r,{enter:a=>{switch(a.type){case"FunctionDeclaration":case"ArrowFunctionExpression":n(a,a.params[0]||a.body,a.body),i.add(a.body);break;case"Program":n(a),s=o[0].scopeNode;break;case"ForStatement":case"ForOfStatement":case"ForInStatement":n(a),i.add(a.body);break;case"BlockStatement":i.has(a)||n(a);break}},leave:a=>{a===o[o.length-1].node&&o.pop()}}),s}Bl.isMainThread||Bl.parentPort?.postMessage(JI(Bl.workerData,(t,e)=>({start:t.start,end:e.end})));var Nl=class t{constructor(e){this.range=e}static hydrate(e){let r=new t(new Ci(new It(e.start.line,e.start.column),new It(e.end.line,e.end.column)));return r.children=e.children?.map(t.hydrate),r}search(e){if(this.range.contains(e)){if(!this.children)return this;for(let r of this.children){let n=r.search(e);if(n)return n}return this}}findDeepest(e,r){if(this.range.contains(e)){if(this.children)for(let n of this.children){let i=n.findDeepest(e,r);if(i!==void 0)return i}return r(this)}}filterHoist(e){if(this.children)for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.filterHoist(e),!e(n)){let i=n.children||[];this.children.splice(r,1,...i),r--}}}forEach(e){e(this),this.children?.forEach(r=>r.forEach(e))}toJSON(){return{range:this.range,children:this.children}}},bie=1024*512;function rF(t){return t.length<bie?wie(t):new Promise((e,r)=>{let n=new tF.Worker(`${__dirname}/renameWorker.js`,{workerData:t});n.on("message",i=>e(Nl.hydrate(i))),n.on("error",r),n.on("exit",()=>r("rename worker exited"))})}function wie(t){return JI(t,(e,r)=>new Nl(new Ci(new Di(e.start.line,e.start.column).base0,new Di(r.end.line,r.end.column).base0)))}var nF=/[$a-z_][$0-9A-Z_$]*/iy,fa=Symbol("IRenameProvider"),jl=class{constructor(e,r,n){this.logger=e;this.sourceMapFactory=r;this.launchConfig=n;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return zn.None;let r=e.uiLocation();return r===void 0?zn.None:"then"in r?r.then(n=>this.provideForSource(n?.source)):this.provideForSource(r?.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof Rt))return zn.None;let r=aa(e.compiledToSourceUrl.keys());if(!r)throw new Error("unreachable");if(!da(r))return zn.None;let n=this.renames.get(r.url);if(n)return n;let i=this.sourceMapFactory.load(r.sourceMap.metadata).then(async o=>{if(!o?.hasNames)return zn.None;let s=await r.content();return s?await this.createFromSourceMap(o,s):zn.None}).catch(()=>zn.None);return this.renames.set(r.url,i),i}async createFromSourceMap(e,r){let n=Date.now(),i;try{i=await rF(r)}catch(a){return this.logger.info("runtime",`Error parsing content for source tree: ${a}}`,{url:e.metadata.compiledPath}),zn.None}let o=new ca(r);e.eachMapping(a=>{if(!a.name)return;let c=new Di(a.generatedLine,a.generatedColumn).base0,u=o.convert(c);nF.lastIndex=u;let l=nF.exec(r);if(!l)return;let p=l[0];if(p===a.name)return;let d=i.search(c)||i;d.data??=[],d.data.some(m=>m.compiled==p)||d.data.push({compiled:p,original:a.name})}),i.filterHoist(a=>!!a.data);let s=Date.now();return this.logger.info("runtime",`renames calculated in ${s-n}ms`,{url:e.metadata.compiledPath}),new zn(i)}};jl=E([(0,Ul.injectable)(),b(0,(0,Ul.inject)(ce)),b(1,(0,Ul.inject)(vo)),b(2,(0,Ul.inject)(Me))],jl);var zn=class t{constructor(e){this.renames=e}static{this.None=new t(new Nl(Ci.ZERO))}getOriginalName(e,r){return this.getClosestRename(r,n=>n.compiled===e)?.original}getCompiledName(e,r){return this.getClosestRename(r,n=>n.original===e)?.compiled}getClosestRename(e,r){return this.renames.findDeepest(e,n=>n.data?.find(r))}};var cs="$returnValue",xie="__js_debug_hoisted_",iF=()=>xie+(0,oF.randomBytes)(8).toString("hex"),Kn=Symbol("IEvaluator"),ql=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:n,renames:i}={}){r!==!1&&(e+=vt());let o=new Map;o.set(cs,iF());for(let c of n??[])o.set(c,iF());let{transformed:s,hoisted:a}=this.replaceVariableInExpression(e,o,i);return a.size?{canEvaluateDirectly:!1,invoke:(c,u={})=>Promise.all([...o].map(([l,p])=>this.hoistValue(l===cs?this.returnValue:u[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s}))}:{canEvaluateDirectly:!0,invoke:c=>this.cdp.Debugger.evaluateOnCallFrame({...c,expression:s})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let n=r;if(r?.stackFrame){let i=await this.renameProvider.provideOnStackframe(r.stackFrame);n={...n,renames:{mapping:i,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,n).invoke(e)}async hoistValue(e,r){let n=e?.objectId,i=`setTimeout(() => { delete globalThis.${r} }, 0)`;n?await this.cdp.Runtime.callFunctionOn({objectId:n,functionDeclaration:`function() { globalThis.${r} = this; ${i}; ${vt()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e?.value)};${i};`+vt()})}replaceVariableInExpression(e,r,n){let i=new Set,o=!1,s=(p,d)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:d}),a=[],c=go(e),u=Uy(c,{enter(p,d){let m=p;if(p.type!=="Identifier"||e[m.start-1]===".")return;let f=r.get(p.name);if(f)return i.add(p.name),o=!0,{replace:kI(p,d)?{type:"Identifier",name:f}:s(f,_ie)};let g=n?.mapping.getCompiledName(p.name,n.position);if(g)return o=!0,{replace:kI(p,d)?{type:"Identifier",name:g}:s(g,p)}},leave:()=>{a.pop()}});if(!o)return{hoisted:i,transformed:e};let l=c.body[c.body.length-1].end;return{hoisted:i,transformed:os(u)+e.slice(l)}}};ql=E([(0,Dh.injectable)(),b(0,(0,Dh.inject)(bt)),b(1,(0,Dh.inject)(fa))],ql);var _ie={type:"Identifier",name:"undefined"};var hv=class t{static parse(e,r,n,i){n&&(r=YI(r));let o=r&&oa(r);if(o)throw new re(ra(e,o.message));let{canEvaluateDirectly:s,invoke:a}=i.prepare(r);return new t(s?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){return this.invoke?(await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0}))?.result.value===!0:Promise.resolve(!0)}},YI=t=>`(()=>{try{return ${t};}catch(e){console.error(e);return true}})()`;var Aie=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,Wl=class t{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=Aie.exec(e);if(!r)throw new re(EI(e));let[,n="=",i]=r;return new t(Iie(e,n,Number(i)))}},Iie=(t,e,r)=>{switch(e){case"=":case"==":case"===":return n=>n===r;case">":return n=>n>r;case">=":return n=>n>=r;case"<":return n=>n<r;case"<=":return n=>n<=r;case"%":return n=>n%r===0;default:throw new re(EI(t))}};var sF=require("crypto"),gv=A(Z());var mv=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var Kc=class{constructor(e,r){this.breakCondition=r;let n=r&&oa(r);if(n)throw new re(ra(e,n.message))}shouldStayPaused(){return Promise.resolve(!0)}};var ha=class{constructor(e){this.evaluator=e}compile(e,r){let n=this.logMessageToExpression(r),i=oa(n);if(i)throw new re(ra(e,i.message));let{canEvaluateDirectly:o,invoke:s}=this.evaluator.prepare(n);return o?new Kc(e,this.logMessageToExpression(r)):new mv(s)}serializeLogStatements(e){return cO([],e,!1)}logMessageToExpression(e){let r=u=>u.replace(/%/g,"%%"),n=[],i=[],o=0;for(;;){let u=e.indexOf("{",o);if(u===-1){n.push(r(e.slice(o)));break}n.push(r(e.slice(o,u)));let[l]=jy(e.slice(u));if(o=u+l.end,o-1===u+1||e[o-1]!=="}"){n.push(r(e.slice(u,o)));continue}if(l.type!=="BlockStatement")break;i.push(os(this.serializeLogStatements(l.body))),n.push("%O")}let a=`console.log(${[JSON.stringify(n.join("")),...i].join(", ")}), false`,c=(0,sF.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${c}.cdp`}};ha=E([(0,gv.injectable)(),b(0,(0,gv.inject)(Kn))],ha);var Sie=new Kc({line:0},void 0),MCe=new Kc({line:0},"false"),Hv=Symbol("IBreakpointConditionFactory"),Vl=class{constructor(e,r,n){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=n.__breakOnConditionalError}getConditionFor(e){return e.condition?hv.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?Wl.parse(e.hitCondition):Sie}};Vl=E([(0,Gl.injectable)(),b(0,(0,Gl.inject)(ha)),b(1,(0,Gl.inject)(Kn)),b(2,(0,Gl.inject)(Me))],Vl);var bv=require("path");var yv=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var vv=t=>!("location"in t),aF=t=>"location"in t,Eie=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),zl=class{constructor(e,r,n){this._manager=e;this._source=r;this._originalPosition=n;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r,n){this._source=r,this._originalPosition=n;let i=[];for(let o of this.cdpBreakpoints)o.state===1&&i.push(this.updateUiLocations(e,o.cdpId,o.locations));await Promise.all(i)}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],n=this._manager._sourceContainer.source(this.source);if((!n||!(n instanceof Rt))&&r.push(this._setByPath(e,n?.offsetSourceToScript(this.originalPosition)||this.originalPosition)),await Promise.all(r),n&&this.isEnabled){let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n});await Promise.all(i.map(o=>this._setByUiLocation(e,n.offsetSourceToScript(o))))}}async updateUiLocations(e,r,n){this.updateExistingCdpRef(r,a=>({...a,locations:n}));let i=(await Promise.all(n.map(a=>e.rawLocationToUiLocation(e.rawLocation(a))))).find(a=>!!a);if(!i)return;let o=this._manager._sourceContainer.source(this.source);if(!o)return;let s=await this._manager._sourceContainer.currentSiblingUiLocations(i);this.updateExistingCdpRef(r,a=>{let c=s.filter(u=>u.source===o);return{...a,locations:n,uiLocations:c.length?c:s}})}compare(e){let r=this.originalPosition,n=e.originalPosition;return r.lineNumber!==n.lineNumber?r.lineNumber-n.lineNumber:r.columnNumber-n.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForNewLocations(e,r){let n=this._manager._sourceContainer.source(this.source);if(!n)return[];let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n},await r.source);if(!i.length)return[];let o=[];for(let s of i)o.push(this._setForSpecific(e,r,n.offsetSourceToScript(s)));for(let s of this.cdpBreakpoints){if(!vv(s.args)||!Eie(s.args,r.url))continue;let a=s.args;i.some(c=>c.columnNumber-1===a.columnNumber&&c.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:n.url}),o.push(this.removeCdpBreakpoint(s)))}return await Promise.all(o),i}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>vv(r.args)))}hasResolvedAt(e,r){let{lineNumber:n,columnNumber:i}=r.base0;return this.cdpBreakpoints.some(o=>o.state===1&&o.locations.some(s=>s.scriptId===e&&s.lineNumber===n&&(s.columnNumber===void 0||s.columnNumber===i)))}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(n=>n.map(i=>i.state!==1||i.cdpId!==e?i:r(i)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let n=new Set;this.setInCdpScriptIds.clear();for(let i of this.cdpBreakpoints)if(i.state===1){n.add(i.cdpId);for(let o of i.locations)this.setInCdpScriptIds.add(o.scriptId)}this._cdpIds=n}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),n=[];for(let i of r){let o=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(i.absolutePath);o!==void 0&&(typeof o=="string"?n.push(this._setByUrlRegexp(e,o,i)):n.push(o.then(s=>s?this._setByUrlRegexp(e,s,i):void 0)))}await Promise.all(n)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(n=>this._setForSpecific(e,n,r)))}async _setByPath(e,r){let n=this._manager._sourceContainer.source({path:this.source.path});if(!(n instanceof Rt&&[...n.compiledToSourceUrl.keys()].some(o=>o.absolutePath===this.source.path)))if(this.source.path){let i=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!i)return;await this._setByUrlRegexp(e,i,r)}else{let o=this._manager._sourceContainer.source(this.source)?.url;if(!o)return;await this._setByUrl(e,o,r),this.source.path!==o&&this.source.path!==void 0&&await this._setByUrl(e,Ne(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(n=>e.scriptId&&aF(n.args)&&n.args.location.scriptId===e.scriptId&&yv(n.args.location,r)||e.url&&!e.hasSourceURL&&vv(n.args)&&(n.args.urlRegex?new RegExp(n.args.urlRegex).test(e.url):e.url===n.args.url)&&yv(n.args,r))}hasSetOnLocationByUrl(e,r,n){return this.cdpBreakpoints.find(i=>{if(vv(i.args))return yv(i.args,n)?e==="url"?i.args.urlRegex?new RegExp(i.args.urlRegex).test(r):i.args.url===r:e==="re"&&i.args.urlRegex===r:!1;let o=this._manager._sourceContainer.getScriptById(i.args.location.scriptId);if(o)return yv(i.args.location,n)&&e==="re"?new RegExp(r).test(o.url):o.url===r})}async _setForSpecific(e,r,n){return r.url&&!r.hasSourceURL&&(!r.embedderName||r.embedderName===r.url)?this._setByUrl(e,r.url,n):this._setByScriptId(e,r,n)}async _setByUrl(e,r,n){n=as(n);let i=this.hasSetOnLocationByUrl("url",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{url:r,condition:this.getBreakCondition(),...n})}async _setByUrlRegexp(e,r,n){n=as(n);let i=this.hasSetOnLocationByUrl("re",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...n})}async _setByScriptId(e,r,n){n=as(n);let i=this.hasSetOnLocation(r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...n}})}async _setAny(e,r){if(!this.isEnabled)return;let n={state:0,args:r,deadletter:!1};n.done=(async()=>{let i=aF(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!i)return;if(n.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:i.breakpointId});return}let o="actualLocation"in i?[i.actualLocation]:i.locations;this._manager._resolvedBreakpoints.set(i.breakpointId,this);let s={state:1,cdpId:i.breakpointId,args:r,locations:o,uiLocations:[]};return this.updateCdpRefs(a=>a.map(c=>c===n?s:c)),await this.updateUiLocations(e,i.breakpointId,o),s})(),this.updateCdpRefs(i=>[...i,n]),await n.done}async removeCdpBreakpoint(e){this.updateCdpRefs(r=>r.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await this._manager._thread?.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId}),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var xo=class t extends zl{constructor(r,n,i){super(r,n,{lineNumber:1,columnNumber:1});this.mode=i}static getModeKeyForSource(r,n){return r===1?(0,bv.basename)(n,(0,bv.extname)(n)||void 0):n}_setPredicted(){return Promise.resolve()}_setByPath(r,n){if(!this.source.path)return Promise.resolve();let i=t.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,Yr(i),n):super._setByPath(r,n)}};var uF=A(xe());var Xn=class extends zl{constructor(r,n,i,o,s){super(r,i,{lineNumber:o.line,columnNumber:o.column||1});this.dapId=n;this.dapParams=o;this.condition=s;this.completedSet=We()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:uF.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let n=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==n&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var wv=class extends Xn{constructor(e,r,n,i){super(e,r,n,i,new Wl(()=>!1))}getResolvedUiLocation(){}};var HB=A($h());var kh=class extends xo{constructor(r,n){super(r,{path:n},1);this.pattern=n}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let n=(0,HB.makeRe)(Qe(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:n.source.replace(/([a-z]):/i,(i,o)=>`[${o.toLowerCase()}${o.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Ql=A(Z());var Jl={dispose:()=>{}},Ie=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var Yl=Symbol("IExperimentationService");var Zt=Symbol("ITelemetryReporter");var qoe=/\/node_modules\/|^node\:/,Woe=2,yB=5e3,Voe=yB/2,xt=class{constructor(e,r,n){this.telemetry=r;this.experimentation=n;this.disposable=new Ie;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(xt.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),xt.consecutiveQualifyingSessions>=Woe&&this.disposable.push($1(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),xt.didSuggest=!0,e.suggestDiagnosticTool({}))},yB))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(xt.didVerifyEmitter.fire(),xt.didSuggest&&(xt.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",n=>{n.sourceMapURL&&!qoe.test(n.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-Voe>this.startedAt?xt.consecutiveQualifyingSessions++:xt.consecutiveQualifyingSessions=0,this.disposable.dispose()}};xt.consecutiveQualifyingSessions=0,xt.didVerifyEmitter=new Y,xt.didSuggest=!1,xt=E([(0,Ql.injectable)(),b(0,(0,Ql.inject)(El)),b(1,(0,Ql.inject)(Zt)),b(2,(0,Ql.inject)(Yl))],xt);var Qn=A(Z()),kB=A(AB()),xS=A(Cy());var tp=Symbol("IContainer"),Io=Symbol("StoragePath"),ln=Symbol("IInitializeParams"),Yn=Symbol("VSCodeApi"),rp=Symbol("IsVSCode"),at=Symbol("ExtensionContext"),gS=Symbol("ProcessEnv"),Rh=Symbol("execa"),we=Symbol("FS"),ls="ExtensionLocation",Yc=Symbol("IBrowserFinder"),jPe=Symbol("DwarfDebugging"),np=Symbol("SessionSubStates"),mS=new WeakMap,pt=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,n=mS.get(t.container);return n?n.push(r):mS.set(t.container,[r]),e},Pv=t=>{mS.get(t)?.forEach(e=>e.dispose())},pn=Symbol("IExtensionContribution");var Tv=A(Z());var IB=A(require("fs")),Lv=A(require("path")),SB=t=>{let e={};d(e);function r(f,g){return t({category:"telemetry",output:f,data:g})}let n=f=>r("js-debug/dap/operation",{...e,...f}),i=f=>r("js-debug/cdp/operation",{...e,...f}),o=f=>r("js-debug/error",{...e,...f}),s=f=>{e.browser=(f.targetProject||f.targetProject)+"/"+f.targetVersion,r("js-debug/browserVersion",{...e,...f})},a=f=>r("js-debug/breakpointStats",{...e,...f}),c=f=>r("js-debug/statistics",{...e,...f}),u=f=>{e.nodeVersion=f.version,r("js-debug/nodeRuntime",{...e,...f})},l=f=>{r("js-debug/launch",{...e,...f,parameters:JSON.stringify(f.parameters)})},p=f=>{r("js-debug/diagnosticPrompt",{...e,...f})};function d(f){try{let g=Lv.resolve(Lv.dirname(__filename),"..","..",".gitcommit");f.jsDebugCommitId=IB.readFileSync(g,"utf8")}catch{}}return{breakpointStats:a,statistics:c,browserVersion:s,cdpOperation:i,dapOperation:n,error:o,launch:l,nodeRuntime:u,diagnosticPrompt:p,setGlobalMetric:(f,g)=>{e[f]=g}}};var Mh=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,n){let i=this.measurements[e];i||(i=this.measurements[e]={times:[],errors:[]}),i.times.push(r),n&&i.errors.push(n)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:n,errors:i}=this.measurements[r],o={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:n.length,failed:i.length};for(let s of n)o.totalTime+=s,o.max=Math.max(o.max,s);o.avg=o.totalTime/o.count;for(let s of n)o.stddev+=(s-o.avg)**2;o.stddev=Math.sqrt(o.stddev/(n.length-1)),e[o.operation]=o,e[`!${o.operation}.errors`]=i,this.isVSCode||(e[`${o.operation}.errors`]=i)}return this.measurements=Object.create(null),e}};var dn=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new Y;this.loggers=SB(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new Mh(this.isVsCode),cdpOperation:new Mh(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let n=this.loggers[e];n(...r)}reportOperation(e,r,n,i){this.batchers[e].add(r,n,i),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},dn.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,n]of e){let i=this.batchers[r].flush();i.length&&this.report(r,i),this.batchFlushTimeout[r]=void 0,clearTimeout(n)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=HS(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};dn.batchFlushInterval=5e3,dn=E([(0,Tv.injectable)(),b(0,(0,Tv.inject)(rp))],dn);var HS=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?yS(t):t instanceof Array?t.map(HS):Yo(t,HS),EB=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function yS(t){let e=String(t.message),r=String(t.name);EB.lastIndex=0;let n=typeof t.stack=="string"?t.stack.replace(EB,"$1"):void 0;return{error:{message:e,name:r,stack:n}}}var CB=require("crypto"),So=A(Z());var Qc=Symbol("IDwarfModuleProvider");var kv=Symbol("IWasmSymbolProvider"),wS=Symbol("IWasmWorkerFactory"),ip=class{constructor(e,r){this.dwarf=e;this.launchConfig=r;this.cdpCounter=0;this.cdp=new Map;this.prompt=_e(()=>this.dwarf.prompt())}async spawn(e){if(!this.launchConfig.enableDWARF)return null;this.worker??=this.dwarf.load().then(i=>{if(!i)return null;let o=i.spawn({getWasmGlobal:(s,a)=>this.loadWasmValue(`globals[${s}]`,a),getWasmLocal:(s,a)=>this.loadWasmValue(`locals[${s}]`,a),getWasmOp:(s,a)=>this.loadWasmValue(`stack[${s}]`,a),getWasmLinearMemory:(s,a,c)=>this.loadWasmValue(`[].slice.call(new Uint8Array(memories[0].buffer, ${+s}, ${+a}))`,c).then(u=>new Uint8Array(u).buffer)});return o.rpc.sendMessage("hello",[],!1),o});let r=await this.worker;if(!r)return null;let n=this.cdpCounter++;return this.cdp.set(n,e),{rpc:r.rpc,getStopId:i=>`${n}:${i}`,dispose:()=>(this.cdp.delete(n),r.dispose())}}async dispose(){await this.worker?.then(e=>e?.dispose()),this.worker=Promise.resolve(null)}async loadWasmValue(e,r){let n=r,i=n.indexOf(":"),o=n.substring(0,i),s=n.substring(i+1),a=await this.cdp.get(+o)?.Debugger.evaluateOnCallFrame({callFrameId:s,expression:e+vt(),silent:!0,returnByValue:!0,throwOnSideEffect:!0});if(!a||a.exceptionDetails)throw new Error(`evaluate failed: ${a?.exceptionDetails?.text||"unknown"}`);return a.result.value}};ip=E([(0,So.injectable)(),b(0,(0,So.inject)(Qc)),b(1,(0,So.inject)(Me))],ip);var op=class{constructor(e,r,n,i){this.dwarf=e;this.cdp=r;this.logger=n;this.launchConfig=i;this.worker=_e(()=>this.dwarf.spawn(this.cdp))}async loadWasmSymbols(e){if(!this.launchConfig.enableDWARF)return this.defaultSymbols(e);let r=await this.worker();if(!r){let a=this.defaultSymbols(e);return a.onDidDisassemble=this.dwarf.prompt,a}let{rpc:n}=r,i=(0,CB.randomUUID)(),o=e.debugSymbols?.externalURL,s;try{s=await n.sendMessage("addRawModule",i,o,{url:e.url,code:!o&&e.url.startsWith("wasm://")?await this.getBytecode(e.scriptId):void 0})}catch{return this.defaultSymbols(e)}return!(s instanceof Array)||s.length===0?(n.sendMessage("removeRawModule",i),this.defaultSymbols(e)):(this.logger.info("sourcemap.parsing","parsed files from wasm",{files:s}),new vS(e,this.cdp,i,r,s))}async dispose(){await this.worker.value?.then(e=>e?.dispose())}defaultSymbols(e){return new $v(e,this.cdp,[])}async getBytecode(e){let n=(await this.cdp.Debugger.getScriptSource({scriptId:e}))?.bytecode;return n?Buffer.from(n,"base64").buffer:void 0}};op=E([(0,So.injectable)(),b(0,(0,So.inject)(wS)),b(1,(0,So.inject)(bt)),b(2,(0,So.inject)(ce)),b(3,(0,So.inject)(Me))],op);var $v=class{constructor(e,r,n){this.event=e;this.cdp=r;this.doDisassemble=_e(async()=>{let e=[],r;for await(let n of this.getDisassembledStream()){e=e.concat(n.lines);let i;if(r){let o=new Uint32Array(r.length+n.lines.length);i=r.length,o.set(r),r=o}else r=new Uint32Array(n.lines.length),i=0;for(let o=0;o<n.lines.length;o++)r[i+o]=n.bytecodeOffsets[o]}return r??=new Uint32Array(0),{lines:e,byteOffsetsOfLines:r}});n.push(this.decompiledUrl=e.url.replace(".wasm",".wat")),this.files=n}async getDisassembly(){let{lines:e}=await this.doDisassemble();return this.onDidDisassemble?.(),e.join(`
`)}originalPositionFor(e){return this.disassembledPositionFor(e)}async disassembledPositionFor(e){let{byteOffsetsOfLines:r}=await this.doDisassemble(),n=yO(r,e.base0.columnNumber,(i,o)=>i-o);if(n!==r.length)return{url:this.decompiledUrl,position:new It(n,0)}}async compiledPositionFor(e,r){if(e!==this.decompiledUrl)return[];let{byteOffsetsOfLines:n}=await this.doDisassemble(),{lineNumber:i}=r.base0;if(i>=n.length)return[];let o=n[r.base0.lineNumber];return[new It(0,o)]}dispose(){}async*getDisassembledStream(){let{scriptId:e}=this.event,r=await this.cdp.Debugger.disassembleWasmModule({scriptId:e});if(r)for(yield r.chunk;r.streamId;){let n=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:r.streamId});if(!n)return;yield n.chunk}}},vS=class extends $v{constructor(r,n,i,o,s){super(r,n,s);this.moduleId=i;this.worker=o;this.mappedLines=new Map}get codeOffset(){return this.event.codeOffset||0}async originalPositionFor(r){let n=await this.worker.rpc.sendMessage("rawLocationToSourceLocation",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return n.length?{position:new It(n[0].lineNumber,n[0].columnNumber),url:n[0].sourceFileURL}:super.originalPositionFor(r)}async compiledPositionFor(r,n){if(r===this.decompiledUrl)return super.compiledPositionFor(r,n);let{lineNumber:i,columnNumber:o}=n.base0,s=await this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:i,columnNumber:o===0?-1:o,rawModuleId:this.moduleId,sourceFileURL:r});if(o===0&&s.length===0){let a=await this.getMappedLines(r),c=a.find(u=>u>i);if(!a.includes(i)&&c)return this.compiledPositionFor(r,new It(c,0))}return s.filter(a=>a.rawModuleId===this.moduleId).map(a=>new It(0,this.codeOffset+a.startOffset))}dispose(){return this.worker.rpc.sendMessage("removeRawModule",this.moduleId)}async getVariablesInScope(r,n){let i={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId};return(await this.worker.rpc.sendMessage("listVariablesInScope",i)).map(s=>({name:s.name,scope:s.scope,type:s.type,evaluate:async()=>{let a=await this.worker.rpc.sendMessage("evaluate",s.name,i,this.worker.getStopId(r));return a?new bS(a,this.worker.rpc):Yoe}}))}async getFunctionStack(r){let n=await this.worker.rpc.sendMessage("getFunctionInfo",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return"frames"in n?n.frames:[]}async getStepSkipList(r,n,i,o){if(i===this.decompiledUrl)return[];let s={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},a=()=>o&&i?this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:o.base0.lineNumber,columnNumber:-1,rawModuleId:this.moduleId,sourceFileURL:i}):[],c;switch(r){case 2:{c=await this.worker.rpc.sendMessage("getInlinedFunctionRanges",s);break}case 1:{let u=await Promise.all([this.worker.rpc.sendMessage("getInlinedCalleesRanges",s),a()]);c=Zo(u);break}case 0:c=await a();break;default:c=[];break}return c.map(u=>new Ci(new It(0,u.startOffset+this.codeOffset),new It(0,u.endOffset+this.codeOffset)))}async evaluate(r,n,i){try{return await this.worker.rpc.sendMessage("evaluate",i,{codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},this.worker.getStopId(r))??void 0}catch(o){throw new re(Ze(o.message))}}getMappedLines(r){let n=this.mappedLines.get(r);if(n)return n;let i=(async()=>{try{let o=await this.worker.rpc.sendMessage("getMappedLines",this.moduleId,r);return new Uint32Array(o?.sort((s,a)=>s-a)||[])}catch{return new Uint32Array}})();return this.mappedLines.set(r,i),i}},Yoe={type:"null",description:"no properties"},bS=class t{constructor(e,r){if(this.type=e.type,this.description=e.description,this.linearMemoryAddress=e.linearMemoryAddress,this.linearMemorySize=e.linearMemoryAddress,e.objectId&&e.hasChildren){let n=e.objectId;this.getChildren=_e(()=>this._getChildren(r,n))}}async _getChildren(e,r){return(await e.sendMessage("getProperties",r)).map(i=>({name:i.name,value:new t(i.value,e)}))}};var ga=Symbol("IScriptSkipper");function PB(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var LB=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),Qoe=/\?t=[0-9]+$/,Zoe=t=>t.endsWith(".hot-update.js")||Qoe.test(t),ese={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},TB=(t,e)=>e instanceof Rt&&e.compiledToSourceUrl.has(t);var $B=2**31-1,lr=class{constructor(e,r,n,i,o,s,a,c,u){this.sourceMapFactory=r;this.logger=n;this.launchConfig=i;this.initializeConfig=o;this.sourcePathResolver=s;this.scriptSkipper=a;this.resourceProvider=c;this.wasmSymbols=u;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new Y;this.onScriptEmitter=new Y;this._sourceByOriginalUrl=new mo(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=Bc();this._sourceMapTimeouts=ese;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in i?i.webRoot:i.rootPath;l&&(this.rootPaths=[l,In(l,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...i.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,kB.xxHash32)(e)&$B;for(let n=0;n<65535;n++){if(!this._sourceByReference.has(r))return r;r===$B&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,n=4;for(;;){let i=await this._originalPositionFor(e);if(!PB(i)){n=r?void 0:i;break}e=i,r=!0,n=void 0}return{...e,isMapped:r,unmappedReason:n}}async currentSiblingUiLocations(e,r){let n=await this._uiLocations(e);return r?n.filter(i=>i.source===r):n}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof pa&&this.sourceMapFactory.invalidateCache()}async _uiLocations(e){let[r,n]=await Promise.all([this.getSourceMapUiLocations(e),this.getCompiledLocations(e)]);return[...r,e,...n]}async getSourceMapUiLocations(e){let r=await this._originalPositionFor(e);if(!PB(r))return[];let n=await this.getSourceMapUiLocations(r);return n.push(r),n}async _originalPositionFor(e){if(!Qr(e.source))return 1;let r=await Eh.waitForValueWithTimeout(e.source.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!r)return 2;if(this._doSourceMappedStepping)return this._originalPositionForMap(e,r);if(XI(r)){let n=await r.disassembledPositionFor(new qt(e.lineNumber,e.columnNumber)),i=n&&e.source.sourceMap.sourceByUrl.get(n.url);if(i)return i?{columnNumber:n.position.base1.lineNumber,lineNumber:n.position.base1.lineNumber,source:i}:3}return 0}async _originalPositionForMap(e,r){let n=e.source;if(!Qr(n))return 1;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return 0;let i=await this.getOptiminalOriginalPosition(r,ZO(e,n.inlineScriptOffset));if(!i)return 3;let o=n.sourceMap.sourceByUrl.get(i.url);if(!o)return 3;let s=i.position.base1;return{lineNumber:s.lineNumber,columnNumber:s.columnNumber,source:o}}async getCompiledLocations(e){if(!(e.source instanceof Rt))return[];let r=[];for(let[n,i]of e.source.compiledToSourceUrl){let o=await Eh.waitForValueWithTimeout(n.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!o)continue;let s;if("decompiledUrl"in o){let a=await o.compiledPositionFor(i,new qt(e.lineNumber,e.columnNumber));if(!a)continue;s=a.map(c=>({lineNumber:c.base1.lineNumber,columnNumber:c.base1.columnNumber,source:n}))}else{let a=this.sourceMapFactory.guardSourceMapFn(o,()=>Vy(i,e,o),LB);if(!a)continue;let{lineNumber:c,columnNumber:u}=QO({lineNumber:a.line||1,columnNumber:(a.column||0)+1},n.inlineScriptOffset),l={lineNumber:c,columnNumber:u,source:n};s=[l,...await this.getCompiledLocations(l)]}r=r.concat(s)}return r}async getOptiminalOriginalPosition(e,r){if(XI(e))return await e.originalPositionFor(new qt(r.lineNumber,r.columnNumber));let n=this.sourceMapFactory.guardSourceMapFn(e,()=>{let i=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:xS.SourceMapConsumer.GREATEST_LOWER_BOUND});return i.line!==null?i:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:xS.SourceMapConsumer.LEAST_UPPER_BOUND})},LB);if(!(n.column===null||n.line===null||n.source===null))return{position:new Di(n.line,n.column),url:n.source}}async addSource(e,r,n,i,o,s){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let c;return e.scriptLanguage==="WebAssembly"?c=new fv(this,e,a):c=new Gc(this,e.url,a,r,n&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:n,compiledPath:a||e.url})?{sourceMapUrl:n,compiledPath:a||e.url,cacheKey:e.hash}:void 0,i,o,s),this._addSource(c),c}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!TB(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof Rt&&this._sourceMapSourcesByUrl.set(e.url,e);let n=this._sourceByAbsolutePath.get(e.absolutePath);(n===void 0||n.url.length>=e.url.length||TB(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(i=>this._dap.loadedSource({reason:"new",source:i})),da(e)?this._finishAddSourceWithSourceMap(e):zc(e)&&this._finishAddSourceWithWasm(e)}async _finishAddSourceWithWasm(e){let r=await this.wasmSymbols.loadWasmSymbols(e.event),n=[];for(let i of r.files){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i}),s=o?Ne(o):i;this.logger.verbose("runtime.sourcecreate","Creating wasm source from source map",{inputUrl:i,absolutePath:o,resolvedUrl:s});let a=o&&Ne(o),c=i===r.decompiledUrl?()=>r.getDisassembly():()=>a?this.resourceProvider.fetch(a).then(l=>l.body):Promise.resolve(`Could not read ${i}`),u=new Rt(this,s,o,c);u.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,u),n.push(this._addSource(u))}await Promise.all(n),e.sourceMap.value.resolve(r)}async _finishAddSourceWithSourceMap(e){let r=e.sourceMap.value,n;try{n=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(i){if(this.initializeConfig.clientID==="visualstudio"){let o=e.sourceMap.metadata.sourceMapUrl;try{let s=await this.sourcePathResolver.urlToAbsolutePath({url:o});s&&(e.sourceMap.metadata.sourceMapUrl=Ne(s)),n=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:o,originalSourceMapError:yS(i)})}catch{}}if(n===void 0)return this._dap.output({output:$y(e.url,i.message).error.format+`
`,category:"stderr"}),r.resolve(void 0)}if(this._sourceByReference.get(e.sourceReference)!==e)return r.resolve(void 0);this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:n.id,metadata:n.metadata});try{await this._addSourceMapSources(e,n)}finally{r.resolve(n)}this.scriptSkipper.initializeSkippingValueForSource(e)}removeSource(e,r=!1){let n=this._sourceByReference.get(e.sourceReference);if(n!==void 0){if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof Rt){this._sourceMapSourcesByUrl.delete(e.url);for(let[i,o]of e.compiledToSourceUrl)i.sourceMap.sourceByUrl.delete(o)}this._sourceByAbsolutePath.delete(e.absolutePath),Qr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(i=>this._dap.loadedSource({reason:"removed",source:i})),da(e)?e.sourceMap.value.settledValue?.destroy():zc(e)&&e.sourceMap.value.promise.then(i=>i?.dispose()),Qr(e)&&this._removeSourceMapSources(e,r)}}async _addSourceMapSources(e,r){let n=[];for(let i of r.sources){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i,map:r}),s=o?Ne(o):r.computedSourceUrl(i),a=this._sourceMapSourcesByUrl.get(s);if(e===a)continue;if(a)if(Zoe(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:i,sourceMapId:r.id,absolutePath:o,resolvedUrl:s});let c=o&&Ne(o),u=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(i,!0),()=>null),l;if(u){let d=Pl(u);if(d&&(!wr(d)&&o?l=sa(o?Ne(o):i,d):l=d),o&&l){let m={sourceMapUrl:l,compiledPath:o};this.sourcePathResolver.shouldResolveSourceMap(m)||(l=void 0)}}let p=new Rt(this,s,o,u!==null?()=>Promise.resolve(u):c?()=>this.resourceProvider.fetch(c).then(d=>d.body):()=>e.content(),l?{compiledPath:o||s,sourceMapUrl:l,cacheKey:r.metadata.cacheKey}:void 0,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,p),n.push(this._addSource(p))}await Promise.all(n)}_removeSourceMapSources(e,r){for(let n of e.sourceMap.sourceByUrl.keys()){let i=e.sourceMap.sourceByUrl.get(n);i&&(e.sourceMap.sourceByUrl.delete(n),i.compiledToSourceUrl.delete(e),!i.compiledToSourceUrl.size&&this.removeSource(i,r))}}async waitForSourceMapSources(e){return Qr(e)?[...(await Eh.waitForSources(e.sourceMap)).values()]:[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};lr=E([(0,Qn.injectable)(),b(0,(0,Qn.inject)(sn)),b(1,(0,Qn.inject)(vo)),b(2,(0,Qn.inject)(ce)),b(3,(0,Qn.inject)(Me)),b(4,(0,Qn.inject)(ln)),b(5,(0,Qn.inject)(it)),b(6,(0,Qn.inject)(ga)),b(7,(0,Qn.inject)(Mc)),b(8,(0,Qn.inject)(kv))],lr);var RB=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,MB=500,OB=Symbol("DontCompare");var Zn=class{constructor(e,r,n,i,o,s,a){this.logger=n;this.launchConfig=i;this.conditionFactory=o;this.suggester=s;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new iv;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=Bc();this._byRef=new Map;this.moduleEntryBreakpoints=Bc();this._dap=e,this._sourceContainer=r,a?.onLongParse(()=>e.longPrediction({})),r.onScript(c=>{c.source.then(u=>{let l=this._thread;l&&this._byRef.get(u.sourceReference)?.forEach(p=>p.updateForNewLocations(l,c))})}),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let c of this._byDapId.values())c.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(c,u)=>{if(!n.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[u];for(let d=0;d<p.length;d++)for(let m of p[d]){let f=m.absolutePath,g=f?this._byPath.get(f):void 0;for(let x of g||[])l.push(x.updateForNewLocations(this._thread,c));let v=this._byRef.get(m.sourceReference);for(let x of v||[])l.push(x.updateForNewLocations(this._thread,c));m.sourceMap&&p.push(m.sourceMap.sourceByUrl.values())}return Zo(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],n=this._byRef.get(e.source.sourceReference)||[];return r.concat(n).some(i=>i.originalPosition.columnNumber===e.columnNumber&&i.originalPosition.lineNumber===e.lineNumber)}async moveBreakpoints(e,r,n,i){let o=l=>S$(l,async p=>{let d=await this._sourceContainer.getOptiminalOriginalPosition(n,p.originalPosition);if(!d)return!1;let m=d.position.base1;return p.updateSourceLocation(e,{path:i.absolutePath,sourceReference:i.sourceReference},{lineNumber:m.lineNumber,columnNumber:m.columnNumber,source:i}),!1}),s=r.absolutePath,a=i.absolutePath,c=s?this._byPath.get(s):void 0;if(c&&a){let[l,p]=await o(c);this._byPath.set(s,l),this._byPath.set(a,p)}let u=this._byRef.get(r.sourceReference);if(u){let[l,p]=await o(u);this._byRef.set(r.sourceReference,l),this._byRef.set(i.sourceReference,p)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let n=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(n.map(i=>this.ensureModuleEntryBreakpoint(e,i.source)))}async applyEnabledFilter(e,r=OB){if(r!==OB&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let n=this._thread;n&&await Promise.all([...this._byDapId.values()].map(i=>this._enabledFilter(i)?i.enable(n):i.disable()))}async getBreakpointLocations(e,r,n,i){let o=n.base1,s=i.base1,[a,c]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:o.lineNumber,columnNumber:o.columnNumber}),this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber})]);if(a.length!==c.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let u=[],l=[];for(let p=0;p<a.length;p++){let d=a[p],m=c[p];if(d.source!==m.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let f=d.source;if(!f.scripts.length)continue;let{scriptId:g}=f.scripts[f.scripts.length-1];u.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:g,...f.offsetSourceToScript(as(d))},end:{scriptId:g,...f.offsetSourceToScript(as(m))}}).then(v=>{if(v?.locations)return Promise.all(v.locations.map(async x=>{let{lineNumber:C,columnNumber:$=0}=x,T=await this._sourceContainer.currentSiblingUiLocations({source:f,...f.offsetScriptToSource(eF({lineNumber:C,columnNumber:$}))});l.push({breakLocation:x,uiLocations:T})}))}))}return await Promise.all(u),l}setThread(e){this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",r=>{let n=this._resolvedBreakpoints.get(r.breakpointId);n&&n.updateUiLocations(e,r.breakpointId,[r.location])}),this._thread.setSourceMapDisabler(r=>{let n=[];for(let i of r){let o=this._resolvedBreakpoints.get(i);if(o){let s=this._sourceContainer.source(o.source);Qr(s)&&n.push(s)}}return n});for(let r of this._byPath.values())r.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,r[0]?.source);for(let r of this._byRef.values())r.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){tv(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(n=>this._setBreakpoint(new kh(this,n),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){let r=this.launchConfig.perScriptSourcemaps==="yes",n;r?n=Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?n=e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):n=e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler),this._sourceMapHandlerInstalled={entryBpSet:n}}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([ke(MB),e.enable(r)]))}async setBreakpoints(e,r){!this._sourceMapHandlerInstalled&&this._thread&&e.breakpoints?.length&&this._installSourceMapHandler(this._thread);let n=await this._sourceMapHandlerInstalled?.entryBpSet;e.source.path=Si(e.source.path);let i=this._sourceContainer.source(e.source);if(!n&&this._breakpointsPredictor&&!i){let l=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(l),await l}let o=this._thread;if(o?.debuggerReady.hasSettled()===!1){let l=o.debuggerReady.promise;this.addLaunchBlocker(l),await l}let s=l=>{let p={unbound:l.slice(),new:[],list:[]};if(!e.breakpoints)return p;for(let d=0;d<e.breakpoints.length;d++){let m=e.breakpoints[d],f;try{f=new Xn(this,r[d],e.source,m,this.conditionFactory.getConditionFor(m))}catch(x){if(!(x instanceof re))throw x;this._dap.output({category:"stderr",output:x.message}),f=new wv(this,r[d],e.source,m)}let g=p.unbound.findIndex(x=>x.equivalentTo(f)),v=p.unbound[g];v?.equivalentTo?.(f)?(p.list.push(v),p.unbound.splice(g,1)):(p.new.push(f),p.list.push(f),this._byDapId.set(f.dapId,f))}return p},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,c=s(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,c.list);else if(e.source.path)this._byPath.set(e.source.path,c.list);else return{breakpoints:[]};if(c.unbound.length===0&&c.new.length===0)return{breakpoints:[]};if(this._totalBreakpointsCount-=c.unbound.length,await Promise.all(c.unbound.map(l=>(this._byDapId.delete(l.dapId),l.disable()))),this._totalBreakpointsCount+=c.new.length,this._thread&&(this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled?this._uninstallSourceMapHandler(this._thread):this._totalBreakpointsCount>0&&!this._sourceMapHandlerInstalled&&this._installSourceMapHandler(this._thread)),o&&c.new.length){this.ensureModuleEntryBreakpoint(o,e.source);let l=a(),p=Promise.all(c.new.filter(this._enabledFilter).filter(d=>l?.includes(d)).map(d=>d.enable(o)));this.addLaunchBlocker(Promise.race([ke(MB),p])),await p}let u=await Promise.all(c.list.map(l=>l.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(u),ke(0).then(()=>c.new.forEach(l=>l.markSetCompleted())),{breakpoints:u}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let n=await e.toDap();n.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:n})}isEntrypointBreak(e,r){return[...this.moduleEntryBreakpoints.values()].some(i=>i.enabled&&i.cdpScriptIds.has(r))?!0:e.some(i=>{let o=this._resolvedBreakpoints.get(i);return o&&(o instanceof xo||RB(o))})}isEntrypointCdpBreak(e){return this._resolvedBreakpoints.get(e)instanceof xo}async shouldPauseAt(e,r,n,i=!1){if(!r.length)return e.reason!=="instrumentation";let o=0,s=i?1:0;return await Promise.all(r.map(async a=>{if(n?.cdpId===a){o++;return}let c=this._resolvedBreakpoints.get(a);if(c instanceof xo){this.entryBreakpointMode===0&&!(c instanceof kh)&&c.disable(),s++;return}c instanceof Xn&&(await c.testHitCondition(e)?o++:s++)})),o>0||s===0}registerBreakpointsHit(e){for(let r of e){let n=this._resolvedBreakpoints.get(r);n instanceof Xn&&this._breakpointsStatisticsCalculator.registerBreakpointHit(n.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(RB))return;let i=xo.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(i))return;let o=new xo(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,o),this._setBreakpoint(o,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(n=>n.enable(r)))}}};Zn=E([(0,Eo.injectable)(),b(0,(0,Eo.inject)(sn)),b(1,(0,Eo.inject)(lr)),b(2,(0,Eo.inject)(ce)),b(3,(0,Eo.inject)(Me)),b(4,(0,Eo.inject)(Hv)),b(5,(0,Eo.inject)(xt)),b(6,(0,Eo.inject)(qc))],Zn);var ZN=require("crypto"),fp=A(Z());var ct=class t{static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},Oh=class{constructor(){this._first=ct.Undefined;this._last=ct.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===ct.Undefined}clear(){let e=this._first;for(;e!==ct.Undefined;){let r=e.next;e.prev=ct.Undefined,e.next=ct.Undefined,e=r}this._first=ct.Undefined,this._last=ct.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new ct(e);if(this._first===ct.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==ct.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ct.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==ct.Undefined;){let n=r.next;e(r.element)||this._remove(r),r=n}}_remove(e){if(e.prev!==ct.Undefined&&e.next!==ct.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===ct.Undefined&&e.next===ct.Undefined?(this._first=ct.Undefined,this._last=ct.Undefined):e.next===ct.Undefined?(this._last=this._last.prev,this._last.next=ct.Undefined):e.prev===ct.Undefined&&(this._first=this._first.next,this._first.prev=ct.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ct.Undefined;)yield e.element,e=e.next}};var zv=A(Z()),XN=A(require("net"));var Do=class extends re{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Co(t,e,r){if(e.isCancellationRequested)return Promise.reject(new Do(r||"Task cancelled"));let n=We(),i=e.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new Do(r||"Task cancelled")}),t.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}function FB(t,e){let r=new jr(e),n=t.map(async i=>{try{return await i(r.token)}finally{r.cancel()}});return Promise.race(n)}var BB=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),pr=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),tse=Object.freeze({isCancellationRequested:!0,onCancellationRequested:BB}),jr=class t{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let n=new t(r),i=n._token=new sp,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),n}get token(){return this._token||(this._token=new sp),this._token}cancel(){this._token?this._token instanceof sp&&this._token.cancel():this._token=tse}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof sp&&this._token.dispose():this._token=pr}},sp=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?BB:(this._emitter||(this._emitter=new Y),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var GS=A(require("net"));var gae=A(qB(),1),Hae=A(kS(),1),yae=A(MS(),1),UN=A(qS(),1),VS=A(jN(),1);var qN=UN.default;var WN=(t,e)=>t+Math.floor(Math.random()*(e-t));async function ba({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:n=GN}={},i=pr){let o=WN(t,e);for(let s=Math.min(r,e-t);;s--)try{return await n(o,i)}catch(a){if(s===0||a instanceof Do)throw a;o=o===e-1?t:o+1}}async function VN(t,e){try{return await GN(t,e),!0}catch{return!1}}function GN(t,e=pr){let r;return new Promise((n,i)=>{let o=GS.createServer();o.listen(t,"127.0.0.1",()=>{let s=o.address();o.close(()=>n(s.port))}),o.on("error",i),r=e.onCancellationRequested(()=>{o.close(),i(new Do("Port open lookup cancelled"))})}).finally(()=>r?.dispose())}var zN=(t,e)=>(r,n)=>{let i=GS.createServer(t);return i.listen(r,e),Gv(i,n)},KN=t=>(e,r)=>Gv(new VS.default({host:"127.0.0.1",...t,port:e}),r),Gv=(t,e)=>{let r;return new Promise((n,i)=>{t.on("error",i),t.on("listening",()=>n(t)),r=e.onCancellationRequested(()=>{t.close(),i(new Do("Port open lookup cancelled"))})}).finally(()=>r?.dispose())};var JN=async(t,e,r,n,i=pr)=>{let o=r?await Gv(XN.createServer(e).listen(r,n),i):await ba({tester:zN(e,n)},i),s=t.register(o.address().port);return o.on("close",()=>s.dispose()),o.on("error",()=>s.dispose()),o},Kv=async(t,e,r)=>{let n=await ba({tester:KN(e)},r),i=t.register(n.address().port);return n.on("close",()=>i.dispose()),n.on("error",()=>i.dispose()),n},dt=Symbol("IPortLeaseTracker"),pp=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new Y;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):FB([()=>ke(r).then(()=>!1),n=>new Promise(i=>{let o=this.onRegistered.event(s=>{s===e&&i(!0)});n.onCancellationRequested(()=>o.dispose())})])}};pp=E([(0,zv.injectable)(),b(0,(0,zv.inject)(ls))],pp);var YN="JsDebug",QN="*";var zS=class{constructor(){this.replays=new Map}addReplay(e,r,n){let i=this.replays.get(e);return i||(i=new Oh,this.replays.set(e,i)),i.push({event:`${e}.${r}`,params:n})}capture(e,r,n,i){let o=e[r];if(i===0)o.on(n,s=>this.addReplay(r,n,s));else if(i===2){let s;o.on(n,a=>{s?.(),s=this.addReplay(r,n,a)})}else{let s=new Oh;o.on(n,a=>{s.size===i.cap&&s.shift()?.(),s.push(this.addReplay(r,n,a))})}}filter(e,r){let n=this.replays.get(e);n&&n.applyFilter(r)}clearEvent(e,r){let n=`${e}.${r}`;this.filter(e,i=>i.event!==n)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},Xv=Symbol("ICdpProxyProvider"),dp=class{constructor(e,r,n){this.cdp=e;this.portTracker=r;this.logger=n;this.disposables=new Ie;this.replay=new zS;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let n of r)n.endsWith(QN)?e.pushDisposable(this.cdp.session.onPrefix(n.slice(0,-QN.length),i=>e.send({method:i.method,params:i.params}))):e.pushDisposable(this.cdp.session.on(n,i=>e.send({method:n,params:i})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",i=>{i.font&&this.replay.addReplay("CSS","fontsUpdated",i)}),e.CSS.on("styleSheetRemoved",i=>this.replay.filter("CSS",o=>o.params.styleSheetId!==i.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,n=e.address();return{host:n.address,port:n.port,path:r}}async createServer(){let e=`/${(0,ZN.randomBytes)(20).toString("hex")}`,r=await Kv(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",n=>{let i=new KS(n,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:i.id}),n.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:i.id}),this.disposables.disposeObject(i)}),n.on("message",async o=>{let s;try{s=JSON.parse(o.toString())}catch(d){return i.send({id:0,error:{code:-32700,message:d.message}})}this.logger.verbose("proxyActivity","received proxy message",s);let{method:a,params:c,id:u=0}=s,[l,p]=a.split(".");try{let d=l===YN?await this.invokeJsDebugDomainMethod(i,p,c):await this.invokeCdpMethod(i,l,p,c);i.send({id:u,result:d})}catch(d){let m=d instanceof Wc&&d.cause?d.cause:{code:0,message:d.message};i.send({id:u,error:m})}})}),{server:r,path:e}}dispose(){this.disposables.dispose(),this.server?.then(e=>e.server.close()),this.server=void 0}invokeCdpMethod(e,r,n,i){let o=this.cdp.session.sendOrDie(`${r}.${n}`,i);switch(n){case"enable":for(let s of this.replay.read(r))e.send({method:s.event,params:s.params});break;case"disable":this.replay.clearDomain(r);break;default:}return o}invokeJsDebugDomainMethod(e,r,n){if(!this.jsDebugApi.hasOwnProperty(r))throw new Wc(r).setCause(-32601,`${YN}.${r} not found`);return this.jsDebugApi[r](e,n)}};dp=E([(0,fp.injectable)(),b(0,(0,fp.inject)(bt)),b(1,(0,fp.inject)(dt)),b(2,(0,fp.inject)(ce))],dp);var wae=0,KS=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new Ie;this.id=wae++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var tj=require("./vendor/acorn-loose.js"),Kh=A(Z());var XS=cr(function(t,e,r){let n=r?"variable":"property",i=(l,p,d)=>{if(p!=="function")return n;if(l==="constructor")return"class";let m=String(d);return m.startsWith("class ")||m.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},o=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},s=[],a=new Set,c="~",u=t===void 0?this:t;for(;u!=null;u=u.__proto__){c+="~";let l=Object.getOwnPropertyNames(u).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let d=Object.getOwnPropertyDescriptor(u,p),m=n,f;try{let g=u[p];m=i(p,typeof d?.value,g),f=o(g)}catch{}s.push({label:p,sortText:c+p.replace(/^_+/,g=>"{".repeat(g.length)),type:m,detail:f})}r=!1}return{result:s,isArray:this instanceof Array}}),ej=Fc(XS.source);var xae=t=>{switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:t.key?.type==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:t.init?.type==="FunctionExpression"||t.init?.type==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function _ae(t){let e=!1;return ia(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,0}}),e}var Jv=Symbol("ICompletions"),hp=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=go(e.expression),n=new ca(e.expression).convert(e.position),i=()=>Promise.resolve([]);return ia(r,{enter:(o,s)=>{let a=o;if(a.start<n&&n<=a.end){if(o.type==="MemberExpression"||o.type==="Identifier"&&s?.type==="MemberExpression"&&!s.computed&&s.object!==o){let c=o.type==="MemberExpression"?o:s;i=c.computed?()=>this.elementAccessCompleter(e,c,n):()=>this.propertyAccessCompleter(e,c,n)}else o.type==="Identifier"&&(i=()=>this.identifierCompleter(e,r,o,n));s=o}}}),i().then(o=>o.sort((s,a)=>s.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,n){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let i=e.expression.slice(na(r.property)+1,n);return(await this.defaultCompletions(e,i)).filter(s=>s.sortText!=="~~[").map(s=>({...s,text:JSON.stringify(s.text??s.label)+"]",start:na(r.property),length:$I(r.property)-na(r.property)}))}async identifierCompleter(e,r,n,i){let o=[];ia(r,{enter(c){let u=xae(c);u?.id?.type==="Identifier"&&o.push({label:u.id.name,type:u.type,sortText:u.id.name})}});let s=e.expression.slice(na(n),i),a=[...o,...await this.defaultCompletions(e,s)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&cs.startsWith(s)&&a.push({sortText:`~${cs}`,label:cs,type:"variable"}),a}async propertyAccessCompleter(e,r,n){let{result:i,isArray:o}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:oO(e.expression,r.object),prefix:(0,tj.isDummy)(r.property)?"":e.expression.slice(na(r.property),n),throwOnSideEffect:_ae(r)}),s=na(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let c of i)a.test(c.label)||(c.text=`[${JSON.stringify(c.label)}]`,c.start=s,c.length=1);if(o){let c="index";i.unshift({label:`[${c}]`,text:`[${c}]`,type:"property",sortText:"~~[",start:s,selectionStart:1,selectionLength:c.length,length:1})}return i}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:n,prefix:i,isInGlobalScope:o=!1,throwOnSideEffect:s=!1}){let a={expression:`(${n})`,objectGroup:"console",silent:!0,throwOnSideEffect:s},c=r&&r.callFrameId(),u=await this.evaluator.evaluate(c?{...a,callFrameId:c}:{...a,contextId:e},{stackFrame:r});if(!u||u.exceptionDetails)return{result:[],isArray:!1};if(!u.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:ej.expr(`(${n})`,JSON.stringify(i),JSON.stringify(o))},p=await this.evaluator.evaluate(c?{...l,callFrameId:c}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await XS({cdp:this.cdp,args:[void 0,i,o],objectId:u.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:u.result.objectId})}}async defaultCompletions(e,r=""){for(let n of["self","global","this"]){let{result:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:n,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let o=r.toLowerCase(),s=new Set(i.map(a=>a.label));for(let a of await e.stackFrame.completions())s.has(a.label)||!a.label.toLowerCase().includes(o)||(s.add(a.label),i.push(a))}return i.push(...this.syntheticCompletions(e,r)),i}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&cs.startsWith(r)?[{sortText:`~${cs}`,label:cs,type:"variable"}]:[]}};hp=E([(0,Kh.injectable)(),b(0,(0,Kh.inject)(Kn)),b(1,(0,Kh.inject)(bt))],hp);var ib=A(xe());var Lo=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var Ij=A(_j());var Bae=1e4;function Nae(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function n(c){if(!c)return;let u=r[r.length-1];u?.type==="string"?u.value+=c:r.push({type:"string",value:c})}function i(c,u,l){r.push({type:"specifier",specifier:c,precision:u,substitutionIndex:l})}let o=0,s=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let c=a.exec(t);c;c=a.exec(t)){let u=c.index;if(u>o&&n(t.substring(o,u)),c[0]==="%%")n("%");else{let[,l,p,d]=c;l&&Number(l)>0&&(s=Number(l)-1);let m=p?Number(p):void 0;i(d,m,s),++s}o=u+c[0].length}return n(t.substring(o)),r}function eE(t,e,r){let n=Nae(t,Array.from(r.keys())),i=new Set,o=r.get("");if(!o)throw new Error("Expected to hav a default formatter");let s=new Lo(Bae),a=!1;for(let c=0;s.checkBudget()&&c<n.length;++c){let u=n[c];if(u.type==="string"){s.append(u.value);continue}let l=u.substitutionIndex;if(l>=e.length){s.append("%"+(u.precision||"")+u.specifier);continue}i.add(l),u.specifier==="c"&&(a=!0);let p=r.get(u.specifier)||o;s.append(p(e[l],{budget:s.budget(),quoted:!1}))}a&&s.append("\x1B[0m");for(let c=0;s.checkBudget()&&c<e.length;++c)i.has(c)||(i.add(c),(t||c)&&s.append(" "),s.append(o(e[c],{budget:s.budget(),quoted:!1})));return{result:s.build(),usedAllSubs:i.size===e.length}}function Aj(t){try{return new Ij.default(t).ansi256().object().ansi256}catch{}}function Sj(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",n=e.exec(t);for(;n!==null;){if(n.length===3)switch(n[1]){case"color":let i=Aj(n[2]);i&&(r+=`\x1B[38;5;${i}m`);break;case"background":case"background-color":let o=Aj(n[2]);o&&(r+=`\x1B[48;5;${o}m`);break;case"font-weight":n[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":n[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":n[2]==="underline"&&(r+="\x1B[4m");break;default:}n=e.exec(t)}return r}var Dj=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),Uae={budget:1e5,quoted:!0},Ej={budget:1e3,quoted:!0,postProcess:Dj},qae={budget:1/0,quoted:!1},Wae={budget:1e3,quoted:!0,postProcess:Dj},Vae={budget:1e5,quoted:!0},tb=t=>{switch(t){case"repl":return Uae;case"hover":return Ej;case"propertyValue":return Ej;case"watch":return Wae;case"copy":case"clipboard":return qae;default:return Vae}};var Gae=30,zae=100,tE=20,Kae=1e4,Xae=3,Cj=120,rE=new Set(["null","regexp","date"]);function ru(t){return t.type==="function"||t.type==="object"&&!rE.has(t.subtype)}function nE(t){return t.subtype==="array"||t.subtype==="typedarray"}function nu(t,e,r){let n=tb(e),i=rb(t,n,r);return t.preview?.subtype==="regexp"?i:n.postProcess?.(i)??i}function rb(t,e,r){return t.type==="function"?t.description?$j(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?nb(t.preview,e.budget,r):Tj(t,e.budget,e.quoted,r)}function nb(t,e,r){return nE(t)?Jae(t,e):t.subtype==="internal#entry"?Ho(t.description||"",e):t.type==="function"?$j(t.description,e):ru(t)?Yae(t,e,r):Zae(t,e,r)}function Jae(t,e){let r=new Lo(e),n=t.description,i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;let o=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring(5)),r.append(Ho(n,r.budget())),r.append(" ");let s=new Lo(r.budget()-2,", "),a=-1;for(let c of t.properties){if(!s.checkBudget())break;if(isNaN(c.name))continue;let u=parseInt(c.name,10);u>a+1&&s.appendEllipsis(),a=u,s.append(Qh(c,s.budget()))}o>a+1&&s.appendEllipsis();for(let c of t.properties){if(!s.checkBudget())break;isNaN(c.name)&&s.append(Qh(c,s.budget(),c.name))}return t.overflow&&s.appendEllipsis(),r.append("["+s.build()+"]"),r.build()}function Yae(t,e,r){let n=new Lo(e," ");t.description!=="Object"&&n.append(Ho(t.description,n.budget()));let i=new Map,o=t.properties||[];for(let d of o)i.set(d.name,d);let s=i.get("[[PrimitiveValue]]");if(s)return n.append(`(${Qh(s,n.budget()-2)})`),n.build();let a=i.get("[[PromiseStatus]]"),c=i.get("[[PromiseValue]]");if(a&&c)return a.value==="pending"?n.append(`{<${a.value}>}`):n.append(`{${Qh(c,n.budget()-2,`<${a.value}>`)}}`),n.build();let u=i.get("[[GeneratorStatus]]");if(u)return n.append(`{<${u.value}>}`),n.build();let l=new Lo(n.budget()-2,", ");for(let d of o){if(!l.checkBudget())break;l.append(Qh(d,l.budget(),d.name))}for(let d of t.entries||[]){if(!l.checkBudget())break;if(d.key){let m=nb(d.key,Math.min(tE,l.budget()),r),f=nb(d.value,Math.min(tE,l.budget()-m.length-4),r);l.append(Hp(m," => ",f,l.budget()))}else l.append(nb(d.value,Math.min(tE,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?n.append("{"+p+"}"):n.isEmpty()&&n.append("{}"),n.build()}function Pj(t,e){return t.length<=e?t:"\u2026"}function Qae(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function Zae(t,e,r){if(t.type==="object"&&t.subtype==="null")return Pj("null",e);if(t.type==="undefined")return Pj("undefined",e);if(t.type==="string"){let n=t.description??t.value;return r?.hex&&(n=Buffer.from(n,"utf8").toString("hex")),Ll(n,e)}return t.type==="number"||t.type==="bigint"?Zh(t,!1,e,r):Qae(t.description||"",e)}function Hp(t,e,r,n){return t===void 0?Ll(r,n):t.length+e.length>n?Ho(t,n):`${t}${e}${Ll(r,n-t.length-e.length)}`}function Qh(t,e,r){return e=Math.min(e,zae),t.type==="function"?Hp(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?Hp(r,": ","{\u2026}",e):typeof t.value>"u"?Hp(r,": ",`<${t.type}>`,e):t.type==="string"?Hp(r,": ",`'${t.value}'`,e):Hp(r,": ",t.value??"unknown",e)}function Tj(t,e,r,n){if(t.type==="string"){let i=t.value||(t.description?t.description:"");n?.hex&&(i=Buffer.from(i,"utf8").toString("hex"),r=!1);let o=Ll(i,r?e-2:e);return r?`'${o}'`:o}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?Zh(t,!1,e,n):t.description?Ho(t.description,Math.max(e,1e5)):Ho(String("value"in t?t.value:t.description),e)}function $j(t,e){let r=new Lo(e),n=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),o=n.startsWith("function*"),s=n.startsWith("*"),a=!o&&n.startsWith("function"),c=n.startsWith("class ")||n.startsWith("class{"),u=n.indexOf("=>"),l=!i&&!o&&!a&&!c&&u>0,p;if(c){p=n.substring(5);let f=/^[^{\s]+/.exec(p.trim()),g="";f&&(g=f[0].trim()||""),m("class",p,g)}else if(i)p=n.substring(i[1].length),m("async \u0192",p,d(p));else if(o)p=n.substring(9),m("\u0192*",p,d(p));else if(s)p=n.substring(1),m("\u0192*",p,d(p));else if(a)p=n.substring(8),m("\u0192",p,d(p));else if(l){let f=n;n.length>Gae&&(f=n.substring(0,u+2)+" {\u2026}"),m("",n,f)}else m("\u0192",n,d(n));return r.build();function d(f){let g=f.indexOf("("),v=f.match(/\)\s*{/),x=v&&v.index||0;if(g!==-1&&v&&x>g){let C=f.substring(0,g).trim()||"",$=f.substring(g,x+1);return C+$}return"()"}function m(f,g,v){r.checkBudget()&&(f.length&&r.append(f+" "),g=g.trim(),g.endsWith(" { [native code] }")&&(g=g.substring(0,g.length-18)),r.budget()>=g.length?r.append(g):r.append(v.replace(/\n/g," ")))}}function iu(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:Tj(e,Kae,!1,void 0)};let r=e.description??e.className??"Error",n=/^\s+at\s/m.exec(r);if(!n){let i=r.lastIndexOf(`
`);return i===-1?{title:r}:{title:r.substring(0,i)}}return{title:r.substring(0,n.index-1),stackTrace:r.substring(n.index+2)}}function Zh(t,e,r,n){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let s=t.value||+t.description;return n?.hex?s.toString(16):String(s)}if(t.type==="bigint"){let s=t.unserializableValue||t.description;return n?.hex?BigInt(s.slice(0,-1)).toString(16):s}let i=t,o=typeof i.value=="number"?i.value:+String(i.description);return Ho(String(e?Math.floor(o):o),r)}function ece(t,e){return Ll(String(typeof t.value<"u"?t.value:t.description),e)}function kj(t){let e=[],r=new Set([void 0]),n=new Map;for(let l of t.properties.filter(p=>p.valuePreview)){let p=new Map;p.set(void 0,l.name),n.set(void 0,Math.max(n.get(void 0)||0,l.name.length)),e.push(p),l.valuePreview?.properties.map(d=>{d.value&&(r.add(d.name),p.set(d.name,d.value),n.set(d.name,Math.max(n.get(d.name)||0,d.value.length)))})}for(let l of r.values())l&&n.set(l,Math.max(n.get(l)||0,l.length));let i=Array.from(n.values()).reduce((l,p)=>l+p,0),o=Cj-4-(r.size-1)*3;if(i>o){let l=o/i;for(let p of n.keys()){let d=Math.max(Xae,n.get(p)*l|0);n.set(p,d)}}let s=[];for(let l of r.values())s.push("-".repeat(n.get(l)));let a="[-"+s.join("-|-")+"-]",c=[];c.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let u=[];for(let l of r.values())u.push(Lj(l||"",n.get(l)));c.push("\u250A "+u.join(" \u250A ")+" \u250A"),c.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let l of e){let p=[];for(let d of r.values())p.push(Lj(l.get(d)||"",n.get(d)));c.push("\u250A "+p.join(" \u250A ")+" \u250A")}return c.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),c.map(l=>Ho(l,Cj)).join(`
`)}var iE=new Map([["",(t,e)=>rb(t,e)],["s",(t,e)=>ece(t,e.budget)],["i",(t,e)=>Zh(t,!0,e.budget,void 0)],["d",(t,e)=>Zh(t,!0,e.budget,void 0)],["f",(t,e)=>Zh(t,!1,e.budget,void 0)],["c",t=>Sj(t.value)],["o",(t,e)=>rb(t,e)],["O",(t,e)=>rb(t,e)]]);function Lj(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):Ho(t,e)}var Mj=cr(function(){return this});var ob=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:ib.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:ib.t("Could not query the provided object")};let n;try{n=await Mj({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(s){return{category:"stderr",output:ib.t(s.message)}}let i="\x1B[32mobjects: "+nu(n,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(i,[n]).id}}};var Oj=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,Fj=/^(\W*at )(.*):(\d+):(\d+)$/,xa=class{constructor(e){this.stack=e}static isStackLike(e){return Oj.test(e)||Fj.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=Oj.exec(e)||Fj.exec(e);if(!r){yield e+`
`;continue}let[,n,i,o,s,a]=r;n&&(yield n),yield new oE(i,new qt(Number(o),Number(s))),a&&(yield a),yield`
`}}},oE=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var fn=A(xe());var em=A(Z());async function sE(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:Qr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var tce=new Set(["breakpoint","exception","entry"]),rce=256,_a=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||tce.has(e.reason))return;let n=(await e.stackTrace.loadFrames(1)).find(Dc(qr));if((n&&await sE(n))===0){this.resetSmartStepCount();return}return this._smartStepCount++>rce?2:r?.reason==="step"?r.direction:0}};_a=E([(0,em.injectable)(),b(0,(0,em.inject)(Me)),b(1,(0,em.inject)(ce))],_a);var Bj=cr(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),Nj=Fc(function(t,e){let r={},n="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[i,o]of Object.entries(this)){if(e)try{let s=e.call(o,n);if(s!==n){r[i]=String(s);continue}}catch(s){r[i]=`<<indescribable>>${JSON.stringify([String(s),i])}`;continue}if(typeof o=="object"&&o){let s;for(let a of runtimeArgs[0])try{s=o[a]();break}catch{}!s&&!String(o.toString).includes("[native code]")&&(s=String(o)),s&&!s.startsWith("[object ")&&(r[i]=s.length>=t?s.slice(0,t)+"\u2026":s)}}return r}),sb=Fc(function(t,e){if(e)try{let r="<<default preview>>",n=e.call(this,r);if(n!==r)return String(n)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this){let r;for(let n of[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")])try{r=this[n]();break}catch{}if(!r&&!String(this.toString).includes("[native code]")&&(r=String(this)),r&&!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var je=A(xe()),e3=require("crypto");var ei=class t{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new t().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],n=this.value[0]-e.value[0];return r<0&&(r+=1e9,n--),new t([n,r])}};var yp=class{constructor(e,r,n,i,o,s){this.launchConfig=e;this.targetInfo=r;this.parentTarget=n;this.targetOriginValue=i;this.cdp=o;this.logger=s;this.onNameChanged=new Y().event;this.attached=!1;this.isWaitingForDebugger=!0;o.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ne(e):e}executionContextName(){return this.targetInfo.title}};var ft=A(xe()),ab=new Map;function vp(){if(ab.size)return ab;function t(o,s){for(let a of s)a.group=o,ab.set(a.id,a)}function e(o,s){let a=s||o;return{id:"instrumentation:"+o,title:a,group:"",details:c=>{if(o==="webglErrorFired"){let u=c.webglErrorName;return u=u.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:u,long:ft.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',u)}}return o==="scriptBlockedByCSP"&&c.directiveText?{short:ft.t('CSP violation "{0}"',c.directiveText),long:ft.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',c.directiveText)}:{short:a,long:ft.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(c,u)=>(u?await c.EventBreakpoints.setInstrumentationBreakpoint({eventName:o}):await c.EventBreakpoints.removeInstrumentationBreakpoint({eventName:o}))?!0:!!(u?await c.DOMDebugger.setInstrumentationBreakpoint({eventName:o}):await c.DOMDebugger.removeInstrumentationBreakpoint({eventName:o}))}}function r(o,s,a){let c=s===void 0?"*":typeof s=="string"?[s]:s;return{id:"listener:"+o,title:a||o,group:"",details:u=>{let l=(u.targetName||"*").toLowerCase();return{short:l+"."+o,long:ft.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',o,l)}},apply:async(u,l)=>{let p=!0;for(let d of c)l?p=p&&!!await u.DOMDebugger.setEventListenerBreakpoint({eventName:o,targetName:d}):p=p&&!!await u.DOMDebugger.removeEventListenerBreakpoint({eventName:o,targetName:d});return p}}}t("Ad Auction Worklet",[e("beforeBidderWorkletBiddingStart",ft.t("Bidder Bidding Phase Start")),e("beforeBidderWorkletReportingStart",ft.t("Bidder Reporting Phase Start")),e("beforeSellerWorkletScoringStart",ft.t("Seller Scoring Phase Start")),e("beforeSellerWorkletReportingStart",ft.t("Seller Reporting Phase Start"))]),t("Animation",[e("requestAnimationFrame",ft.t("Request Animation Frame")),e("cancelAnimationFrame",ft.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",ft.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",ft.t("Create canvas context")),e("webglErrorFired",ft.t("WebGL Error Fired")),e("webglWarningFired",ft.t("WebGL Warning Fired"))]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("scrollend"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / Drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate"),r("navigate"),r("navigatesuccess"),r("navigateerror"),r("currentchange"),r("nagivateto"),r("navigatefrom"),r("finish"),r("dispose")]);let n=["audio","video"];t("Media",[r("play",n),r("pause",n),r("playing",n),r("canplay",n),r("canplaythrough",n),r("seeking",n),r("seeked",n),r("timeupdate",n),r("ended",n),r("ratechange",n),r("durationchange",n),r("volumechange",n),r("loadstart",n),r("progress",n),r("suspend",n),r("abort",n),r("error",n),r("emptied",n),r("stalled",n),r("loadedmetadata",n),r("loadeddata",n),r("waiting",n)]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",ft.t("Set innerHTML")),e("Document.write","document.write")]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow"),r("enter","documentPictureInPicture")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture"),r("pointerrawupdate")]),t("Script",[e("scriptFirstStatement",ft.t("Script First Statement")),e("scriptBlockedByCSP",ft.t("Script Blocked by Content Security Policy"))]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",ft.t("setTimeout fired")),e("setInterval.callback",ft.t("setInterval fired"))]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("WebAudio",[e("audioContextCreated",ft.t("Create AudioContext")),e("audioContextClosed",ft.t("Close AudioContext")),e("audioContextResumed",ft.t("Resume AudioContext")),e("audioContextSuspended",ft.t("Suspend AudioContext"))]),t("Window",[e("DOMWindow.close","window.close")]),t("Worker",[r("message"),r("messageerror")]);let i=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",i),r("load",i),r("loadstart",i),r("loadend",i),r("abort",i),r("error",i),r("progress",i),r("timeout",i)]),ab}var aE=Fc(function(t,e){let r=" ".repeat(e),n=`
`;function i(s){if(s instanceof Uint8Array)return Uint8Array;if(s instanceof Uint8ClampedArray)return Uint8ClampedArray;if(s instanceof Uint16Array)return Uint16Array;if(s instanceof Uint32Array)return Uint32Array;if(s instanceof BigUint64Array)return BigUint64Array;if(s instanceof Int8Array)return Int8Array;if(s instanceof Int32Array)return Int32Array;if(s instanceof BigInt64Array)return BigInt64Array;if(s instanceof Float32Array)return Float32Array;if(s instanceof Float64Array)return Float64Array}function o(s,a=0,c=[]){switch(typeof s){case"bigint":return`${s}n`;case"boolean":return s.toString();case"function":{let p=s.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),d=/^$/;for(let m of p){let f=/^[ \t]+/.exec(m);if(f){d=new RegExp(`^[ \\t]{0,${f[0].length}}`);break}}return p.map((m,f)=>f===0?m:(m=m.replace(d,""),f===p.length-1?r.repeat(a)+m:r.repeat(a+1)+m)).join(n)}case"number":return`${s}`;case"object":if(s===null)return"null";if(c.includes(s))return"[Circular]";if(s instanceof Date)return`"${s.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let u=i(s);if(u)return`new ${u.name}([${s.join(", ")}])`;if(s instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(s).join(", ")}]).buffer`;if(s instanceof Array)return["[",...s.map(p=>r.repeat(a+1)+o(p,a+1,[...c,s])+","),r.repeat(a)+"]"].join(n);let l=s;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+o(l[p],a+1,[...c,s])+","),r.repeat(a)+"}"].join(n);case"string":return JSON.stringify(s);case"symbol":return s.toString();case"undefined":return"undefined";default:return String(s)}}try{return o(t)}catch{return""+t}}),jj=cr(`
  function(spaces2) {
    const result = ${aE.expr("this","spaces2")};
    return result;
  }
`);var Li=A(xe());var ou=A(Z());var Uj=cr(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let n=e[r],i=n>>>0;if(String(i>>>0)===n&&i>>>0!==4294967295)continue;let o=Object.getOwnPropertyDescriptor(this,n);o&&Object.defineProperty(t,n,o)}return t});var qj=cr(function(t,e){let r={},n=t===-1?0:t,i=e===-1?this.length:t+e;for(let o=n;o<i&&o<this.length;++o){let s=Object.getOwnPropertyDescriptor(this,o);s&&Object.defineProperty(r,o,s)}return r});var Wj=cr(function(t){return t.call(this)});var cE=cr(function(t,e){let{buffer:r,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=i+Math.min(t,n),s=Math.max(0,Math.min(e,n-t));return a(new Uint8Array(r,o,s));function a(c){let u="0123456789abcdef",l="";for(let p=0;p<c.length;p++){let d=c[p];l+=u[d>>>4]+u[d&15]}return l}});var uE=cr(function(t,e){let r=c(e),{buffer:n,byteLength:i,byteOffset:o}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=o+Math.min(t,i),a=Math.max(0,Math.min(r.length,i-t));return new Uint8Array(n,s,a).set(r.subarray(0,a)),a;function c(u){let l=new Uint8Array(u.length>>>1);for(let p=0;p<u.length;p+=2)l[p>>>1]=parseInt(u.slice(p,p+2),16);return l}});var im=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),wE=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},ice=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var Jj=1024,oce=/^[$a-z_][0-9a-z_$]*$/i,sce=/^#[0-9a-z_$]+$/i,ace=t=>t.hasOwnProperty("configurable"),Vj=(t,e,r)=>{let n=sO(t,jy(e),r);return os(n)},Gj="<<indescribable>>",Yj=t=>{if(!t.startsWith(Gj))return t;let e,r;try{[e,r]=JSON.parse(t.slice(Gj.length))}catch{return t}return Li.t("{0} (couldn't describe: {1})",e,r)},lE=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,zj={PARAMETER:{name:Li.t("Parameters"),sortOrder:-10},LOCAL:{name:Li.t("Locals"),sortOrder:-9},GLOBAL:{name:Li.t("Globals"),sortOrder:-8}},tm=class t{constructor(e,r,n,i,o,s,a){this.cdp=e;this.parent=r;this.vars=i;this.locationProvider=o;this.currentRef=s;this.settings=a;this.name=n.name,this.presentationHint=n.presentationHint,this.sortOrder=n.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...n){let i=new e(new t(this.cdp,this.currentRef?.(),r,this.vars,this.locationProvider,()=>i,this.settings),...n);return i.id>0&&this.vars.add(i),i}createVariableByType(e,r,n){if(nE(r))return this.createVariable(lb,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(mE,e,r,n);if(!rE.has(r.subtype))return this.createVariable(rm,e,r,n)}return this.createVariable(ti,e,r)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=Bj({cdp:this.cdp,args:[],objectId:e}).then(r=>({objectId:r.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,r){let n=[];if(this.settings.customPropertiesGenerator){let{result:u,errorDescription:l}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);u&&u.type!=="undefined"?e=u:n.push([this.createVariable(hE,{name:"",sortOrder:-1},u,u?.description||l||Li.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[i,o,s]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:Nj.decl(`${Jj}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(u=>u?.result.value||{}).catch(()=>({}))]);if(!i||!o)return[];let a=new Map,c=[];for(let u of i.result){if(u.symbol){c.push(u);continue}u.name==="__proto__"&&o.internalProperties?.some(l=>l.name==="[[Prototype]]")||a.set(u.name,u)}for(let u of o.result)u.get||u.set||(u.symbol?c.push(u):a.set(u.name,u));for(let u of[a.values(),c.values()])for(let l of u)n.push(this.createPropertyVar(l,e,s?.hasOwnProperty(l.name)?Yj(s[l.name]):void 0));for(let u of o.privateProperties??[])n.push(this.createPropertyVar(u,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let u of o.internalProperties||[]){if(u.name==="[[StableObjectId]]")continue;let l;u.name==="[[FunctionLocation]]"&&u.value&&u.value.subtype==="internal#location"?l=this.createVariable(fE,{name:u.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},u.value):u.value!==void 0&&(l=this.createVariableByType({name:u.name,presentationHint:{visibility:"internal"},sortOrder:2},u.value)),l&&n.push([l])}return Zo(await Promise.all(n))}async createPropertyVar(e,r,n,i){let o=[],s=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",c={name:e.name,presentationHint:{},sortOrder:0,...i};return i||(ace(e)?(e.enumerable===!1&&!s&&(c.presentationHint.visibility="internal",c.sortOrder=1),(e.writable===!1||s&&!a)&&(c.presentationHint.attributes=["readOnly"])):(c.presentationHint.visibility="private",c.sortOrder=1)),"value"in e&&e.value&&o.push(this.createVariableByType(c,e.value,n)),s?o.push(this.createVariable(yE,c,e.get,r)):a&&o.push(this.createVariable(HE,c,e.set)),o}async evaluateCodeForObject(e,r,n){try{let i=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:n.map(wE)});if(i){if(i.exceptionDetails===void 0)return{result:i.result};if(i&&i.result.description)return{errorDescription:i.result.description}}return{errorDescription:Li.t("Unknown error")}}catch(i){return{errorDescription:i.stack||i.message||String(i)}}}},cce=t=>typeof t=="number"||/^[0-9]+$/.test(t),ti=class t{constructor(e,r){this.context=e;this.remoteObject=r;this.id=im()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(e instanceof nm)return e.accessor;if(!(e instanceof t))return this.context.name;let n=e.context.parent;if(n instanceof t){if(this.remoteObject.subtype==="internal#entry")return`[...${n.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return cce(r)?`${e.accessor}[${r}]`:oce.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&sce.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let n=this.context.name;return this.context.parent instanceof bp&&(n=await this.context.parent.getRename(n)),Promise.resolve({name:n,value:nu(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let n=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${vt()} }`,arguments:[wE(e)],silent:!0});if(!n)throw new re(Ze(Li.t("Unable to set variable value")));if(n.exceptionDetails)throw new re(Qj(n.exceptionDetails));return this.context.createVariableByType({name:e},n.result)}async getChildren(e){return Promise.resolve([])}},cb=class{constructor(e){this.child=e;this.id=im()}getChildren(){return Promise.resolve([this.child])}},pE=class extends ti{constructor(r,n,i,o){super(r,{type:i[0]?.type??"string"});this.value=n;this.args=i;this.stackTrace=o}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(ru)?this.id:0})}getChildren(r){let n=[],{args:i,stackTrace:o}=this;for(let s=0;s<i.length;++s)ru(i[s])&&n.push(this.context.createVariableByType({name:`arg${s}`,sortOrder:s},i[s]));return o&&n.push(this.context.createVariable(dE,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,o)),Promise.resolve(n)}},dE=class extends ti{constructor(r,n,i){super(r,n);this.stacktrace=i}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},fE=class extends ti{constructor(r,n){super(r,n);this.location=n.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},hE=class extends ti{constructor(r,n,i){super(r,n);this.message=i}get accessor(){if(!(this.context.parent instanceof ti))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},ub=Symbol("NoStringRepr"),rm=class extends ti{constructor(r,n,i){super(r,n);this.customStringRepr=i}async toDap(r,n){let[i,o]=await Promise.all([await super.toDap(r,n),await this.getValueRepresentation(r)]);return{...i,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:ice.has(this.remoteObject.subtype)?String(this.id):void 0,value:o}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==ub)try{let n=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:sb.decl(`${Jj}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(n?.result.value)return this.customStringRepr=Yj(n.result.value)}catch{this.customStringRepr=ub}return this.context.name==="__proto__"&&this.remoteObject.description||nu(this.remoteObject,r)}async readMemory(r,n){let i=await cE({cdp:this.context.cdp,args:[r,n],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(i.value,"hex")}async writeMemory(r,n){return(await uE({cdp:this.context.cdp,args:[r,n.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},Kj="[[Entries]]",mE=class extends rm{constructor(r,n){super(r,n,ub);this.baseChildren=_e(()=>super.getChildren({variablesReference:this.id}));this.isMap=n.subtype==="map";let i=n.preview;this.size=Number(i?.properties.find(o=>o.name==="size")?.value)??void 0}async toDap(r){let n=await super.toDap(r);return this.size&&this.size>100&&(n.indexedVariables=this.size),n}async getChildren(r){let n=await this.baseChildren();return[...(await n.find(o=>o.name===Kj)?.getChildren(r)||[]).filter(o=>o.sortOrder===0),...n.filter(o=>o.name!==Kj)]}},lb=class extends rm{constructor(r,n){super(r,n,ub);this.length=0;let i=String(n.description).match(/\(([0-9]+)\)/);this.length=i?+i[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r?.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Zo)}}async getArrayProperties(){try{let r=await Uj({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let n=r&&typeof r.start<"u"?r.start:-1,i=r&&typeof r.count<"u"?r.count:-1,o;try{o=await qj({cdp:this.context.cdp,generatePreview:!1,args:[n,i],objectId:this.remoteObject.objectId})}catch{return[]}let s=await this.context.createObjectPropertyVars(o);return o.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:o.objectId}),s}},gE=class extends lb{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:kj(this.remoteObject.preview)}:super.toDap(e)}},nm=class extends ti{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},HE=class extends nm{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},yE=class extends nm{constructor(r,n,i){super(r,n);this.parentObject=i}async toDap(r,n){let i=await super.toDap(r,n);return i.variablesReference=this.id,i.presentationHint={...i.presentationHint,lazy:!0},i}async getChildren(r){try{let n=await Wj({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new vh(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},n)]}catch(n){if(!(n instanceof Oc))throw n}return super.getChildren(r)}},pb=class t{constructor(e,r,n){this.context=e;this.variable=r;this.scopeRef=n;this.id=im();this.sortOrder=0}static{this.presentationHint={attributes:["readOnly"]}}toDap(){return Promise.resolve({name:this.context.name,value:this.variable.description||"",variablesReference:this.variable.getChildren?this.id:0,memoryReference:this.variable.linearMemoryAddress?String(this.id):void 0,presentationHint:this.context.presentationHint})}async getChildren(){return(await this.variable.getChildren?.()||[]).map(r=>this.context.createVariable(t,{name:r.name,presentationHint:t.presentationHint},r.value,this.scopeRef))}async readMemory(e,r){let n=this.variable.linearMemoryAddress;if(n===void 0)return;let i=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${cE.source}).call(memories[0].buffer, ${+n+e}, ${+r}) ${vt()}`,returnByValue:!0});if(!i)throw new Oc({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});return Buffer.from(i.result.value,"hex")}async writeMemory(e,r){let n=this.variable.linearMemoryAddress;return n===void 0?0:(await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${uE.source}).call(memories[0].buffer, ${+n+e}, ${JSON.stringify(r.toString("hex"))}) ${vt()}`,returnByValue:!0}))?.result.value||0}},vE=class{constructor(e,r,n,i){this.context=e;this.kind=r;this.variables=n;this.scopeRef=i;this.id=im();this.sortOrder=zj[this.kind]?.sortOrder||0}toDap(){return Promise.resolve({name:zj[this.kind]?.name||this.kind,value:"",variablesReference:this.id})}getChildren(){return Promise.all(this.variables.map(async e=>{let r=await e.evaluate();return this.context.createVariable(pb,{name:e.name,presentationHint:pb.presentationHint},r,this.scopeRef)}))}},bp=class{constructor(e,r,n,i,o){this.remoteObject=e;this.context=r;this.ref=n;this.extraProperties=i;this.renameProvider=o;this.id=im()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),n=new Set(r.map(i=>i.name));for(let i of this.extraProperties)n.has(i.name)||r.push(this.context.createVariableByType({name:i.name},i.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let n=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${vt()}`,callFrameId:this.ref.callFrameId});if(!n)throw new re(tt(Li.t("Invalid expression")));if(n.exceptionDetails)throw new re(Qj(n.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:wE(n.result)}),this.context.createVariableByType({name:e},n.result)}},bE=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},Aa=class{constructor(e,r,n,i,o){this.renameProvider=e;this.cdp=r;this.dap=n;this.launchConfig=i;this.locationProvider=o;this.vars=new bE;this.contextSettings={customDescriptionGenerator:i.customDescriptionGenerator&&Vj(["defaultValue"],i.customDescriptionGenerator,!1),customPropertiesGenerator:i.customPropertiesGenerator&&Vj([],i.customPropertiesGenerator,!1)}}createDetached(){return new Aa(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,n,i){let o=this.createFloatingContext(),s=r.length===1&&i==="table"?o.createVariable(gE,{name:""},r[0]):r.length===1&&ru(r[0])&&!n?o.createVariableByType({name:""},r[0]):o.createVariable(pE,{name:""},e,r,n),a=new cb(s);return this.vars.add(a),a}createScope(e,r,n){let i=new bp(e,new tm(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),r,n,this.renameProvider);return this.vars.add(i),i}createWasmScope(e,r,n){let i=new vE(new tm(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),e,r,n);return this.vars.add(i),i}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return lE(this.vars.get(Number(e)))}async readMemory(e,r,n){let i=this.vars.get(Number(e));return lE(i)?i.readMemory(r,n):void 0}async writeMemory(e,r,n){let i=this.vars.get(Number(e)),o=lE(i)?await i.writeMemory(r,n):0;return o>0&&this.dap.invalidated({areas:["variables"]}),o}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(Dc(ti)).map(i=>i.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let n=await r.getChildren(e);return(await Promise.all(n.map(o=>o.toDap(r instanceof bp||r instanceof cb?"repl":"propertyValue",e.format).then(s=>({v:o,dap:s}))))).sort((o,s)=>o.v.sortOrder-s.v.sortOrder||+o.dap.name-+s.dap.name||o.dap.name.localeCompare(s.dap.name)).map(o=>o.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new re(tt(Li.t("Cannot set an empty value")));if(r instanceof bp||r instanceof ti)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new re(Ze(Li.t("Variable not found")))}createFloatingContext(){return new tm(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};Aa=E([(0,ou.injectable)(),b(0,(0,ou.inject)(fa)),b(1,(0,ou.inject)(bt)),b(2,(0,ou.inject)(sn)),b(3,(0,ou.inject)(Me))],Aa);function Qj(t){let e=t.exception&&iu(t.exception).title||t.text;return tt(e)}var db=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let n=await r.source;n.filterScripts(i=>i.executionContextId!==this.description.id),n.scripts.length||e.removeSource(n)}))}},xE=class{constructor(e){this._obj=e;this._dapDeferred=We()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},lce=50,Zj=(t,e)=>t.sourceReference===e.sourceReference&&Qy(t.path||"",e.path||""),pce=()=>`
//# sourceURL=eval-${(0,e3.randomBytes)(4).toString("hex")}.repl
`,_E=class{enqueue(e,r){if(!this.queue||this.queue.operation!==e){let n=this.queue?.result.then(r,r)??r(),i=this.queue={operation:e,result:n.finally(()=>{this.queue===i&&(this.queue=void 0)})}}return this.queue.result}};var wp=class t{constructor(e,r,n,i,o,s,a,c,u,l,p,d,m,f){this.target=i;this.logger=s;this.evaluator=a;this.completer=c;this.launchConfig=u;this._breakpointManager=l;this.console=p;this.exceptionPause=d;this._smartStepper=m;this.shutdown=f;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new _E;this._onPausedEmitter=new Y;this.disposed=!1;this.debuggerReady=We();this.onPaused=this._onPausedEmitter.event;this._dap=new xE(n),this._sourceContainer=e,this._cdp=r,this.id=t._lastThreadId++,this.replVariables=new Aa(o,this._cdp,n,u,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}static{this._lastThreadId=0}static{this._allThreadsByDebuggerId=new Map}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Ze(je.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Ze(je.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>{this._expectedPauseReason={reason:"step",direction:1};let e=await this.getCurrentSkipList(1);return await this._cdp.Debugger.stepOver({skipList:e})?{}:Ze(je.t("Unable to step next"))})}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=this._pausedDetails?.stepInTargets?.[e];if(r){let n=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=n?.breakpointId,await this._cdp.Debugger.resume({}))return{}}else{let n=await this.getCurrentSkipList(0);if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0,skipList:n}))return{}}return Ze(je.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Ze(je.t("Unable to step out"))))}async getCurrentSkipList(e){if(!this._pausedDetails)return;let[r]=await this._pausedDetails.stackTrace.loadFrames(1);if(!r||!t3(r))return;let n=await r.getStepSkipList(e);if(n)return Ci.simplify(n).map(i=>({start:i.begin.base0,end:i.end.base0,scriptId:r.root.scriptId}))}_stackFrameNotFoundError(){return Ze(je.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Ze(je.t("Unable to evaluate on async stack frame"))}async restartFrame(e){let r=this._pausedDetails?.stackTrace.frame(e.frameId)?.root;if(!r)return this._stackFrameNotFoundError();let n=r.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:je.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):tt(je.t("Frame could not be restarted")):tt(je.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Ze(je.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Ze(je.t("Thread is not paused on exception"));let r=iu(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let r;if(e.frameId!==void 0){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId)?.root:void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let n=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new qt(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...n]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(n=>`cd ${this.target.executionContextName(n.description)}`).filter(n=>n.startsWith(r)).map(n=>({label:n,start:0,length:e.text.length}))}async _evaluteWasm(e,r,n){if(!e)return;let i=e.root,o=i.callFrameId(),s=await i.scriptSource?.source;if(!zc(s)||!o)return;let a=await s.sourceMap.value.promise;if(!a.evaluate)return;let c=new It(e instanceof sm?e.inlineFrameIndex:0,i.rawPosition.base0.columnNumber),u=await a.evaluate(o,c,r.expression);if(u)return await n.createFloatingVariable(r.expression,u).toDap(r.context,r.format)}async _evaluteJs(e,r,n){let i=e?.root.callFrameId(),o=r.context==="clipboard"?{expression:aE.expr(r.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:r.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:r.context==="hover"?this.getHoverEvalTimeout():void 0};if(r.context==="repl"){if(o.expression=yh(o.expression),o.expression.indexOf("await")!==-1){let c=dO(o.expression);c&&(o.expression=c,o.awaitPromise=!0)}o.expression+=pce()}r.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:r.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(i?{...o,callFrameId:i}:{...o,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:e?.root});if(r.context==="repl")return await this._evaluateRepl(r,s,r.format);let a=await s;if(!a)throw new re(Ze(je.t("Unable to evaluate")));if(a.exceptionDetails){let c=a.exceptionDetails.exception?iu(a.exceptionDetails.exception).title:a.exceptionDetails.text;throw c.startsWith("Uncaught")||(c="Uncaught "+c),new re(Ze(c))}return n.createFloatingVariable(o.expression,a.result).toDap(r.context,r.format)}async evaluate(e){let r,n;if(e.frameId!==void 0){if(n=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!n)throw new re(this._stackFrameNotFoundError());if(r=n.root.callFrameId(),!r)throw new re(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let s=e.expression.substring(3).trim();for(let a of this._executionContexts.values())if(this.target.executionContextName(a.description)===s)return this._selectedContext=a,{result:`[${s}]`,variablesReference:0}}let i=r?this._pausedVariables:this.replVariables;if(!i)throw new re(Ze(je.t("Unable to evaluate")));let o=await this._evaluteWasm(n,e,i)??await this._evaluteJs(n,e,i);return{type:o.type,result:o.value,variablesReference:o.variablesReference,namedVariables:o.namedVariables,indexedVariables:o.indexedVariables,memoryReference:o.memoryReference}}getHoverEvalTimeout(){let e=this.launchConfig.timeouts?.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,n){let i=await r;if(!i)return{name:e.expression,value:"",variablesReference:0};if(i.exceptionDetails){let c=await new om(i.exceptionDetails).toDap(this);throw new re(U1(c.output))}let o=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",s=await this.replVariables.createFloatingVariable(e.expression,i.result).toDap("repl",n),a=tb("repl").budget;return s.variablesReference===0&&s.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:je.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...s,value:`${o}${s.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new om(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new ob(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){let r=this._pausedDetails;if(!r)return[];let n=r.stackTrace.frames.find(l=>l.frameId===e);if(!(n instanceof qr))return[];let i=await n.uiLocation();if(!i)return[];let o=r.event.callFrames[0].location,[s,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,i.source,new qt(i.lineNumber,1),new qt(i.lineNumber+1,1)).then(l=>l.filter(p=>p.breakLocation.lineNumber!==o.lineNumber||p.breakLocation.columnNumber!==o.columnNumber)),i.source.content()]),c=r.stepInTargets?.length||0;r.stepInTargets=r.stepInTargets?.concat(s)||s;let u=a&&new ca(a);return s.map((l,p)=>{let d=l.uiLocations.find(f=>f.source===i.source);if(!d)return;if(!u)return{id:c+p,label:`Column ${d}`,line:d.lineNumber,column:d.columnNumber};let m=fO(a.slice(u.getLineOffset(d.lineNumber-1),u.getLineOffset(d.lineNumber)),d.columnNumber-1);if(m)return{id:c+p,label:m.text,line:d.lineNumber,column:m.start+1,endLine:d.lineNumber,endColumn:m.end+1}}).filter(Pt)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=await this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new db(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&t._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){let r=e.hitBreakpoints??[],n=e.reason==="Break on start"||e.reason==="debugCommand",i=e.callFrames[0]?.location,o=e.data?.scriptId||i?.scriptId,s=o&&(e.reason==="instrumentation"||this._breakpointManager.isEntrypointBreak(r,o)||r.some(l=>this._pauseOnSourceMapBreakpointIds?.includes(l)));if(this.evaluator.setReturnedValue(e.callFrames[0]?.returnValue),s){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!n&&(e.data.__rewriteAs="breakpoint");let l=this._expectedPauseReason;if(!(o&&await this._handleSourceMapPause(o,i))){if(!n){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if(l?.reason==="step"){if(l.direction!==0)return this._cdp.Debugger.stepOut({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=this._waitingForStepIn?.intoTargetBreakpoint;if(a){e.hitBreakpoints?.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(n&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof yp)){this.resume();return}let c=this._pausedDetails=await this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let u=await this._smartStepper.getSmartStepDirection(c,this._expectedPauseReason);if(this._pausedDetails===c){switch(u){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(c)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],n=r instanceof qr&&await r.uiLocation();if(!n)return!1;let i,o,s=[];for(let{caller:a,target:c}of this._excludedCallers)if(!(c.line!==n.lineNumber||c.column!==n.columnNumber)&&(i??=await n.source.toDapShallow(),!!Zj(i,c.source))){o||(o=await e.loadFrames(lce).then(l=>Promise.all(l.slice(1).filter(Dc(qr)).map(p=>p.uiLocation()))));for(let u=0;u<o.length;u++){let l=o[u];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=s[u]??=await l.source.toDapShallow();if(Zj(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of t._allThreadsByDebuggerId)r===this&&t._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...r.resolvedSource.offsetScriptToSource(e),source:r.resolvedSource}):r.source.then(n=>this._sourceContainer.preferredUiLocation({...n.offsetSourceToScript(e),source:n})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let n=await r.source;return this._sourceContainer.preferredUiLocation({...n.offsetScriptToSource(e),source:n})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(n=>{let i=this._sourceContainer.onScript(s=>{s.scriptId===e&&(n(s),i.dispose(),clearTimeout(o))}),o=setTimeout(()=>{n(void 0),i.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),n=await this.rawLocationToUiLocation(r);return n?`@ ${await n.source.prettyName()}:${n.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoints(e,r){if(!this.target.supportsCustomBreakpoints())return;this._enabledCustomBreakpoints??=new Set;let n=new Set;for(let o of e)n.add("x"+o);for(let o of r)n.add("e"+o);let i=[];for(let o of n)if(!this._enabledCustomBreakpoints.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.setXHRBreakpoint({url:s}):vp().get(s)?.apply(this._cdp,!0))}for(let o of this._enabledCustomBreakpoints)if(!n.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.removeXHRBreakpoint({url:s}):vp().get(s)?.apply(this._cdp,!1))}this._enabledCustomBreakpoints=n,await Promise.all(i)}async _createPausedDetails(e){let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous",n=e.hitBreakpoints?.filter(o=>!this._breakpointManager.isEntrypointCdpBreak(o))||[];if((n.length||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let o of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(o);let i=hs.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(e.data?.__rewriteAs==="breakpoint")return{thread:this,event:e,stackTrace:i,reason:"breakpoint",description:je.t("Paused on breakpoint")};if(e.data?.__rewriteAs==="step")return{thread:this,event:e,stackTrace:i,reason:"step",description:je.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:i,reason:"exception",description:je.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:i,reason:"pause",description:je.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:je.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,event:e,stackTrace:i,reason:"exception",description:je.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:i,reason:"exception",description:je.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:i,reason:"step",description:je.t("Paused")}:{thread:this,event:e,stackTrace:i,reason:"function breakpoint",description:je.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:je.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:i,reason:"exception",description:je.t("Paused before Out Of Memory exception")};default:if(n.length){let o=!1,s=this.target.entryBreakpoint;if(s&&n.includes(s.cdpId)){o=!0;let a=this._sourceContainer.source({path:At(s.path)});a!==void 0&&(o=!(await this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:a}))?.some(u=>this._breakpointManager.hasAtLocation(u)))}return o||this._breakpointManager.registerBreakpointsHit(n),{thread:this,event:e,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:o?"entry":"breakpoint",description:je.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:i,description:je.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:i,reason:"pause",description:je.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let n=r.data,i=n&&n.eventName||"",o=vp().get(i);if(o){let s=o.details(n);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:s.short,text:s.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:je.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){if(e.url.endsWith(".cdp")||(Nr(e.url)&&(e.url=Ne(e.url)),this._sourceContainer.getScriptById(e.scriptId)))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let r=this._executionContexts.get(e.executionContextId);r||(this.logger.info("internal","Creating missing execution context id",e),r=new db({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,r));let n=async()=>{let o=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&o?.contentHash===e.hash)return o.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),o;let s=async()=>{let p=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return p?p.scriptSource:void 0},a=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,c=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,u;e.sourceMapURL&&(u=wr(e.sourceMapURL)?e.sourceMapURL:e.url&&sa(e.url,e.sourceMapURL)||e.url,u||this._dap.with(p=>k1(p,`Could not load source map from ${e.sourceMapURL}`)));let l=await this._sourceContainer.addSource(e,s,u,a,c,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return l.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),l},i={url:e.url,hasSourceURL:!!e.hasSourceURL,embedderName:e.embedderName,scriptId:e.scriptId,executionContextId:e.executionContextId,source:n()};i.source.then(o=>i.resolvedSource=o),r.scripts.push(i),this._sourceContainer.addScriptById(i),(e.sourceMapURL||e.scriptLanguage==="WebAssembly")&&this._getOrStartLoadingSourceMaps(i)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let n=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,i=n+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,o=this._sourceContainer.getScriptById(e);if(!o)return this._pausedForSourceMapScriptId=void 0,!1;let s=new ei,a=await Promise.race([this._getOrStartLoadingSourceMaps(o),ke(i)]),c=s.elapsed().ms,u=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(c-n,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:u}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:c,sourceMapCumulativePause:u}),a||this._dap.with(d=>d.output({category:"stderr",output:je.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",o.url||o.scriptId,i)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=r?.lineNumber||0,p=r?.columnNumber;return!!a?.map(as).some(d=>d.lineNumber===l&&(p===void 0||p===d.columnNumber))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let n=r.sourceMapLoads.get(e.scriptId);if(n)return n;let i=e.source.then(o=>this._sourceContainer.waitForSourceMapSources(o)).then(o=>o.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,o):[]);return r.sourceMapLoads.set(e.scriptId,i),i}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let n of r.internalProperties||[]){if(n.name!=="[[FunctionLocation]]"||!n.value||n.value.subtype!=="internal#location")continue;let i=await this.rawLocationToUiLocation(this.rawLocation(n.value.value));i&&this._sourceContainer.revealUiLocation(i);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:nu(e,"copy")}));return}try{let r=await jj({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(n=>n.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([ke(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(n=>this._breakpointManager._resolvedBreakpoints.get(n)).filter(Dc(Xn)).map(n=>n.untilSetCompleted().then(()=>n.dapId)))])),await ke(0),this._dap.with(n=>n.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=t.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!r._waitingForStepIn?.lastDetails)return!1;let n=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(i=>!i||!i.stackTrace.callFrames.length||!qr.fromRuntime(r,i.stackTrace.callFrames[0],!1).equivalentTo(n.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){this._scriptWithSourceMapHandler=r;let n=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(n&&!this._pauseOnSourceMapBreakpointIds?.length){await this.debuggerReady.promise;let i=await Promise.all([this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"}),this._cdp.Debugger.setBreakpointByUrl({lineNumber:0,columnNumber:0,urlRegex:"\\.[wW][aA][sS][mM]"})]);this._pauseOnSourceMapBreakpointIds=i.map(o=>o?.breakpointId).filter(Pt)}else if(!n&&this._pauseOnSourceMapBreakpointIds?.length){let i=this._pauseOnSourceMapBreakpointIds;this._pauseOnSourceMapBreakpointIds=void 0,await Promise.all(i.map(o=>this._cdp.Debugger.removeBreakpoint({breakpointId:o})))}return!!this._pauseOnSourceMapBreakpointIds?.length}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){return e.data?.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!wr(e.data?.sourceMapURL)?!1:e.data.url?.startsWith("webpack")||e.data.url?.startsWith("ng:")}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return t._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let i of new xa(e)){if(typeof i=="string"){r.push(i);continue}let o=this._sourceContainer.getSourceByOriginalUrl(Ne(i.path))||this._sourceContainer.getSourceByOriginalUrl(i.path);if(!o){r.push(i.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:i.position.base1.columnNumber,lineNumber:i.position.base1.lineNumber,source:o}).then(({source:s,lineNumber:a,columnNumber:c})=>`${s.absolutePath}:${a}:${c}`))}return(await Promise.all(r)).join("")}};var t3=t=>typeof t.uiLocation=="function",hs=class t{constructor(e){this.thread=e;this.frames=[];this._frameById=new Map;this._lastInlineWasmExpanded=Promise.resolve(0);this._lastFrameThread=e}static fromRuntime(e,r){let n=new t(e);for(let i of r.callFrames)i.url.endsWith(".cdp")||n.frames.push(qr.fromRuntime(e,i,!1));return r.parentId?(n._asyncStackTraceId=r.parentId,console.assert(!r.parent)):n._appendStackTrace(e,r.parent),n}static fromDebugger(e,r,n,i){let o=new t(e);for(let s of r)o._appendFrame(qr.fromDebugger(e,s));return i?(o._asyncStackTraceId=i,console.assert(!n)):o._appendStackTrace(e,n),o}async loadFrames(e,r){return await this.expandAsyncStack(e,r),await this.expandWasmFrames(),this.frames}async expandAsyncStack(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=wp.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let n=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,n&&this._appendStackTrace(this._lastFrameThread,n.stackTrace)}}expandWasmFrames(){return this._lastInlineWasmExpanded=this._lastInlineWasmExpanded.then(async e=>{for(;e<this.frames.length;e++){let r=this.frames[e];if(!(r instanceof qr))continue;let n=r.scriptSource?.resolvedSource;if(!zc(n))continue;let i=await n.sourceMap.value.promise;if(!i.getFunctionStack)continue;let o=await i.getFunctionStack(r.rawPosition);if(o.length===0)continue;let s=[];for(let a=0;a<o.length;a++){let c=new sm({source:n,thread:this.thread,inlineFrameIndex:a,name:o[a].name,root:r});this._frameById.set(c.frameId,c),s.push(c)}this._spliceFrames(e,1,...s),e+=o.length-1}return e})}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new fb(r.description||"async"));for(let n of r.callFrames)this._appendFrame(qr.fromRuntime(e,n,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_spliceFrames(e,r,...n){this.frames.splice(e,r,...n);for(let i of n)i instanceof fb||this._frameById.set(i.frameId,i)}_appendFrame(e){this._spliceFrames(this.frames.length,0,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let i=r.length-1;i>=0;i--){let o=r[i];if(o instanceof qr&&o.isReplEval){r=r.slice(0,i+1);break}}let n=r.map(e);return(await Promise.all(n)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,n=(e.levels||50)+r,i=await this.loadFrames(n,e.noFuncEval);n=Math.min(i.length,e.levels?n:i.length);let o=[];for(let s=r;s<n;s++)o.push(i[s].toDap(e.format));return{stackFrames:await Promise.all(o),totalFrames:this._asyncStackTraceId?1e6:i.length}}},IE=sH(),fb=class{constructor(e="async"){this.label=e;this.frameId=IE()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},r3="<anonymous>",dce=/^class\s+(.+) {($|\n)/;async function fce(t,e,r){if(!e.functionName)return r3;if(e.functionName.includes("."))return e.functionName;let n;if(e.this.objectId&&r&&(n=(await t.cdp().Runtime.callFunctionOn({functionDeclaration:sb.decl("64","null"),objectId:e.this.objectId,returnByValue:!0}))?.result.value),!n&&e.this.description){n=e.this.description;let s=dce.exec(n);s&&(n=s[1])}if(!n)return e.functionName;let i=n.indexOf(`
`);i!==-1&&(n=n.slice(0,i).trim());let o=e.functionName;return n===o?`${n}.constructor`:n?`${n}.${o}`:o}function hce(t){return t.functionName||r3}var qr=class t{constructor(e,r,n,i=!1){this.callFrame=r;this.isAsync=i;this.frameId=IE();this.root=this;this.getLocationInfo=_e(async()=>{let e=this.uiLocation(),r=await sE(this),n=this.overrideName||("this"in this.callFrame?await fce(this._thread,this.callFrame,r===0):hce(this.callFrame));return{isSmartStepped:r,name:n,uiLocation:await e}});this.completions=_e(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let i=0;i<this._scope.chain.length;i++){let o=this._scopeVariable(i,this._scope);o&&r.push(e.getVariableNames({variablesReference:o.id}).then(s=>s.map(a=>({label:a,type:"property"}))))}let n=await Promise.all(r);return[].concat(...n)});this._rawLocation=n,this.uiLocation=_e(()=>e.rawLocationToUiLocation(n)),this._thread=e;let o=n.scriptId?e.getScriptById(n.scriptId):void 0;this.isReplEval=o?o.url.endsWith(".repl"):!1}get rawPosition(){return new qt(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,n){return new t(e,r,e.rawLocation(r),n)}static fromDebugger(e,r){let n=new t(e,r,e.rawLocation(r));return n._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},n}get scriptId(){return"scriptId"in this.callFrame?this.callFrame.scriptId:this.callFrame.location.scriptId}get scriptSource(){return this._thread._sourceContainer.getScriptById(this.scriptId)}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof t&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new re(W1());return{scopes:(await Promise.all(e.chain.map(async(n,i)=>{let o="",s;switch(n.type){case"global":o=fn.t("Global");break;case"local":o=fn.t("Local"),s="locals";break;case"with":o=fn.t("With Block"),s="locals";break;case"closure":o=fn.t("Closure"),s="arguments";break;case"catch":o=fn.t("Catch Block"),s="locals";break;case"block":o=fn.t("Block"),s="locals";break;case"script":o=fn.t("Script");break;case"eval":o=fn.t("Eval");break;case"module":o=fn.t("Module");break;default:o=n.type.substr(0,1).toUpperCase()+n.type.substr(1);break}n.name&&n.type==="closure"?o=fn.t("Closure ({0})",n.name):n.name&&(o=`${o}: ${n.name}`);let a=this._scopeVariable(i,e);if(!a)return;let c={name:o,presentationHint:s,expensive:n.type==="global",variablesReference:a.id};if(n.startLocation){let u=this._thread.rawLocation(n.startLocation),l=await this._thread.rawLocationToUiLocation(u);if(c.line=(l||u).lineNumber,c.column=(l||u).columnNumber,l&&(c.source=await l.source.toDap()),n.endLocation){let p=this._thread.rawLocation(n.endLocation),d=await this._thread.rawLocationToUiLocation(p);c.endLine=(d||p).lineNumber,c.endColumn=(d||p).columnNumber}}return c}))).filter(Pt)}}getStepSkipList(e){return Promise.resolve(void 0)}async toDap(e){let{isSmartStepped:r,name:n,uiLocation:i}=await this.getLocationInfo(),o=i?await i.source.toDap():void 0,s=r?"deemphasize":"normal";r&&o&&(o.origin=r===1?fn.t("Skipped by smartStep"):fn.t("Skipped by skipFiles"));let a=(i||this._rawLocation).lineNumber,c=(i||this._rawLocation).columnNumber,u=n;return o&&e&&(e.module&&(u+=` [${o.name}]`),e.line&&(u+=` Line ${a}`)),{id:this.frameId,name:u,line:a,column:c,source:o,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.existingAbsolutePath()||await r?.source.prettyName()||this.callFrame.url,{lineNumber:i,columnNumber:o}=r||this._rawLocation;return`    at ${e} (${n}:${i}:${o})`}async format(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.prettyName()||"<unknown>",i=r||this._rawLocation,o=`${e} @ ${n}:${i.lineNumber}`;return i.columnNumber>1&&(o+=`:${i.columnNumber}`),o}_scopeVariable(e,r){let n=r.variables[e];if(n)return n;let i={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},o=[];e===0&&(r.thisObject&&o.push({name:"this",value:r.thisObject}),r.returnValue&&o.push({name:fn.t("Return value"),value:r.returnValue}));let s=this._thread.pausedVariables();if(!s)return;let a=s.createScope(r.chain[e].object,i,o);return r.variables[e]=a}},AE={scopes:[]},sm=class{constructor(e){this.frameId=IE();this.name=e.name,this.root=e.root,this.thread=e.thread,this.source=e.source,this.inlineFrameIndex=e.inlineFrameIndex,this.wasmPosition=new It(this.inlineFrameIndex,this.root.rawPosition.base0.columnNumber),this.uiLocation=_e(()=>e.thread._sourceContainer.preferredUiLocation({columnNumber:e.root.rawPosition.base1.columnNumber,lineNumber:e.inlineFrameIndex+1,source:e.source}))}async formatAsNative(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return`    at ${this.name} (${n.url}:${r}:${e})`}async format(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation(),i=await n.prettyName()||"<unknown>";return`${this.name} @ ${i}:${r}:${e}`}async toDap(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return Promise.resolve({id:this.frameId,name:this.name,column:e,line:r,source:await n.toDapShallow()})}async getStepSkipList(e){let r=this.source.sourceMap.value.settledValue;if(!r?.getStepSkipList)return;let n=await this.uiLocation();return n?r.getStepSkipList(e,this.wasmPosition,n.source.compiledToSourceUrl.get(this.source),new qt(n.lineNumber,n.columnNumber)):r.getStepSkipList(e,this.root.rawPosition)}async scopes(){let e=this.source.sourceMap.value.settledValue,r=this.root.callFrameId();if(!e||!r)return AE;let n=await e.getVariablesInScope?.(r,this.wasmPosition);if(!n)return AE;let i=this.thread.pausedVariables();if(!i)return AE;let o={stackFrame:this.root,callFrameId:r,scopeNumber:0};return{scopes:await Promise.all([...vO(n,s=>s.scope)].map(([s,a])=>i.createWasmScope(s,a,o).toDap("propertyValue").then(c=>({name:c.name,variablesReference:c.variablesReference,expensive:s!=="LOCAL"}))))}}};var n3=A(xe());var su=class{constructor(e){this.event=e;this.stackTrace=_e(e=>this.event.stackTrace?hs.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=_e(async e=>{let r=this.stackTrace(e);if(!r)return;let n;for(let i of r.frames){if(!(i instanceof qr))continue;let o=await i.uiLocation();if(o&&(n||(n=o),!o.source.blackboxed()))return{source:await o.source.toDap(),line:o.lineNumber,column:o.columnNumber}}if(n)return{source:await n.source.toDap(),line:n.lineNumber,column:n.columnNumber}})}formatDefaultString(e,r,n=!1){let o=r.length>1&&r[0].type==="string"?eE(r[0].value,r.slice(1),iE):eE("",r,iE),s=o.result+`
`;return o.usedAllSubs&&!r.some(ru)?{output:s}:this.formatComplexStringOutput(e,s,r,n)}async formatComplexStringOutput(e,r,n,i){(n.some(s=>s.subtype==="error")||xa.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),i=!0);let o=e.replVariables.createVariableForOutput(r,n,i?this.stackTrace(e):void 0);return{output:r,variablesReference:o.id}}},hb=class extends su{async toDap(e){return this.event.args[0]?.value==="console.assert"&&(this.event.args[0].value=n3.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},au=class extends su{constructor(r,n,i){super(r);this.includeStack=n;this.category=i}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},Ia=class extends au{constructor(e){super(e,!1,"stdout")}},mb=class extends au{constructor(e){super(e,!0,"stdout")}},gb=class extends au{constructor(e){super(e,!0,"stderr")}},Hb=class extends au{constructor(e){super(e,!0,"stderr")}},yb=class extends su{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},vb=class extends au{constructor(e){super(e,!1,"stdout")}async toDap(e){return this.event.args[0]?.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var om=class extends su{constructor(){super(...arguments);this.stackTrace=_e(r=>{if(this.event.stackTrace)return hs.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return hs.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){let n=this.event.exception?iu(this.event.exception):{title:""},i=n.title;i.startsWith("Uncaught")||(i=`Uncaught ${this.event.exception?.className??"Error"} `+i);let o=this.stackTrace(r),s=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return xa.isStackLike(i)?i=await r.replacePathsInStackTrace(i):o&&(i+=`
`+await o.formatAsNative()),{category:"stderr",output:i,variablesReference:o||s.length?r.replVariables.createVariableForOutput(i,s,o).id:void 0,...await this.getUiLocation(r)}}};var bb=Symbol("IConsole");var cm=A(Z());var i3=A(Z());var Sa=Symbol("IShutdownParticipants"),xp=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),Jl;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};xp=E([(0,i3.injectable)()],xp);var am=class{toDap(){return{category:"console",output:"\x1B[2J"}}},wb=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var xb=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new Y;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new SE(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===s3);e===0?await this.q[0].wait:e===-1?(this.sink(o3(this.q)),this.q=[]):(this.sink(o3(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},o3=t=>t.map(e=>e.value).filter(e=>e!==a3),s3=Symbol("unsettled"),a3=Symbol("unsettled"),SE=class{constructor(e){this.value=s3;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=a3}):(this.value=e,this.wait=Promise.resolve())}};var gce=new Set(["group","assert","count"]),_p=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new xb(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(n=>this.onDrained(n)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let n=this.parse(r);n&&this.enqueue(e,n)}enqueue(e,r){if(!(r instanceof am))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){if(e.type==="log"){let r=e.stackTrace?.callFrames[0];if(r&&r.url==="internal/console/constructor.js"&&gce.has(r.functionName))return}switch(e.type){case"clear":return new am;case"endGroup":return new wb;case"assert":return new hb(e);case"table":return new vb(e);case"startGroup":case"startGroupCollapsed":return new yb(e);case"debug":case"log":case"info":return new Ia(e);case"trace":return new mb(e);case"error":return new Hb(e);case"warning":return new gb(e);case"dir":case"dirxml":return new Ia(e);case"count":return new Ia(e);case"profile":case"profileEnd":return new Ia(e);case"timeEnd":return new Ia(e);default:try{iH(e.type,"unknown console message type")}catch{}}}};_p=E([(0,cm.injectable)(),b(0,(0,cm.inject)(sn)),b(1,(0,cm.inject)(Sa))],_p);var cu=A(Z()),l3=require("os"),p3=require("path");var EE=require("path"),c3=(0,EE.join)(__dirname,"diagnosticTool.js"),u3=(0,EE.join)(__dirname,"diagnosticTool.css");var To=Symbol("ITarget"),xr=Symbol("ILauncher");var Ea=class{constructor(e,r,n,i){this.fs=e;this.sources=r;this.breakpoints=n;this.target=i}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,p3.join)((0,l3.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(u3,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(c3,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let n of r.values())for(let i of n){let o=i.diagnosticDump();e.push({source:o.source,params:o.params,cdp:o.cdp.map(s=>s.state===1?{...s,uiLocations:s.uiLocations.map(a=>this.dumpUiLocation(a))}:{...s,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let n of this.sources.sources)e.push((async()=>({uniqueId:r++,url:n.url,sourceReference:n.sourceReference,absolutePath:n.absolutePath,actualAbsolutePath:await n.existingAbsolutePath(),scriptIds:n.scripts.map(i=>i.scriptId),prettyName:await n.prettyName(),compiledSourceRefToUrl:n instanceof Rt?[...n.compiledToSourceUrl.entries()].map(([i,o])=>[i.sourceReference,o]):void 0,sourceMap:da(n)?{url:n.sourceMap.metadata.sourceMapUrl,metadata:n.sourceMap.metadata,sources:Yo(Object.fromEntries(n.sourceMap.sourceByUrl),i=>i.sourceReference)}:void 0}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};Ea=E([(0,cu.injectable)(),b(0,(0,cu.inject)(we)),b(1,(0,cu.inject)(lr)),b(2,(0,cu.inject)(Zn)),b(3,(0,cu.inject)(To))],Ea);var f3=A(xe()),_b=A(Z());var d3="@vscode/dwarf-debugging",Ap=class{constructor(e){this.dap=e;this.didPrompt=!1}async load(){try{return await import(d3)}catch{return}}prompt(){this.didPrompt||(this.didPrompt=!0,this.dap.output({output:f3.t("You may install the `{}` module via npm for enhanced WebAssembly debugging",d3),category:"console"}))}};Ap=E([(0,_b.injectable)(),b(0,(0,_b.inject)(sn))],Ap);var Da=A(Z());var Sp=Symbol("IExceptionPauseService");var Ip=class{constructor(e,r,n,i,o){this.evaluator=e;this.scriptSkipper=r;this.dap=n;this.sourceContainer=o;this.state={cdp:"none"};this.blocker=We();this.noDebug=!!i.noDebug,this.breakOnError=i.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof re))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=We())}}async shouldPauseAt(e){if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if(e.data?.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){return!!(await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data}))?.result.value}shouldScriptSkip(e){if(e.data?.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),n="none",i=[],o=[];for(let{filterId:a,condition:c}of r)a==="all"?(n="all",c&&i.push(a)):a==="uncaught"&&(n==="none"&&(n="uncaught"),c&&o.push(a));let s=a=>{if(a.length===0)return;let c="!!("+r.map(p=>p.condition).filter(Pt).join(") || !!(")+")",u=oa(c);if(u)throw new re(ra({line:0,condition:c},u.message));let l=this.breakOnError?YI(c):c;return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return n==="none"?{cdp:n}:{cdp:n,condition:{caught:s(i),uncaught:s(o)}}}};Ip=E([(0,Da.injectable)(),b(0,(0,Da.inject)(Kn)),b(1,(0,Da.inject)(ga)),b(2,(0,Da.inject)(sn)),b(3,(0,Da.inject)(Me)),b(4,(0,Da.inject)(lr))],Ip);var Sb=A(Z());var Ab=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let n={};for(let i of r.metrics)n[i.name]=i.value;return{metrics:n}}};var Ib=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${vt()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var Eb=Symbol("IPerformanceProvider"),uu=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new Ib:new Ab}};uu=E([(0,Sb.injectable)(),b(0,(0,Sb.inject)(To))],uu);var $E=A(xe()),g3=require("crypto"),Ca=A(Z()),H3=require("os"),y3=require("path");var Pb=A(Z());var DE=A(xe()),lu=A(Z()),Db=require("path");var Ep=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),n=this.locationsByRef.get(r);if(n)return n.id;let i=this.locationIdCounter++;return this.locationsByRef.set(r,{id:i,callFrame:e,locations:(async()=>{let o=await this.sources.getScriptById(e.scriptId)?.source;if(!o)return[];let s=await this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:o});return Promise.all(s.map(async a=>({...a,source:await a.source.toDapShallow()})))})()}),i}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var hr=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new re(Il());return new CE(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let n=await h3(e,this.sources,this.launchConfig.__workspaceFolder);(0,Db.isAbsolute)(r)||(r=(0,Db.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(n))}};hr.type="cpu",hr.extension=".cpuprofile",hr.label=DE.t("CPU Profile"),hr.description=DE.t("Generates a .cpuprofile file you can open in the Chrome devtools"),hr.editable=!0,hr=E([(0,lu.injectable)(),b(0,(0,lu.inject)(bt)),b(1,(0,lu.inject)(we)),b(2,(0,lu.inject)(lr)),b(3,(0,lu.inject)(Me))],hr);var CE=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new Y;this.disposed=!1;this.onUpdate=new Y().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new re(Il());await this.dispose();let r=await h3(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function h3(t,e,r){let n=new Ep(e),i=t.nodes.map(o=>({...o,locationId:n.getLocationIdFor(o.callFrame),positionTicks:o.positionTicks?.map(s=>({...s,startLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line-1,columnNumber:0}),endLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line,columnNumber:0})}))}));return{...t,nodes:i,$vscode:{rootPath:r,locations:await n.getLocations()}}}var PE=A(xe()),pu=A(Z());var Tn=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new re(Il());return new LE(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};Tn.type="heap",Tn.extension=".heapprofile",Tn.label=PE.t("Heap Profile"),Tn.description=PE.t("Generates a .heapprofile file you can open in the Chrome devtools"),Tn.editable=!0,Tn=E([(0,pu.injectable)(),b(0,(0,pu.inject)(bt)),b(1,(0,pu.inject)(we)),b(2,(0,pu.inject)(lr)),b(3,(0,pu.inject)(Me))],Tn);var LE=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new Y;this.disposed=!1;this.onUpdate=new Y().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new re(Il());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new Ep(this.sources),n=(o,s)=>{s.locationId=r.getLocationIdFor(o.callFrame);for(let a of o.children){let c={...a,children:[]};s.children.push(c),n(a,c)}},i={...e.head,children:[]};return n(e.head,i),{...e,head:i,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var TE=A(xe()),m3=require("fs"),Cb=A(Z());var $n=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>this.currentWriter?.stream.write(r))}static canApplyTo(){return!0}async start(e,r){return{onStop:new Y().event,onUpdate:new Y().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:n}=this.currentWriter={stream:(0,m3.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await n,r.end(),this.currentWriter=void 0}};$n.type="memory",$n.extension=".heapsnapshot",$n.label=TE.t("Heap Snapshot"),$n.description=TE.t("Generates a .heapsnapshot file you can open in the Chrome devtools"),$n.instant=!0,$n=E([(0,Cb.injectable)(),b(0,(0,Cb.inject)(bt))],$n);var Lb=Symbol("IProfilerFactory"),Tb=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},hn=class{constructor(e){this.container=e}get(e){let r=hn.ctors.find(n=>n.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};hn.ctors=[hr,Tn,$n],hn=E([(0,Pb.injectable)(),b(0,(0,Pb.inject)(tp))],hn);var $b=Symbol("IProfileController"),Dp=class{constructor(e,r,n,i,o){this.cdp=e;this.factory=r;this.basicCpuProfiler=n;this.breakpoints=i;this.shutdown=o;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async n=>(await this.start(e,r,n),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:$E.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async n=>{let i=this.saveConsoleProfile(e,n),o=this.shutdown.register(0,()=>i);await i,o.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,n){if(this.profile)throw new re(j1());this.profile=this.startProfileInner(e,r,n).catch(i=>{throw this.profile=void 0,i}),await this.profile}async saveConsoleProfile(e,r){let n;if(r.title){n=r.title.replace(/[\/\\]/g,"-");let i=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=i+1,i>0&&(n+=`-${i}`)}else n=Tb();n+=hr.extension,await this.basicCpuProfiler.save(r.profile,n),e.output({output:$E.t('CPU profile saved as "{0}" in your workspace folder',n)+`
`,category:"console"})}async startProfileInner(e,r,n){let i=!1,o;if(n.stopAtBreakpoint?.length){let l=new Set(n.stopAtBreakpoint);i=!0,o=p=>!(p instanceof Xn)||l.has(p.dapId)}else o=()=>!1;await this.breakpoints.applyEnabledFilter(o);let s=(0,y3.join)((0,H3.tmpdir)(),`vscode-js-profile-${(0,g3.randomBytes)(4).toString("hex")}`),a=await this.factory.get(n.type).start(n,s),c={file:s,profile:a,enableFilter:o,keptDebuggerOn:i};a.onUpdate(l=>e.profilerStateUpdate({label:l,running:!0})),a.onStop(()=>this.disposeProfile(c));let u=!!r.pausedDetails();return i?await r.resume():u&&(await this.cdp.Debugger.disable({}),u&&r.onResumed()),e.profileStarted({file:c.file,type:n.type}),c}async stopProfiling(e){let r=await this.profile?.catch(()=>{});return!r||!this.profile?{}:(this.profile=void 0,await r?.profile.stop(),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:n}){n||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};Dp=E([(0,Ca.injectable)(),b(0,(0,Ca.inject)(bt)),b(1,(0,Ca.inject)(Lb)),b(2,(0,Ca.inject)(hr)),b(3,(0,Ca.inject)(Zn)),b(4,(0,Ca.inject)(Sa))],Dp);var oi=A(Z());var UU=A(v3()),qU=require("dns"),lw=A(jU()),mu=A(Z());var Np=Symbol("IRequestOptionsProvider");var ka=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=pr,n){try{let o=(0,UU.dataUriToBuffer)(e);return{ok:!0,url:e,body:new TextDecoder().decode(o.buffer),statusCode:200}}catch{}let i=Nr(e)?e:At(e);if(i)try{return{ok:!0,url:e,body:await this.fs.readFile(i,"utf-8"),statusCode:200}}catch(o){return{ok:!1,url:e,error:o,statusCode:200}}return this.fetchHttp(e,r,n)}async fetchJson(e,r,n){let i=await this.fetch(e,r,{Accept:"application/json",...n});if(!i.ok)return i;try{return{...i,body:JSON.parse(i.body)}}catch(o){return{...i,ok:!1,url:e,error:o}}}async fetchHttp(e,r,n){let i=new URL(e),o=i.protocol!=="http:",s=Number(i.port)??(o?443:80),a={headers:n,followRedirect:!0};o&&await $l(e)&&(a.rejectUnauthorized=!1),this.options?.provideOptions(a,e);let c=i.hostname==="localhost";if(c&&this.autoLocalhostPortFallbacks[s]){let p=await this.requestHttp(i.toString(),a,r);return p.statusCode!==503?p:(delete this.autoLocalhostPortFallbacks[s],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&c){let p;try{p=await qU.promises.lookup(i.hostname)}catch{return l}i.hostname=p.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(i.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[s]=i.hostname)}return l}async requestHttp(e,r,n){this.options?.provideOptions(r,e);let i=new Ie;try{let o=(0,lw.default)(e,r);i.push(n.onCancellationRequested(()=>o.cancel()));let s=await o;return{ok:!0,url:e,body:s.body,statusCode:s.statusCode}}catch(o){if(!(o instanceof lw.RequestError))throw o;let s=o.response?String(o.response?.body):o.message,a=o.response?.statusCode??503;return{ok:!1,body:s,statusCode:a,url:e,error:new Py(a,e,s)}}finally{i.dispose()}}};ka=E([(0,mu.injectable)(),b(0,(0,mu.inject)(we)),b(1,(0,mu.optional)()),b(1,(0,mu.inject)(Np))],ka);var gu=class extends ka{constructor(r,n,i,o,s){super(r,s);this.logger=n;this.target=i;this.cdp=o;this.disposables=new Ie}dispose(){this.disposables.dispose()}async fetchHttp(r,n,i={}){let o=await super.fetchHttp(r,n,i);return o.ok?o:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:r,res:o}),this.fetchOverBrowserNetwork(r,o))}async fetchOverBrowserNetwork(r,n){if(!this.cdp)return n;let i=await this.cdp.Network.loadNetworkResource({frameId:this.target?.targetInfo.targetId,url:r,options:{includeCredentials:!0,disableCache:!0}});if(!i||!i.resource.success||!i.resource.httpStatusCode||i.resource.httpStatusCode>=400||!i.resource.stream)return n;let o=Number(i.resource.headers?.["Content-Length"]);isNaN(o)&&(o=1/0);let s=[],a=0;for(;;){let c=await this.cdp.IO.read({handle:i.resource.stream,offset:a});if(!c)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:r}),n;let u=c.base64Encoded?Buffer.from(c.data,"base64").toString():c.data;if(a+=Buffer.byteLength(u,"utf-8"),s.push(u),a>=o){this.cdp.IO.close({handle:i.resource.stream});break}if(c.eof)break}return{ok:!0,body:s.join(""),statusCode:i.resource.httpStatusCode,url:r}}};gu=E([(0,oi.injectable)(),b(0,(0,oi.inject)(we)),b(1,(0,oi.inject)(ce)),b(2,(0,oi.optional)()),b(2,(0,oi.inject)(To)),b(3,(0,oi.optional)()),b(3,(0,oi.inject)(bt)),b(4,(0,oi.optional)()),b(4,(0,oi.inject)(Np))],gu);var Ma=A(Z()),GU=A($h());var Ra="node:";function VU(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(n.startsWith("!")){let i=WU(n.slice(1));for(let o=0;o<e.length;o++)e[o]=`^(?!${i.slice(1)})${e[o].slice(1)}`}else e.push(WU(n))}return e.map(r=>new RegExp(r,"i"))}function WU(t){let e=t.split("/"),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i==="**")n===0?r.push("(.+/)?"):n===e.length-1||r.push(".*/");else{if(i.includes("*")){let o=i.split("*");r.push(o.map(s=>Yr(s)).join("[^\\/]*"))}else r.push(Yr(i));r.push(n<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function xpe(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(n=>{n=n.trim();let i=e.exec(n);return i?i[1]:null}).filter(Pt);return r.length>0?r:void 0}function _pe(t,e){return e.filter(n=>!n.includes("<node_internals>")).map(n=>Nr(n)?kl(t.rebaseLocalToRemote(n)):Qe(n)).map(Yy)}var $o=class{constructor({skipFiles:e},r,n,i,o){this.logger=n;this.cdp=i;this._regexForAuthored=_$(VU);this._scriptsWithSkipping=new Set;this._targetId=o.id(),this._rootTargetId=zU(o).id(),this._isUrlFromSourceMapSkipped=new mo(s=>this._normalizeUrl(s)),this._authoredGlobs=_pe(r,e),this._nodeInternalsGlobs=xpe(e),this._initNodeInternals(o),this._updateSkippedDebounce=I$(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),$o.sharedSkipsEmitter.event(s=>{s.rootTargetId===this._rootTargetId&&s.targetId!==this._targetId&&this._toggleSkippingFile(s.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(Ra)&&(e=e.slice(Ra.length)),(0,GU.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(Ra)?!0:r?.has(e)||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),r=this._allNodeInternals?.settledValue;if(r){e.push(`^(${Ra})?internal\\/`);for(let n of r)this._testSkipNodeInternal(n)&&e.push(`^(${Ra})?${Yr(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return Qe(e.toLowerCase())}isScriptSkipped(e){return this._isNodeInternal(e,this._allNodeInternals?.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let n=this.isScriptSkipped(e.url),i=[],o=n;for(let a of e.sourceMap.sourceByUrl.values()){let c=this.isScriptSkipped(a.url);if(typeof c>"u"&&(c=n),c!==o){let u=await this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);u[0]?(i.push({lineNumber:u[0].lineNumber-1,columnNumber:u[0].columnNumber-1}),o=!o):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}}let s=r;i.length||(s=s.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),s.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(s.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:i})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let n=e.url,i=this.isScriptSkipped(n);if(!i&&e.absolutePath&&this._testSkipAuthored(Ne(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(n,!0),i=!0,this._updateSkippedDebounce()),Qr(e)){if(i)for(let o of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,!0);for(let o of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(o,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=We(),n=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+vt(),returnByValue:!0,includeCommandLineAPI:!0});n&&!n.exceptionDetails?r.resolve(new Set(n.result.value.map(i=>i+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&Nr(e.resource)&&(r=e.resource);let n={path:r,sourceReference:e.sourceReference},i=this._sourceContainer.source(n);if(!i)return{};let o=!this.isScriptSkipped(i.url);if(i instanceof Rt){this._isUrlFromSourceMapSkipped.set(i.url,o);let s=Array.from(i.compiledToSourceUrl.keys());await Promise.all(s.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Qr(i))for(let s of i.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,o);this.setIsUrlBlackboxSkipped(i.url,o),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let n=e,i=`!${n}`,o=this._authoredGlobs.filter(s=>s!==n&&s!==i);this._regexForAuthored(o).some(s=>s.test(e))!==r&&(o.push(r?n:i),this._regexForAuthored.clear()),this._authoredGlobs=o}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return $o.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};$o.sharedSkipsEmitter=new Y,$o=E([(0,Ma.injectable)(),b(0,(0,Ma.inject)(Me)),b(1,(0,Ma.inject)(it)),b(2,(0,Ma.inject)(ce)),b(3,(0,Ma.inject)(bt)),b(4,(0,Ma.inject)(To))],$o);function zU(t){let e=t.parent();return e?zU(e):t}var bm=A(Z());var XU=require("path");var KU=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Ape=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,Up=Symbol("IVueFileMapper");var jp=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=_e(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,XU.basename)(r),r)),e})}async lookup(e){let r=KU.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:KU.test(e)?1:Ape.test(e)?2:0}};jp=E([(0,bm.injectable)(),b(0,(0,bm.inject)(is)),b(1,(0,bm.inject)(Ml))],jp);var ko=class{constructor(){this.changeEmitter=new Y;this.addEmitter=new Y;this.removeEmitter=new Y;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var wW=A(yW()),yw=A(Z());var vW=require("child_process"),yu=class t extends Error{constructor(r,n,i,o,s){super(`${r} exited with code ${o||-1}: ${n}`);this.command=r;this.stderr=n;this.stdout=i;this.code=o;this.innerError=s}static fromExeca(r){return new t(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function Hw(t,e,r){return new Promise((n,i)=>{let o=(0,vW.spawn)(t,e,{...r,stdio:"pipe"}),s=[],a=[];o.stderr.on("data",u=>s.push(u)),o.stdout.on("data",u=>a.push(u));let c=(u,l)=>i(new yu(t,Buffer.concat(s).toString(),Buffer.concat(a).toString(),u,l));o.on("error",u=>c(void 0,u)),o.on("close",u=>u?c(u):n({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(s).toString()}))})}var Dde=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),bW=t=>{t=t.toLowerCase();for(let[e,r]of Dde.entries())if(t.includes(e))return r},Gp=Symbol("IDefaultBrowserProvider"),Vp=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=_e(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,wW.default)();return bW(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw yu.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return bW(r[1])}};Vp=E([(0,yw.injectable)(),b(0,(0,yw.inject)(Rh))],Vp);var _W=A(Z()),bw=A(require("os"));var vw=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var nC=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},si=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new nC}static async test(){let e=new si;return e.setup({sinks:[new vw],showWelcome:!1}),e}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(n=>n.setup())),e.showWelcome!==!1){let n=Cde();for(let i of e.sinks)i.write(n)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(n=>n.dispose()):r.queue.forEach(n=>this.log(n))}};si.null=(()=>{let e=new si;return e.setup({sinks:[]}),e})(),si=E([(0,_W.injectable)()],si);var Cde=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${dH} v${Cc} started`,metadata:{os:`${bw.platform()} ${bw.arch()}`,nodeVersion:process.version,adapterVersion:Cc}});var Lm=Symbol("MutableLaunchConfig"),AW=t=>{let e=new Y;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,n){switch(n){case"update":return i=>{t=i,e.fire()};case"onChange":return e.event;default:return t[n]}}})};var Y5=A(X5()),dx=A(Z());var Tu=Symbol("touched"),Xa;(c=>{function t(){return{children:{},[Tu]:1}}c.root=t;function e(u,l){return u[Tu]=1,a(u,s(l),0)}c.getPath=e;function r(u){u[Tu]=1}c.touch=r;function n(u){u[Tu]=2}c.touchAll=n;function i(u,l){let p=u.children[l]??={children:{}};return p[Tu]=1,p}c.getOrMakeChild=i;function o(u){if(u[Tu]){for(let[l,p]of Object.entries(u.children))switch(p[Tu]){case 1:o(p);break;case 2:break;default:delete u.children[l]}return u}}c.prune=o;function s(u){let l=u.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(u,l,p){let d=i(u,l[p]);return p===l.length-1?d:a(d,l,p+1)}})(Xa||={});var eL=require("fs"),tL=A($h()),$u=require("path"),J5=A(QP());var yve=/\//g,px=class{constructor(e){this.stat=Qo(e=>eL.promises.lstat(e));this.readdir=Qo(e=>eL.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new Y;this.onFile=this.fileEmitter.event;this.errorEmitter=new Y;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(i=>tL.default.matcher((0,J5.default)(Qe(i),{cwd:e.cwd})));let r=(0,$u.isAbsolute)(e.pattern)?(0,$u.relative)(e.cwd,e.pattern):e.pattern,n=tL.default.parse(Qe(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(n.map(i=>{let o=[];for(let u=1;u<i.tokens.length;){let l=u+1;for(;l<i.tokens.length&&i.tokens[l].type!=="slash";)l++;let p=i.tokens[u];p.type==="globstar"?o.push("**"):l===u+1&&p.type==="text"?o.push(p.value):o.push(new RegExp("^"+i.tokens.slice(u,l).map(d=>d.output||d.value).join("")+"$")),u=l+1}let s=o[0]==="**"?[0,1]:[0],a=Xa.getPath(e.cache,e.cwd),c={elements:o,seen:new Set};return Promise.all(s.map(u=>this.readSomething(c,u,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,r,n,i,o){if(this.alreadyProcessedFiles.has(o))return;let s=`${r}:${n}`;if(e.seen.has(s))return;e.seen.add(s);let a;try{a=await this.stat(n)}catch(u){this.errorEmitter.fire({path:n,error:u});return}if(this.alreadyProcessedFiles.has(o))return;let c=o.data;if(c&&a.mtimeMs===c.mtime){if(c.type===0){let u=[],p=Object.entries(o.children).filter(([,d])=>d.data?.type!==0).map(([d])=>d);for(let[d,m]of Object.entries(o.children))u.push(m.data!==void 0?this.handleDirectoryEntry(e,r,n,{name:d,type:m.data.type},p,o):this.stat(n).then(f=>this.handleDirectoryEntry(e,r,n,{name:d,type:f.isFile()?1:0},p,o),()=>{}));await Promise.all(u)}else c.type===1&&(this.alreadyProcessedFiles.add(o),this.fileEmitter.fire(c.extracted));return}a.isDirectory()?await this.handleDir(e,r,a.mtimeMs,n,o):(this.alreadyProcessedFiles.add(o),await this.handleFile(a.mtimeMs,n,i,o))}applyFilterToFile(e,r,n){let i=n.children[e];if(this.alreadyProcessedFiles.has(i))return!1;if(!this.filter)return!0;let o=i.data?.type===1?i.data.extracted:void 0;return Xa.touch(i),this.filter(r,o)}handleDirectoryEntry(e,r,n,i,o,s){let a=n+"/"+i.name,c=this.getDirectoryReadDescends(e,r,n,i);if(c===void 0)return;let u=Xa.getOrMakeChild(s,i.name);if(!(i.type===1&&!this.applyFilterToFile(i.name,a,s)))return typeof c=="number"?this.readSomething(e,r+c,a,o,u):Promise.all(c.map(l=>this.readSomething(e,r+l,a,o,u)))}getDirectoryReadDescends(e,r,n,i){let o=n+"/"+i.name;if(this.ignore.some(c=>c(o)))return;let s=r===e.elements.length-1,a=e.elements[r];if(a==="**")return i.type===1?s?0:this.getDirectoryReadDescends(e,r+1,n,i):s?0:[0,1];if((a instanceof RegExp&&a.test(i.name)||a===i.name)&&(i.type===0?!s:s))return 1}async handleFile(e,r,n,i){let o=$u.sep==="/"?r:r.replace(yve,$u.sep),s;try{s=await this.processor(o,{siblings:n,mtime:e})}catch(a){this.errorEmitter.fire({path:o,error:a});return}i.data={type:1,mtime:e,extracted:s},this.fileEmitter.fire(s)}async handleDir(e,r,n,i,o){let s;try{s=await this.readdir(i)}catch(u){this.errorEmitter.fire({path:i,error:u});return}let a=[],c=s.filter(u=>u.isFile()).map(u=>u.name);for(let u of s){if(u.name.startsWith("."))continue;let l;if(u.isDirectory())l=0;else if(u.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,r,i,{name:u.name,type:l},c,o))}await Promise.all(a),o.data={type:0,mtime:n}}};var ud=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let n=[];return await this.globForFiles(e,o=>n.push(r(kt(o.path)))),(await Promise.all(n)).filter(o=>o!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],n=e.lastState||{},i={};return await Promise.all([...e.files.explode()].map(async s=>{let a=JSON.stringify(s),c=n[a]||Xa.root();await this._streamChildrenWithSourcemaps(c,e,r,s);let u=Xa.prune(c);u&&(i[a]=u)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(Pt),state:i}}async _streamChildrenWithSourcemaps(e,r,n,i){let o=new px({pattern:i.pattern,ignore:i.negations,cwd:i.cwd,cache:e,filter:r.filter,fileProcessor:(s,a)=>PO(s,a).then(c=>c&&r.processMap(c))});o.onError(({path:s,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:s})}),o.onFile(s=>s&&n.push(r.onProcessedMap(s))),await o.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(n=>new Promise((i,o)=>(0,Y5.default)([n.pattern,"!**/*.asar/**"],{ignore:n.negations,matchBase:!0,cwd:n.cwd}).on("data",r).on("finish",i).on("error",o))))}};ud=E([(0,dx.injectable)(),b(0,(0,dx.inject)(ce))],ud);var Ax=A(xe()),Za=A(Z());var Q5=require("url"),Z5=A(require("path"));var fx=class{constructor(){this._onFrameAddedEmitter=new Y;this._onFrameRemovedEmitter=new Y;this._onFrameNavigatedEmitter=new Y;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(n=>{this._processCachedResources(e,n?n.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,n){r&&this._addFramesRecursively(e,r,r.frame.parentId,n),e.Page.on("frameAttached",i=>{this._frameAttached(e,n,i.frameId,i.parentFrameId)}),e.Page.on("frameNavigated",i=>{this._frameNavigated(e,n,i.frame)}),e.Page.on("frameDetached",i=>{this._frameDetached(e,n,i.frameId)})}_addFrame(e,r,n){let i=new nL(this,e,r,n);return this._frames.set(i.id,i),i.isMainFrame()&&(this._mainFrame=i),this._onFrameAddedEmitter.fire(i),i}_frameAttached(e,r,n,i){let o=this._frames.get(n);return o||(o=this._addFrame(e,n,i)),o._ref(r),o}_frameNavigated(e,r,n){let i=this._frames.get(n.id);i||(i=this._frameAttached(e,r,n.id,n.parentId)),i._navigate(n,r),this._onFrameNavigatedEmitter.fire(i)}_frameDetached(e,r,n){let i=this._frames.get(n);i&&i._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,n,i){let o=r.frame,s=this._frames.get(o.id);s?(s._navigate(o,i),this._onFrameNavigatedEmitter.fire(s)):(s=this._addFrame(e,o.id,n),s._navigate(o,i));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],s.id,i)}},nL=class{constructor(e,r,n,i){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=i,this.id=n,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:vve(this._url)||`<iframe ${this.id}>`}};function rL(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function vve(t){let e;try{e=new Q5.URL(t)}catch{return rL(t,20)}if(e.protocol==="data")return rL(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=Z5.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=rL(t,20)),r}var eG=require("url"),iL=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},oL=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new eG.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let n=r||`${e.host}`,i=this._status==="activated"?"":` ${this._status}`,o=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${n} #${this.id}${i}${o}`}},hx=class t{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new Y;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,t._instances.add(this)}static{this._instances=new Set}dispose(){t._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),t._mode!=="normal"&&this.setMode(t._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(n=>n.url());for(let n of this._registrations.values())for(let i of r)if(i.startsWith(n.scopeURL)){e.push(n);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let n=this._registrations.get(r.registrationId);if(!n)continue;let i=n.versions.get(r.versionId);i||(i=new oL(n,r),n.versions.set(r.versionId,i)),r.targetId&&this._versions.set(r.targetId,i),i.addRevision(r),i.status()==="redundant"&&i.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),n.versions.delete(i.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new iL(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){t._mode=e;for(let r of t._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}};var Ja=class{constructor(e,r,n,i,o,s,a,c){this.process=r;this.logger=o;this.telemetry=s;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new fx;this.serviceWorkerModel=new hx(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new Y;this._onTargetRemovedEmitter=new Y;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=i,this._browser=n,this._targetOrigin=c,this.serviceWorkerModel.onDidChange(()=>{for(let u of this._targets.values())u.type()==="service_worker"&&u._onNameChangedEmitter.fire()})}static async connect(e,r,n,i,o,s,a){let u=await e.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=e.createSession(u.sessionId);return new this(e,r,l,n,o,s,i,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>bh.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),this.process?.kill();else for(let e of this._targets.values())await this._browser.Target.closeTarget({targetId:e.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,n=new Promise(o=>r=o),i=async o=>{if([...this._targets.values()].some(c=>c.targetId===o.targetId)||this._detachedTargets.has(o.targetId)||e&&!e(o))return;let s=this._browser.Target.on("targetInfoChanged",c=>{c.targetInfo.targetId===o.targetId&&(o=c.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:o.targetId,flatten:!0})}finally{s.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(o,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(o=>i(o.targetInfo))),this._browser.Target.on("targetInfoChanged",o=>this._targetInfoChanged(o.targetInfo,this.enqueueLifecycleFn(i))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async o=>{o.targetId&&await this._detachedFromTarget(o.sessionId,!1)})),n}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,n,i,o=!0){let s=this._targets.get(r);if(s)return s;let a=this._connection.createSession(r),c=new Ky(this,e,a,i,n,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,c),i&&i._children.set(e.targetId,c),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,c)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:o,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),i||this.retrieveBrowserTelemetry(a);let u=e.type;return zy.has(u)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(c),!bh.has(u)||u==="service_worker"?c.runIfWaitingForDebugger():u==="page"&&o&&a.Page.waitForDebugger({}),c}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let n={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let i=(r.product||"").split("/");i.length===2?(n.targetProject=i[0],n.targetVersion=i[1]):n.targetProduct=r.product,this.telemetry.report("browserVersion",n)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){let n=this._targets.get(e);if(n){this._targets.delete(e),n.parentTarget?._children.delete(e);try{await n._detached()}catch{}if(this._onTargetRemovedEmitter.fire(n),r&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let n=[...this._targets.values()].filter(i=>i.targetId===e.targetId);if(!e.attached||!n.length)return n.length&&await Promise.all(n.map(i=>this._detachedFromTarget(i.sessionId,!1))),r(e);for(let i of n)i._updateFromInfo(e);for(let i of this._targets.values())i.targetId!==e.targetId&&i._onNameChangedEmitter.fire()}};var gG=A(require("child_process")),HG=require("fs");var bve=50,On=class t{constructor(e){this.messageEmitter=new Y;this.endEmitter=new Y;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new ei])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,n){let i=!e.startsWith("ws://"),o=await $l(e);for(;;){let s=Date.now()+bve;try{let a={headers:{host:n??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},c=new qN(e,[],a);return await Co(new Promise((u,l)=>{c.addEventListener("open",()=>u(new t(c))),c.addEventListener("error",p=>{let d=e===c.url?e:c.url.replace(/^http(s?):/,"ws$1:");if(d===e){l(p.error);return}this.create(d,r,n).then(u,l)})}),jr.withTimeout(2e3,r).token,`Could not open ${e}`).catch(u=>{throw c.close(),u})}catch(a){if(r.isCancellationRequested)throw a;let c=s-Date.now();c>0&&await ke(c)}}}send(e){this._ws?.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var mx=A(require("path"));function wve(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new Gt(t).map((r,n)=>e.some(i=>i.test(r))?void 0:n)}var Gt=class t{constructor(e){this.defined=_e(()=>sl(this.value));this.value=e?v$(e):{}}static{this.platform=process.platform}static{this.empty=new t({})}static{this.processEnv=_e(()=>wve(process.env))}lookup(e){return t.platform==="win32"?x$(this.value,e):this.value[e]}addToPath(e,r="append",n=!1){let i=t.platform==="win32"?"Path":"PATH",o=t.platform==="win32"?mx.win32.delimiter:mx.posix.delimiter,s=this.lookup(i);return n&&!s&&(s=`\${env:${i}}`),s?r==="append"?s=s+o+e:s=e+o+s:s=e,this.update(i,s)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return t.merge(this,{[e]:r})}merge(...e){return t.merge(this,...e)}map(e){return new t(Yo(this.value,(r,n)=>e(n,r)))}static merge(...e){let r=e.map(i=>i instanceof t?i.value:i),n=t.platform==="win32"?w$(...r):Object.assign({},...r);return new t(n)}};var tG="--remote-debugging-port",rG="--remote-debugging-pipe",nG=t=>{let e={};for(let r of t){let n=r.indexOf("=");n===-1?e[r]=null:e[r.slice(0,n)]=r.slice(n+1)}return e},gx=t=>{let e=[];for(let r of Object.keys(t)){let n=t[r];n!==void 0&&e.push(n===null?r:`${r}=${n}`)}return e},Ya=class t{constructor(e=[]){this.args=e;this.argMap=_e(()=>nG(this.args))}static{this.default=new t(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"])}add(e,r=null){return new t(gx({...this.argMap(),[e]:r}))}remove(e){return new t(gx({...this.argMap(),[e]:void 0}))}merge(e){return new t(gx({...this.argMap(),...e instanceof t?e.argMap():nG(e)}))}setConnection(e){return new t(gx({...this.argMap(),[rG]:e==="pipe"?null:void 0,[tG]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(rG))return"pipe";let r=e[tG];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),n=[];for(let i of Object.keys(r)){let o=r[i];e(i,o)&&n.push(o===null?i:`${i}=${o}`)}return new t(n)}toArray(){return this.args.slice()}};var sL=require("url");function Hx(t,e,r){let n=Qo(s=>{if(s)return new sL.URL(s);throw new Error(`A valid url wasn't supplied: <${s}>`)}),i={"url.hostname":()=>n(e).hostname,"url.port":()=>n(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new sL.URL(r).pathname,wsProtocol:()=>n(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(s,a)=>i.hasOwnProperty(a)?i[a]():s)}var dG=A(require("readline"));var aG=A(vx());var ui=class{constructor(e,r,n){this.logger=e;this.pipeWrite=r;this.pipeRead=n;this.messageEmitter=new Y;this.endEmitter=new Y;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=_e(()=>{this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),this.pipeRead?.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=n||r;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,aG.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new ei])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){this.streams?.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var bx=require("child_process"),aL=require("path");function Mi(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let n=process.env.WINDIR||"C:\\Windows",i=(0,aL.join)(n,"System32","taskkill.exe");try{return(0,bx.execSync)(`${i} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(o){return e.error("runtime.exception","Error running taskkill.exe",o),!1}}else try{let n=(0,aL.join)(__dirname,"./targets/node/terminateProcess.sh"),i=(0,bx.spawnSync)("sh",[n,t.toString(),r==="forceful"?"9":"15"]);return i.stderr&&i.status?(e.error("runtime.exception","Error running terminateProcess",i),!1):!0}catch(n){return e.error("runtime.exception","Error running terminateProcess",n),!1}}var lG=require("fs");async function cL(t,e,r,n){let i=new ka(lG.promises),[o,s]=await Promise.all([cG(i,new URL("/json/version",t),e),n?cG(i,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!o.ok)r.verbose("runtime.launch","Error looking up /json/version",o);else if(o.body.webSocketDebuggerUrl){let a=uG(o.url,o.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:o.body.webSocketDebuggerUrl,fixed:a}),a}if(s)if(!s.ok)r.verbose("runtime.launch","Error looking up /json/list",s);else{let a=uG(s.url,s.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:s.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function cG(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});let n=e.toString();e.hostname="127.0.0.1";let i=e.toString(),o=new jr(r);try{let s;return await ho([n,i].map(async c=>(s=await t.fetchJson(c,o.token),s.ok&&s)))||s}finally{o.cancel()}}var pG=t=>async(e,r,n)=>{for(;;)try{return await cL(e,r,n,t)}catch(i){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${i.message}`);await ke(200)}},ld=pG(!0),wx=pG(!1);function uG(t,e){let r=new URL(t),n=new URL(e);return n.host=r.host,n.toString()}var fG=async(t,e,r,n)=>{let i=r.connection===0?await Dve(e,n):await wx(`http://localhost:${r.connection}`,n,t),o=r.inspectUri?Hx(r.inspectUri,r.url,i):i;for(;;)try{return await On.create(o,n)}catch(s){if(n.isCancellationRequested)throw s;await ke(200)}},xx=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new Y().event;this.onError=new Y().event}async transport(e,r){return fG(this.logger,this,e,r)}kill(){}},_x=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new Y;this.onExit=this.exitEmitter.event;this.errorEmitter=new Y;this.onError=this.errorEmitter.event;e.on("exit",n=>this.exitEmitter.fire(n||0)),e.on("error",n=>this.errorEmitter.fire(n))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new ui(this.logger,this.cp.stdio[3],this.cp.stdio[4]):fG(this.logger,this,e,r)}kill(){Mi(this.cp.pid,this.logger)}};function Dve(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,n)=>{let i=dG.createInterface({input:t.stderr}),o="",s=()=>u();i.on("line",l),i.on("close",s);let a=new Ie([t.onExit(()=>u()),t.onError(u)]),c=e.onCancellationRequested(()=>{p(),n(new Do(`Timed out after ${c} ms while trying to connect to the browser!`))});function u(d){p(),n(new Error(["Failed to launch browser!"+(d?" "+d.message:""),o,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(d){o+=d+`
`;let m=d.match(/^DevTools listening on (ws:\/\/.*)$/);m&&(p(),r(m[1]))}function p(){c.dispose(),i.removeListener("line",l),i.removeListener("close",s),a.dispose()}})}async function hG(t,e,r,n){let i=t.launchUnelevatedRequest({process:e,args:r});await Co(i,n,"Could not launch browser unelevated")}var mG=()=>{};async function yG(t,e,r,n,i,o,s={}){let{onStderr:a=mG,onStdout:c=mG,args:u=[],dumpio:l=!1,cwd:p=process.cwd(),env:d=Gt.empty,connection:m="pipe",cleanUp:f="wholeBrowser",url:g,inspectUri:v}=s,x=new Ya(u),C=x.getSuggestedConnection();s.includeLaunchArgs!==!1?(x=uL(x,s),C===void 0&&(x=x.setConnection(m),C=m)):C===void 0&&(C="pipe");let $=["pipe","pipe","pipe"];C==="pipe"&&(l?$=["ignore","pipe","pipe","pipe","pipe"]:$=["ignore","ignore","ignore","pipe","pipe"]);let T;if(!!(i.supportsLaunchUnelevatedProcessRequest&&s.launchUnelevated)&&typeof C=="number"&&C!==0)await hG(t,e,x.toArray(),o),T=new xx(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let X=gG.spawn(e,x.toArray(),{detached:!0,env:d.defined(),cwd:await $c(HG.promises,p)?p:process.cwd(),stdio:$});if(X.pid===void 0)throw await Promise.race([ke(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise(F=>X.once("error",F))]);T=new _x(X,r)}l?(T.stderr?.on("data",X=>a(X.toString())),T.stdout?.on("data",X=>c(X.toString()))):(T.stderr?.resume(),T.stdout?.resume());let J=()=>{f==="wholeBrowser"&&T.kill()};process.on("exit",J),T.onExit(()=>process.removeListener("exit",J));try{if(s.promisedPort){let M;C=await Promise.race([s.promisedPort,new Promise((O,D)=>{M=T.onExit(W=>{D(new re(X1(W)))})})]).finally(()=>M.dispose())}let X=await T.transport({connection:C,inspectUri:v||void 0,url:g||void 0},o),F=new Ut(X,r,n);return J=async()=>{f==="wholeBrowser"?(await F.rootSession().Browser.close({}),T.kill()):F.close()},{cdp:F,process:T}}catch(X){throw J(),X}}function uL(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:n=!1}=e,i=n===!0?new Ya:Ya.default;return n instanceof Array&&(i=i.filter(o=>!n.includes(o))),r&&(i=i.add("--user-data-dir",r)),i=i.merge(t),t.toArray().every(o=>o.startsWith("-"))&&e.hasUserNavigation&&(i=i.add("about:blank")),i}async function vG(t,e,r,n){let{browserWSEndpoint:i,browserURL:o}=t;if(i){let s=await On.create(i,e);return new Ut(s,r,n)}else if(o){let s=await wx(o,e,r),a=t.inspectUri?Hx(t.inspectUri,t.pageURL,s):s,c=await On.create(a,e);return new Ut(c,r,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var li=class{constructor(e,r,n){this.logger=e;this.pathResolver=r;this.vscode=n;this._disposables=[];this._onTerminatedEmitter=new Y;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new Y;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:pr})},1e3)}createTargetManager(e,r,n){return Ja.connect(e,void 0,this.pathResolver,r,this.logger,n.telemetryReporter,n.targetOrigin)}async attemptToAttach(e,r){let n=await this.acquireConnectionForBrowser(r,e);this._connection=n,n.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let i=this._targetManager=await this.createTargetManager(n,e,r);if(!i)return;i.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),i.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),i.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),i.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),i.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let o=await Promise.race([i.waitForMainTarget(await this.getTargetFilter(i,e)),ke(e.timeout).then(()=>{throw new re(Ty())})]);return typeof o=="string"?o:void 0}async getTargetFilter(e,r){let n=la(r),i=Rl(n);if(r.targetSelection!=="pick")return i;let o=await e.getCandiateInfo(i);if(o.length===0)return i;if(o.length===1||!this.vscode)return c=>c.targetId===o[0].targetId;let s=Ax.t("Select a tab"),a=await this.vscode.window.showQuickPick(o.map(c=>({label:c.title,detail:c.url,targetId:c.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:s});return a?c=>c.targetId===a.targetId:i}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},n){for(;this._lastLaunchParams===n;)try{return await this.acquireConnectionInner(e,n,r)}catch(i){if(r.isCancellationRequested)throw new re(gh(Ax.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,i.message)));await ke(1e3)}throw new re(gh(Ax.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,"Cancelled")))}async acquireConnectionInner(e,r,n){let i=`http://${r.address}:${r.port}`;return await vG({browserURL:i,inspectUri:r.inspectUri,pageURL:r.url},n,this.logger,e)}async terminate(){this._lastLaunchParams=void 0,this._connection?.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};li=E([(0,Za.injectable)(),b(0,(0,Za.inject)(ce)),b(1,(0,Za.inject)(it)),b(2,(0,Za.optional)()),b(2,(0,Za.inject)(Yn))],li);var Oi=A(Z());var wG=A(rA()),lg=A(require("fs")),ec=A(Z()),pd=A(require("path"));var No=class{constructor(e,r,n,i,o){this.storagePath=e;this.logger=r;this.pathResolver=n;this.initializeParams=i;this.fs=o;this._disposables=new Ie;this._terminated=!1;this._onTerminatedEmitter=new Y;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new Y;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:n,includeLaunchArgs:i,runtimeArgs:o,userDataDir:s,env:a,cwd:c,port:u,url:l,file:p,inspectUri:d,webRoot:m,cleanUp:f,launchUnelevated:g},v,x,C,$){let T=await this.findBrowserPath(e||"stable"),R;return typeof s=="string"?R=pd.resolve(s):s&&(R=pd.resolve(pd.join(this.storagePath,o?.includes("--headless")?".headless-profile":".profile"))),lg.mkdirSync(this.storagePath,{recursive:!0}),R&&(lg.mkdirSync(R,{recursive:!0}),R=lg.realpathSync(R)),await yG(v,T,this.logger,C,this.initializeParams,x,{onStdout:J=>v.output({category:"stdout",output:J}),onStderr:J=>v.output({category:"stderr",output:J}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:f,hasUserNavigation:!!(l||p),cwd:c||m||void 0,env:Gt.merge(Gt.processEnv(),a),args:o||[],userDataDir:R,connection:u||(d?0:"pipe"),launchUnelevated:g,ignoreDefaultArgs:!n,includeLaunchArgs:i,url:l,inspectUri:d,promisedPort:$})}getFilterForTarget(e){return Rl(la(e,["about:blank"]))}async prepareLaunch(e,{dap:r,targetOrigin:n,cancellationToken:i,telemetryReporter:o}){let s;try{s=await this.launchBrowser(e,r,i,o)}catch(u){throw new re(q1(u))}if(this._disposables.push(s.cdp.onDisconnected(()=>this.fireTerminatedEvent())),this._connectionForTest=s.cdp,this._launchParams=e,this._targetManager=await Ja.connect(s.cdp,s.process,this.pathResolver,this._launchParams,this.logger,o,n),!this._targetManager)throw s.process.kill(),new re(gh());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let a=this.getFilterForTarget(e),c=await Co(this._targetManager.waitForMainTarget(a),i,"Could not attach to main target");if(!c)throw s.process.kill(),new re(Ty());return c}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let n;if(r.file){let i=pd.resolve(r.webRoot||r.rootPath||"",r.file),o=Math.min(i.includes("#")?i.indexOf("#"):1/0,i.includes("?")?i.indexOf("?"):1/0);isFinite(o)&&!await An(this.fs,i)?n=Ne(i.slice(0,o))+i.slice(o):n=Ne(i)}else n=r.url;n&&await e.cdp().Page.navigate({url:n})}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};let i=await this.prepareLaunch(n,r);return await this.finishLaunch(i,n),{blockSessionTermination:!0}}async terminate(){await this._targetManager?.closeBrowser()}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){return r==="*"?(await e.findWhere(i=>i.quality==="stable")||(await e.findAll())[0])?.path:(0,wG.isQuality)(r)?(await e.findWhere(n=>n.quality===r))?.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};No=E([(0,ec.injectable)(),b(0,(0,ec.inject)(Io)),b(1,(0,ec.inject)(ce)),b(2,(0,ec.inject)(it)),b(3,(0,ec.inject)(ln)),b(4,(0,ec.inject)(we))],No);var ku=class extends No{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await $c(this.fs,n))throw new re(Ly("Chrome",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};ku=E([(0,Oi.injectable)(),b(0,(0,Oi.inject)(Io)),b(1,(0,Oi.inject)(ce)),b(2,(0,Oi.inject)(Yc)),b(2,(0,Oi.tagged)("browser","chrome")),b(3,(0,Oi.inject)(we)),b(4,(0,Oi.inject)(it)),b(5,(0,Oi.inject)(ln))],ku);var xG=require("crypto"),Fi=A(Z()),_G=require("net"),AG=require("os"),IG=require("path");var Cve=["--do-not-de-elevate"],dd=class extends No{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,n,i,o){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Cve},n,i,o,r.useWebView?this.getWebviewPort(r,o):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?Rl(la(r)):super.getFilterForTarget(r)}async getWebviewPort(r,n){let i=We();if(!r.runtimeExecutable)return i.resolve(r.port),i.promise;let o=r.runtimeExecutable.split(/\\|\//).pop(),s=`VSCode_${(0,xG.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${o}\\${s}`,c=(0,_G.createServer)(u=>{u.on("data",async l=>{let p=JSON.parse(l.toString()),d=p.devtoolsActivePort||"",m=parseInt(d.split(`
`).shift()||""),f=r.port||m;i.resolve(f);let g=`ws://${r.address}:${f}/devtools/${p.type}/${p.id}`,v=await On.create(g,pr),x=new Ut(v,this.logger,n);await x.rootSession().Runtime.runIfWaitingForDebugger({}),x.close()})});return c.on("error",i.reject),c.on("close",()=>i.resolve(r.port)),c.listen(a),r.userDataDir=r.userDataDir||(0,IG.join)((0,AG.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=s,i.promise}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await $c(this.fs,n))throw new re(Ly("Edge",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};dd=E([(0,Fi.injectable)(),b(0,(0,Fi.inject)(Io)),b(1,(0,Fi.inject)(ce)),b(2,(0,Fi.inject)(Yc)),b(2,(0,Fi.tagged)("browser","edge")),b(3,(0,Fi.inject)(we)),b(4,(0,Fi.inject)(it)),b(5,(0,Fi.inject)(ln))],dd);var Cs=A(Z());var SG=require("crypto"),Ix=A(Z());var Pve=0,jo=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,n){this.server&&this.server.close();let i=`/${(0,SG.randomBytes)(20).toString("hex")}`,o=this.server=await Kv(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:i}),s=++Pve;e.launchBrowserInCompanion({...n,serverPort:o.address().port,path:i,launchId:s});let a=await Co(new Promise((u,l)=>{o.once("connection",u),o.once("error",l)}),r,"Timed out waiting for browser connection"),c=new On(a);return this.teardown.set(c,()=>e.killCompanionBrowser({launchId:s})),c}close(e){this.teardown.get(e)?.()}dispose(){this.server?.close(),this.server=void 0}};jo=E([(0,Ix.injectable)(),b(0,(0,Ix.inject)(dt))],jo);var fd=class extends li{constructor(r,n,i,o){super(n,i,o);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,n){let i=await this.helper.launch(r.dap,r.cancellationToken,{type:n.type==="pwa-chrome"?"chrome":"edge",params:n,attach:{host:n.address,port:n.port}});return new Ut(i,this.logger,r.telemetryReporter)}};fd=E([(0,Cs.injectable)(),b(0,(0,Cs.inject)(jo)),b(1,(0,Cs.inject)(ce)),b(2,(0,Cs.inject)(it)),b(3,(0,Cs.optional)()),b(3,(0,Cs.inject)(Yn))],fd);var Ps=A(Z());var hd=class extends No{constructor(r,n,i,o,s,a){super(r,n,i,o,s);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,n,i,o){let s=await this.helper.launch(n,i,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:uL(new Ya(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{cdp:new Ut(s,this.logger,o),process:{onExit:new Y().event,onError:new Y().event,transport:()=>Promise.resolve(s),kill:()=>this.helper.close(s)}}}async findBrowserPath(){throw new Error("not implemented")}};hd=E([(0,Ps.injectable)(),b(0,(0,Ps.inject)(Io)),b(1,(0,Ps.inject)(ce)),b(2,(0,Ps.inject)(it)),b(3,(0,Ps.inject)(ln)),b(4,(0,Ps.inject)(we)),b(5,(0,Ps.inject)(jo))],hd);var tc=A(Z()),$G=require("net");var md=class extends li{constructor(e,r,n){super(e,r,n)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:n}=await Promise.resolve().then(()=>A(TG())),i=n(r.useWebView.pipeName);if(!i)throw new re(V1());let o=i.map(c=>(0,$G.connect)(c)),s;try{s=await Co(ho(o.map(c=>new Promise(u=>c.on("error",()=>u(void 0)).on("connect",()=>u(c))))),e.cancellationToken)}finally{for(let c of o)c!==s&&c.destroy()}if(!s)throw new re(G1());let a=new ui(this.logger,s);return new Ut(a,this.logger,e.telemetryReporter)}};md=E([(0,tc.injectable)(),b(0,(0,tc.inject)(ce)),b(1,(0,tc.inject)(it)),b(2,(0,tc.optional)()),b(2,(0,tc.inject)(Yn))],md);var vd=A(Z()),GG=require("net");var Fn=A(Z());var pg=Symbol("ILinkedBreakpointLocation");var NG=A(require("path"));var fg=A(Z()),nc=A(require("path")),BG=require("url");var kG=require("fs"),Ls=A(require("path")),lL=require("url");function Ex(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function Dx(t,e,r,n,i){e=At(e)||e;let o;if(t){if(cn(t))o=At(t);else if(Nr(t))o=await n(t,r,i)||t;else if(Ls.isAbsolute(e))o=Ove(e,t);else{let s=new lL.URL(e).pathname,a=await n(s,r,i),c=Ls.dirname(a);o=Zs(c,t)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:o})}else if(Ls.isAbsolute(e))o=Ls.dirname(e),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:o});else{let s=new lL.URL(e).pathname||"/placeholder.js",a=await n(s,r,i);o=a?Ls.dirname(a):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:o})}return o=SO(o),o=kt(o),o}var dg=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let n=Object.keys(e).sort((i,o)=>o.length-i.length);for(let i of n){if(!i)continue;let o=e[i];if(i[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),Rve(i,t))return Mve(i,o,t)}return""},RG=(t,e)=>async(r,n,i)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let o=await Tl(t,Ls.dirname(e),"package.json");if(!o)return dg(r,n,i);let s=await dg(r,b$(n,a=>a.length>=o.length),i);return process.platform!=="win32"&&r!=="/"&&!s&&(await kG.promises.stat(r).catch(()=>{}))?.isDirectory()?r:s||o};function Rve(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function Mve(t,e,r){let n=decodeURIComponent(r.substring(t.length));return n?Zs(e,n):e}function Ove(t,e){return In(Ls.dirname(t),e)}var FG=A($h()),Hd=A(require("path"));var Lx="*",MG=new RegExp(Yr(Lx),"g"),Cx="?:"+Lx,Fve=new RegExp(Yr(Cx),"g"),pL=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},OG=new RegExp(`${Yr(Cx)}|${Yr(Lx)}`,"g"),Px=class{constructor(e,r){this.logger=r;this.replacers=[];let n=Object.keys(e).sort((i,o)=>o.replace(Cx,"*").length-i.replace(Cx,"*").length);for(let i of n){let o=e[i];if(!o.includes("*")&&/\$[0-9'`&]/.test(o)){this.replacers.push([new RegExp(`^${i}$`,"i"),o]);continue}let s=Qe(i),a=`"${s}": "${o}"`,c=pL(MG,s)-pL(Fve,s);if(c>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(pL(MG,o)>c){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let u="^",l=0;for(OG.lastIndex=0;;){let p=OG.exec(s);if(u+=Yr(s.slice(l,p?.index),"/"),!p)break;p[0]===Lx?u+="(.*?)":u+=".*?",l=p.index+p[0].length}c===0&&(u+="([\\/\\\\].*)?",o+="*"),this.replacers.push([new RegExp(u+"$","i"),o.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=Qe(e);for(let[n,i]of this.replacers){let o=r.replace(n,i);if(o!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${o}, via sourceMapPathOverrides entry - ${n.toString()}`),Zs(o)}return e}};var Bve=/\x00/,gd=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new Px(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=this.options.resolveSourceMapLocations?.map(e=>{let r=e.startsWith("!")?"!":"",n=e.slice(r.length).replace(/\.[a-z0-9]+$/,".*");if(!Nr(n))return Qe(e);n=Qe(In(n));let i=iI(this.options.workspaceFolder),o=iI(n),s=0;for(let a=0;a<i.length&&a<o.length&&o[a].toLowerCase()===i[a].toLowerCase();a++)s+=i[a].length+1;return n=n.slice(0,s).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+n.slice(s),r+n})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(Ra)||r==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let n=At(e)||wr(e)&&r||e;if(n.startsWith("webpack-internal:///"))return!0;let i=by(e)?!1:BI(),o=this.rebaseRemoteToLocal(n);return(0,FG.default)((o!==n?[n,o]:[n]).map(Qe),this.resolvePatterns,{dot:!0,nocase:!i}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return Hd.resolve(e);let r=ch(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let n=Zs(this.options.localRoot,r);return n=oI(n),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${n}`),In(n)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=ch(this.options.localRoot,e),n=Zs(this.options.remoteRoot,r);return n=kt(n,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${n}`),n}normalizeSourceMapUrl(e){e=e.replace(Bve,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return Hd.posix.isAbsolute(e)||Hd.win32.isAbsolute(e)||cn(e)}};var dL="https?:\\/\\/[^\\/]+\\/",rc=class extends gd{constructor(r,n,i,o){super(i,o);this.vueMapper=r;this.fsUtils=n}absolutePathToUrlPath(r){r=nc.normalize(r);let{baseUrl:n,pathMapping:i}=this.options,o=["/",i["/"]],s=Object.entries(i).sort(([u,l],[p,d])=>d.length-l.length||p.length-u.length).find(([,u])=>vy(u,r))||o;if(!s)return{url:Ne(r),needsWildcard:!1};if(n&&cn(n))return{url:kl(r),needsWildcard:!1};let a=ua(nc.relative(s[1],r)),c=s[0].replace(/\/$|^\//g,"");return c&&(a=c+"/"+a),!n&&!ev(a)?{url:a,needsWildcard:!0}:{url:qy(n,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:n}){let i=r.indexOf("?");return i!==-1&&r.slice(i-4,i)!==".vue"&&(r=r.slice(0,i)),n?this.sourceMapSourceToAbsolute(r,n):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(cn(r)){let s=At(r);if(await this.fsUtils.exists(s))return s;let a=EO(r);return await this.fsUtils.exists(a)?a:s}let n;try{let s=new BG.URL(r);if(!s.pathname||s.pathname==="/"?n="index.html":n=s.pathname,s.protocol==="webpack-internal:")return}catch{n=r}let i=nc.extname(n),o=n.replace(/^\//,"").split(/[\/\\]/);for(;o.length>0;){let s="/"+o.join("/"),a=await dg(s,this.options.pathMapping,this.logger);if(a){if(!i&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}o.shift()}}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return kt(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:i}=this.options,o=Ex(n.sourceRoot,r),s=this.sourceMapOverrides.apply(o);if(s!==o){s=kt(s);let a=In(i["/"],"..","ClientApp",ch(i["/"],s));return this.options.clientID==="visualstudio"&&o.startsWith("webpack:///")&&!await this.fsUtils.exists(s)&&await this.fsUtils.exists(a)?a:s}return cn(r)?At(r):nc.isAbsolute(r)?kt(r):In(await Dx(n.sourceRoot,n.metadata.compiledPath,i,dg,this.logger),r)}absolutePathToUrlRegexp(r){let n=this.absolutePathToUrlPath(r),i=n.url,o=i.length;i.endsWith("index.html")?(o=i.length-10-1,i=i.slice(0,o)+"\\/?($|index(\\.html)?)"):i.endsWith(".html")&&(o=i.length-5,i=i.slice(0,o)+"(\\.html)?");let s=0;n.needsWildcard&&(i=dL+i,s=dL.length,o+=dL.length);let a=Gn(i,[s,o]);return n.needsWildcard?`${Gn(Ne(r))}|${a}`:a}};rc=E([(0,fg.injectable)(),b(0,(0,fg.inject)(Up)),b(1,(0,fg.inject)(Br))],rc);var Tx=class extends rc{constructor(r,n,i,o){super(r,n,i,o);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let s=`\\${NG.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(s,"g"),s);this.blazorInCodespacesRegexp=new RegExp(`^${a}${s}([A-z])\\$${s}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let n=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),o=ua(n).replace(/^(\w):(.*)$/,"$1$2"),s=Gn(o);if(s){let a=`dotnet://.*\\.dll/${s}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let n=Ne(r),i=Gn(n),o=super.absolutePathToUrlRegexp(r);return i.includes(o)?i:`${i}|${o}`}return super.absolutePathToUrlRegexp(r)}};var jG=require("url");function UG(t){if("file"in t&&t.file)return kl(t.file);if(t.url)try{let e=new jG.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var Ru=A(require("path")),WG=require("url");var qG="node:",Ts=class t extends gd{constructor(r,n,i,o){super(i,o);this.fsUtils=r;this.linkedBp=n;this.options=i;this.logger=o}static shouldWarnAboutSymlinks(r){return"runtimeArgs"in r&&!r.runtimeArgs?.includes("--preserve-symlinks")}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new t(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:n}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(qG)&&this.options.basePath)return r=Ru.join(this.options.basePath,"lib",r.slice(qG.length)),r.endsWith(".js")||(r+=".js"),r;if(n)return this.sourceMapSourceToAbsolute(r,n);let i=At(r);if(i)return this.rebaseRemoteToLocal(i);if(ev(r)){let s=this.sourceMapOverrides.apply(r);r=s===r?new WG.URL(r).pathname.slice(1):s}else if(Ru.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let o=In(this.options.basePath??"",r);return this.rebaseRemoteToLocal(o)}absolutePathToUrl(r){return Ne(this.rebaseLocalToRemote(Ru.normalize(r)))}async absolutePathToUrlRegexp(r){let n=r;try{n=await this.fsUtils.realPath(r)}catch{}return Qy(n,r)?Gn(this.absolutePathToUrl(r)):(this.linkedBp?.warn(),Gn(this.absolutePathToUrl(r))+"|"+Gn(this.absolutePathToUrl(n)))}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;let i=Ex(n.sourceRoot,r),o=this.sourceMapOverrides.apply(i);return o!==i?kt(o):cn(r)?At(r):!Ru.isAbsolute(r)&&this.options.basePath?In(await Dx(this.options.remoteRoot&&Nr(n.sourceRoot)&&this.rebaseRemoteToLocal(n.sourceRoot)||n.sourceRoot,n.metadata.compiledPath,{"/":this.options.basePath},RG(this.fsUtils,n.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var en=Symbol("ISourcePathResolverFactory"),Bi=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new Ts(this.fsUtils,Ts.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,Ts.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};Bi=E([(0,Fn.injectable)(),b(0,(0,Fn.inject)(Br)),b(1,(0,Fn.optional)()),b(1,(0,Fn.inject)(pg))],Bi);var yd=class{constructor(e,r,n,i){this.initializeParams=e;this.vueMapper=r;this.fsUtils=n;this.linkedBp=i}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new Ts(this.fsUtils,Ts.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,Ts.getOptions(e),r);{let n=!!e.inspectUri;return new(n?Tx:rc)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:UG(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};yd=E([(0,Fn.injectable)(),b(0,(0,Fn.inject)(ln)),b(1,(0,Fn.inject)(Up)),b(2,(0,Fn.inject)(Br)),b(3,(0,Fn.optional)()),b(3,(0,Fn.inject)(pg))],yd);var VG=require("url");var $x=class extends Ja{constructor(){super(...arguments);this.baseFilter=la(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:n,debugWebviews:i}=this.launchParams;return!!(n&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||i&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,n,i,o,s,a){let u=await r.rootSession().Target.attachToBrowserTarget({});if(!u)return;let l=r.createSession(u.sessionId);return new this(r,void 0,l,n,o,s,i,a)}waitForMainTarget(r){let n=this.launchParams;return n.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:i})=>{if(!i.url.includes(n.__sessionId))return;let o=await this._browser.Target.attachToTarget({targetId:i.targetId,flatten:!0});o&&this.attachedToTarget(i,o.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,n,i,o){let s=super.attachedToTarget(r,n,i||this.filter(r),o,!1);return r.type==="iframe"&&s.setComputeNameFn(Nve),s}},Nve=t=>{let e;try{e=new VG.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var Ni=class extends li{constructor(r,n,i){super(r,n);this.pathResolverFactory=i}async launch(r,n){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let i=Ni.debugIdToRendererDebugPort.get(r.__sessionId);if(!i)return{blockSessionTermination:!1};let o=Js({name:"Webview",type:"pwa-chrome",request:"attach",port:i,__workspaceFolder:r.__workspaceFolder,urlFilter:"",resolveSourceMapLocations:r.resolveSourceMapLocations,...r.rendererDebugOptions});return o.__sessionId=r.__sessionId,o.debugWebWorkerExtHost=r.debugWebWorkerHost,o.debugWebviews=r.debugWebviews,super.launch(o,n).catch(s=>this.logger.error("runtime.exception","Error in webview attach",{err:s})),{blockSessionTermination:!1}}async acquireConnectionInner(r,n,i){let o=new Ie,s=await new Promise((a,c)=>{let u=(0,GG.createConnection)({port:n.port},()=>a(u));u.on("error",c),o.push(i.onCancellationRequested(()=>{u.destroy(),c(new Error("connection timed out"))}))}).finally(()=>o.dispose());return new Ut(new ui(this.logger,s),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,n,i){return new $x(r,void 0,r.rootSession(),this.pathResolverFactory.create(n,this.logger),this.logger,i.telemetryReporter,n,i.targetOrigin)}};Ni.debugIdToRendererDebugPort=new Map,Ni=E([(0,vd.injectable)(),b(0,(0,vd.inject)(ce)),b(1,(0,vd.inject)(it)),b(2,(0,vd.inject)(en))],Ni);var ic=class t{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new t}};var zG=Symbol("ITargetOrigin"),kx=class{constructor(e){this.id=e}},bd=class{constructor(e){this.id=e}};var Rx=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new ko;this.onTerminatedEmitter=new Y;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,n])=>{n.parent&&this.targets.get(n.parent.id)&&this.targets.add(n.id,n.target)}),e.onRemove(([n])=>{this.targets.remove(n)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let n=this.parentList.get(e.delegateId);if(n===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let i=n.target.targetOrigin();if(!(i instanceof bd))throw new Error("Expected delegate session to have a mutable target origin");let o=n.target.logger;if(!(o instanceof ic))throw new Error("Expected delegate session to have a proxy logger");return i.id=r.targetOrigin.id,o.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,n.target),n.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var KG=A(Z());var jve=0,Uo=class{constructor(){this.delegateSessions=new ko;this.refsByTarget=new WeakMap}createLauncher(e){return new Rx(this.delegateSessions,e)}addDelegate(e,r,n){let i={id:jve++,target:e,dap:r,parent:n&&this.refsByTarget.get(n)};return this.refsByTarget.set(e,i),this.delegateSessions.add(i.id,i),i.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};Uo=E([(0,KG.injectable)()],Uo);var p6=A(Z());var rt=class t{constructor(e,r,n){this.major=e;this.minor=r;this.patch=n}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new t(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var a6=A(Z());var o6=A(ZG()),Wo=A(require("fs")),Ou=A(Z()),s6=A(require("net")),vL=A(require("os")),bL=A(require("path"));var Mx=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new Y;this.onEndEmitter=new Y;this.disposables=new Ie;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",n=>{n.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",n=>{n.sessionId===e&&this.onMessageEmitter.fire([n.message,new ei])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var gL=":::",Ox=class{constructor(e){this.processEnv=e}get nodeOptions(){return this.processEnv.NODE_OPTIONS}set nodeOptions(e){e===void 0?delete this.processEnv.NODE_OPTIONS:this.processEnv.NODE_OPTIONS=e}get inspectorOptions(){let e=this.processEnv.VSCODE_INSPECTOR_OPTIONS;if(!e)return;let r=e.split(gL).find(n=>!!n);if(r)try{return JSON.parse(r)}catch{return}}set inspectorOptions(e){e===void 0?delete this.processEnv.VSCODE_INSPECTOR_OPTIONS:this.processEnv.VSCODE_INSPECTOR_OPTIONS=JSON.stringify(e)}unsetForTree(){delete this.processEnv.VSCODE_INSPECTOR_OPTIONS}updateInspectorOption(e,r){let n=this.inspectorOptions;n&&(this.inspectorOptions={...n,[e]:r})}};var HL=require("path"),e6=(0,HL.join)(__dirname,"watchdog.js"),Fx=(0,HL.join)(__dirname,"bootloader.js");var gg=A(xe()),pi=A(Z()),qo=require("path");var hg=A(Z()),t6=require("path");var Mu=Symbol("IPackageJsonProvider"),Bx={getPath:()=>Promise.resolve(void 0),getContents:()=>Promise.resolve(void 0)},wd=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=_e(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await Tl(this.fs,this.config.cwd,"package.json");return e?(0,t6.join)(e,"package.json"):void 0});this.getContents=_e(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};wd=E([(0,hg.injectable)(),b(0,(0,hg.inject)(Br)),b(1,(0,hg.inject)(Me))],wd);var di=Symbol("INodeBinaryProvider");function Nx(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var ibe=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),r6=t=>ibe.has((0,qo.basename)(t,(0,qo.extname)(t))),n6=(t,e)=>{if(!(!t||!r6(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},yL=new rt(12,0,0),obe=new rt(8,0,0),sbe=[{inclusiveMin:new rt(16,0,0),inclusiveMax:new rt(16,3,99),message:gg.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new rt(7,0,0),inclusiveMax:new rt(8,99,99),message:gg.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],Dr=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=yL),r.gte(new rt(12,0,0))&&this.capabilities.add(0),r.gte(new rt(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of sbe)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},mg=class extends re{constructor(r,n){super(N1(r.toString(),n));this.version=r;this.location=n}},abe=["node","node64","electron"],cbe=new Map([[11,new rt(12,0,0)],[10,new rt(12,0,0)],[9,new rt(12,0,0)],[8,new rt(12,0,0)],[7,new rt(12,0,0)],[6,new rt(12,0,0)],[5,new rt(10,0,0)],[4,new rt(10,0,0)],[3,new rt(10,0,0)],[2,new rt(8,0,0)],[1,new rt(8,0,0)]]),ks=class{constructor(e,r,n){this.logger=e;this.fs=r;this.packageJson=n;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",n,i){try{return await this.resolveAndValidateInner(e,r,n,i)}catch(o){if(!(o instanceof mg))throw o;if(await this.shouldTryDebuggingAnyway(o))return new Dr(o.location,o.version instanceof rt?o.version:void 0);throw o}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,n,i){let o=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:o,executable:r}),!o)throw new re(SI(r,gg.t("path does not exist")));if(n)return new Dr(o,new rt(n,0,0));let s=Zy(o);if(!abe.includes(s)){if(r6(o)){let g=await this.packageJson.getPath();g&&(e=e.addToPath((0,qo.resolve)((0,qo.dirname)(g),"node_modules/.bin"),"prepend"))}try{let g=await this.resolveAndValidateInner(e,"node",void 0,i);return new Dr(o,g.version)}catch(g){if(K1(g,9230))throw g;return new Dr(o,void 0)}}if(o.startsWith("/snap/"))return new Dr(o,void 0);let a=this.knownGoodMappings.get(o);if(a)return a;let c=await this.getVersionText(o,i);if(!c)return new Dr(o,void 0);this.logger.info("runtime.launch","Discovered version",{version:c});let u=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(c);if(!u)throw new mg(c,o);let[,l,p,d]=u.map(Number),m=new rt(l,p,d);if(s==="electron"){let g=await this.resolveAndValidate(e);m=rt.min(cbe.get(m.major)??yL,g.version??yL)}if(m.lt(obe))throw new mg(m,o);let f=new Dr(o,m);return this.knownGoodMappings.set(o,f),f}async resolveBinaryLocation(e,r){return e&&(0,qo.isAbsolute)(e)?await r1(this.fs,e,r):await Hy(this.fs,e,r.value)}async getVersionText(e,r){try{let{stdout:n}=await Hw(e,["--version"],{env:Gt.processEnv().defined(),cwd:r});return n.trim()}catch(n){throw r&&!(await An(this.fs,r))?.isDirectory()?new re(B1(r)):new re(SI(e,n.message))}}};ks=E([(0,pi.injectable)(),b(0,(0,pi.inject)(ce)),b(1,(0,pi.inject)(we)),b(2,(0,pi.inject)(Mu))],ks);var xd=class extends ks{constructor(r,n,i,o){super(r,n,i);this.vscode=o}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let n=gg.t("Yes");return await this.vscode.window.showErrorMessage(r,n)===n}};xd=E([b(0,(0,pi.inject)(ce)),b(1,(0,pi.inject)(we)),b(2,(0,pi.inject)(Mu)),b(3,(0,pi.optional)()),b(3,(0,pi.inject)(Yn))],xd);var i6=require("path");var _d=class{constructor(e,r,n,i,o,s,a={},c){this.launchConfig=e;this.targetOriginValue=r;this.connection=n;this.targetInfo=o;this.logger=s;this.lifecycle=a;this._parent=c;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new Y;this._onDisconnectEmitter=new Y;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=n,this._cdp=i,i.pause(),this._waitingForDebugger=o.type==="waitingForDebugger",o.title?this._targetName=`${(0,i6.basename)(o.title)} [${o.processId}]`:this._targetName=`[${o.processId}]`,i.Target.on("targetDestroyed",()=>this.connection.close()),n.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ne(e):e}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",n=>{n.context.auxData&&n.context.auxData.isDefault&&(r=n.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",n=>{n.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{this._waitingForDebugger&&await(await this._doAttach())?.Runtime.runIfWaitingForDebugger({}),this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var gn=class{constructor(e,r,n,i){this.pathProvider=e;this.logger=r;this.portLeaseTracker=n;this.pathResolverFactory=i;this.serverConnections=new Set;this.targets=new ko;this.onTerminatedEmitter=new Y;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=_e(this.getBootloaderFile.bind(this))}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};this._stopServer();let{server:i,pipe:o}=await this._startServer(r.telemetryReporter),s=this.logger.forTarget(),a=this.run={server:i,serverAddress:o,params:n,context:r,logger:s,pathResolver:this.pathResolverFactory.create(n,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([ke(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(i=>new Promise(o=>i.onDisconnected(o))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?jr.withTimeout(this.run.params.timeout).token:pr}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(Gt.merge(Gt.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=Gt.empty;if(e.envFile)try{r=r.merge(pbe(e.envFile))}catch(n){throw new re(F1(n.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},n,i){let o=this.getConfiguredEnvironment(e),s=await this.bootloaderFile(e.cwd,n),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await Hy(Wo.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...i},c={NODE_OPTIONS:` --require ${s.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:gL+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},u=o.lookup("NODE_OPTIONS");u&&(c.NODE_OPTIONS+=` ${u}`);let l=Gt.processEnv().lookup("NODE_OPTIONS");return l&&(c.NODE_OPTIONS+=` ${l}`),o.merge({...c})}createLifecycle(e,r,n){return{}}async _startServer(e){let r=gy(),n=await new Promise((i,o)=>{let s=s6.createServer(a=>this._startSession(a,e)).on("error",o).listen(r,()=>i(s))});return{pipe:r,server:n}}_stopServer(){this.run?.server.close(),this.run=void 0,this.bootloaderFile.value?.then(e=>e.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:n,cdp:i,targetInfo:o}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}o.processId===void 0&&(o.processId=Number(o.targetId));let s=new _d(this.run.params,this.run.context.targetOrigin,n,i,o,this.run.logger,this.createLifecycle(i,this.run,o),o.openerId?this.targets.get(o.openerId):void 0);this.listenToWorkerDomain(i,r,s),this.targets.add(o.targetId,s),s.onDisconnect(()=>this.targets.remove(o.targetId))}async listenToWorkerDomain(e,r,n){e.NodeWorker.on("attachedToWorker",i=>{let o=new Mx(i.sessionId,e),s=new yp(n.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${n.id()}-${i.sessionId}`,title:i.workerInfo.title,url:i.workerInfo.url,openerId:n.id()},n,n.targetOrigin(),new Ut(o,n.logger,r).rootSession(),n.logger),a=new Ie;a.push(o),a.push(n.onDisconnect(()=>a.dispose())),a.push(o.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(s.id())),this.targets.add(s.id(),s)})}async acquireTarget(e,r,n){let i=new Ut(new ui(n,e),n,r);this.serverConnections.add(i),i.onDisconnected(()=>this.serverConnections.delete(i));let o=i.rootSession(),{targetInfo:s}=await new Promise(u=>o.Target.on("targetCreated",u)),a=s,c=this.portLeaseTracker.register(a.processInspectorPort);return i.onDisconnected(()=>c.dispose()),{targetInfo:a,cdp:o,connection:i,logger:n}}async getBootloaderFile(e,r){let n=Qe(Fx);if(!n.includes(" "))return{interpolatedPath:n,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${n}"`,dispose:()=>{}};let i=`require(${JSON.stringify(n)})`;if(!vL.tmpdir().includes(" ")||!e){let a=bL.join(vL.tmpdir(),"vscode-js-debug-bootloader.js");return await Wo.promises.writeFile(a,i),{interpolatedPath:a,dispose:()=>{}}}let o=".vscode-js-debug-bootloader.js",s=bL.join(e,o);return await Wo.promises.writeFile(s,i),{interpolatedPath:`./${o}`,dispose:()=>Wo.unlinkSync(s)}}async gatherTelemetryFromCdp(e,r){for(let n=0;n<8;n++){let i=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+vt()});if(!this.program)return;if(!i||!i.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof i.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await ke(50*2**n);continue}let o=i.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:o.nodeVersion,arch:o.architecture}),this.program.gotTelemetery(o),o}}};gn=E([(0,Ou.injectable)(),b(0,(0,Ou.inject)(di)),b(1,(0,Ou.inject)(ce)),b(2,(0,Ou.inject)(dt)),b(3,(0,Ou.inject)(en))],gn);function pbe(t){if(!Wo.existsSync(t))return{};let e=dbe(Wo.readFileSync(t,"utf8"));return o6.parse(Buffer.from(e))}function dbe(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var fbe=["NODE_OPTIONS","VSCODE_INSPECTOR_OPTIONS"],oc=class extends gn{async appendEnvironmentVariables(e,r){let n="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(r.defined()).map(([i,o])=>{let s=JSON.stringify(i);return fbe.includes(i)?`process.env[${s}]=(process.env[${s}]||'')+${JSON.stringify(o)}`:`process.env[${s}]=${JSON.stringify(o)}`}).join(";")+"})()"+vt();for(let i=0;i<5;i++){let o=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:n});if(!o){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!o.exceptionDetails&&o.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",o),await ke(50)}}};oc=E([(0,a6.injectable)()],oc);var jx=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},Ux=class{constructor(e,r,n){this.child=e;this.logger=r;this.killBehavior=n;this.killed=!1;this.stopped=new Promise((i,o)=>{e.once("exit",s=>i({killed:this.killed,code:s||0})),e.once("error",s=>o({killed:this.killed,code:1,error:s}))})}gotTelemetery(){}stop(){return this.killed=!0,Mi(this.child.pid,this.logger,this.killBehavior),this.stopped}},Rs=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},sc=class extends Rs{constructor(r){super();this.wd=r;r.onEnd(n=>{this.stopDefer(n),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},Ad=class t{constructor(e,r,n){this.terminalResult=e;this.logger=r;this.killBehavior=n;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}static{this.terminationPollInterval=1e3}static{this.killConfirmInterval=200}gotTelemetery({processId:e}){if(this.didStop){Mi(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(Mi(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,t.killConfirmInterval)):this.terminalResult.shellProcessId?(Mi(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,t.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=t.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let n={processId:e,timer:setInterval(()=>{hbe(e)||(clearInterval(n.timer),this.onStopped(!0))},r)};this.loop=n}};function hbe(t){try{return process.kill(t,0),!0}catch{return!1}}var l6=A(require("net"));var c6=require("crypto"),u6=()=>(0,c6.randomBytes)(12).toString("hex");var fi=class t{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new Y;this.cts=new jr;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??u6(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((i,o)=>{let s=l6.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),n=new ui(si.null,r);return new t(e,n)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([n])=>{if(this.target&&!n.includes("Target.attachToTarget")&&!n.includes("Target.detachFromTarget")){this.target.send(n);return}let i=await this.execute(n);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:this.target?.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await On.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var wL=class extends sc{constructor(r,n){super(r);this.logger=n;this.stopped.then(()=>{this.telemetry&&Mi(this.telemetry.processId,this.logger,"polite")})}},Id=class extends oc{constructor(){super(...arguments);this.restarting=!1}async restart(){this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),this.program?.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=await ld(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),i=await fi.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:n,waitForDebugger:!0,dynamicAttach:!0}),o=this.program=new wL(i,this.logger);this.program.stopped.then(s=>{o===this.program&&this.onProgramTerminated(s)})}createLifecycle(r,n,i){return i.openerId?{}:{initialized:()=>this.onFirstInitialize(r,n,i)}}async onFirstInitialize(r,n,i){this.setEnvironmentVariables(r,n,i.targetId);let o=await this.gatherTelemetryFromCdp(r,n),s=this.program;if(o&&s){let a=new Ad({processId:o.processId},this.logger,"forceful");a.stopped.then(()=>s.stop()),s.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,n,i){if(!n.params.autoAttachChildProcesses)return;let o=await this.resolveEnvironment(n,new Dr("node",rt.parse(process.versions.node)),{openerId:i});return this.appendEnvironmentVariables(r,o.update("ELECTRON_RUN_AS_NODE",null))}};Id=E([(0,p6.injectable)()],Id);var Hg=require("fs"),d6=A(Z());var Sd=class extends gn{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await ba(),n=await e.context.dap.launchVSCodeRequest({args:mbe(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});n.rendererDebugPort&&Ni.debugIdToRendererDebugPort.set(e.params.__sessionId,n.rendererDebugPort),this.program=new Rs,this.program.stop()}};Sd=E([(0,d6.injectable)()],Sd);var mbe=(t,e)=>{let r=t.args.map(n=>{if(n.startsWith("-")){let i=n.split("=",2);return i.length===2&&((0,Hg.existsSync)(i[1])||(0,Hg.existsSync)(i[1]+".js"))?{prefix:i[0]+"=",path:i[1]}:{prefix:n}}else{try{let i=(0,Hg.lstatSync)(n);if(i.isDirectory())return{prefix:"--folder-uri=",path:n};if(i.isFile())return{prefix:"--file-uri=",path:n}}catch{}return{path:n}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var A6=A(xe()),Fu=A(Z());var f6=require("crypto"),yg=require("fs"),h6=require("os"),m6=A(require("path")),qx=class t{constructor(){this.disposed=!1;this.path=m6.join((0,h6.tmpdir)(),`node-debug-callback-${(0,f6.randomBytes)(8).toString("hex")}`);this.file=yg.promises.open(this.path,"w")}static{this.updateInterval=1e3}static{this.recencyDeadline=2e3}static isValid(e){try{let r=(0,yg.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-t.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),t.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(e()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await yg.promises.unlink(this.path)}catch{}}}};var w6=require("fs");var y6=require("path");var g6=require("child_process"),H6=A(vx()),Ed=class{constructor(e=g6.spawn){this.spawn=e}lookup(e,r){return new Promise((n,i)=>{let o=this.createProcess(),s=this.createParser();o.on("error",i),o.stderr.on("error",a=>i(`Error finding processes: ${a.toString()}`)),o.stdout.pipe((0,H6.default)(/\r?\n/)).on("data",a=>{let c=s(a);c&&(r=e(c,r))}),o.on("close",(a,c)=>{a===0?n(r):c?i(new Error(`process terminated with signal: ${c}`)):a&&i(new Error(`process terminated with exit code: ${a}`))})})}};var Dd=class extends Ed{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:n}=await Hw("lsof",["-a","-dcwd","-Fn",`-p${r}`]),i=n.trim().split(`
`).pop().slice(1);return i&&(0,y6.isAbsolute)(i)&&await this.fsUtils.exists(i)?i:void 0}catch(n){if(n instanceof yu)return;throw n}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return n=>{if(!r){r=n.indexOf("COMMAND");return}let i=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(n);if(i)return{pid:Number(i[1]),ppid:Number(i[2]),command:n.slice(i[0].length,r).trim(),args:n.slice(r).trim()}}}};var Wx=class extends Dd{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let n=e(r);if(!n)return;let i=n.args.indexOf(n.command);if(i===-1)return n;for(i=i+n.command.length;i<n.args.length&&n.args[i]!==" ";)i++;return n.command=n.args.substr(0,i),n.args=n.args.substr(i+1),n}}};var v6=require("path");var Vx=class extends Ed{async getWorkingDirectory(){}createProcess(){let e=(0,v6.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let n=e.exec(r.trim());if(!n||n.length!==5)return;let i=Number(n[4]),o=Number(n[3]),s=Number(n[2]),a=n[1].trim();if(!isNaN(i)&&!isNaN(o)&&a){let c=a;if(a[0]==='"'){let u=a.indexOf('"',1);u>0&&(c=a.substr(1,u-1),a=a.substr(u+2))}else{let u=a.indexOf(" ");u>0?(c=a.substr(0,u),a=a.substr(u+1)):a=""}return{pid:i,ppid:o,command:c,args:a,date:s}}}}};var b6=new _n(w6.promises),vg=process.platform==="win32"?new Vx:process.platform==="darwin"?new Dd(b6):new Wx(b6);function Gx(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,n,i,o=e.exec(t);return o&&o.length>=1&&(o.length>=5&&o[4]&&(n=o[4]),o.length>=6&&o[5]&&(i=parseInt(o[5]))),o=r.exec(t),o&&o.length===2&&(i=parseInt(o[1])),{address:n,port:i}}async function x6(t,e,r,n=pr){let i=await gbe(t.pid,r);if(!i)return[];let o=[],s=i.children.slice();for(;s.length;){let a=s.pop();s=s.concat(a.children);let{port:c}=Gx(a.args);c&&o.push(cL(`http://${t.hostname}:${c}`,n,r,!0).then(u=>fi.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:u,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(u=>r.info("internal","Could not spawn WD for child process",{err:u,port:c,child:a})))}return(await Promise.all(o)).filter(a=>!!a)}async function gbe(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await vg.lookup(({pid:i,ppid:o,command:s,args:a})=>(i!==o&&r.set(i,{pid:i,ppid:o,command:s,args:a,children:[]}),r),null)}catch(i){e.warn("internal","Error getting child process tree",i);return}let n=r.values();for(let i of n){let o=r.get(i.ppid);o&&o!==i&&o.children.push(i)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var _6=A(Z());var Vo=class{create(e){return e===!1?new xL:e===!0?new zx({maxAttempts:1/0,delay:1e3}):new zx({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};Vo=E([(0,_6.injectable)()],Vo);var zx=class t{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new t(this.options,this.attempt+1)}reset(){return this.attempt?new t(this.options):this}},xL=class{constructor(){this.delay=-1}next(){}reset(){return this}};var Cd=class extends oc{constructor(r,n,i,o,s=new Vo){super(r,n,o,i);this.restarters=s}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=async(o,s)=>{let a=this.program,c;try{r.params.websocketAddress?c=r.params.websocketAddress:c=await ld(`http://${r.params.address}:${r.params.port}`,s&&r.params.timeout>0?jr.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===s)return i(o,a,{killed:!1,code:1});throw p}let u=await fi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:c,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new sc(u);l.stopped.then(p=>i(o.reset(),l,p))},i=async(o,s,a)=>{if(this.program!==s)return;if(a.killed){this.onProgramTerminated(a);return}let c=o.next();if(!c){this.onProgramTerminated(a);return}r.context.dap.output({output:A6.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,c.delay)});let u=new Rs;this.program=u;let l=await Promise.race([ke(c.delay),u.stopped]);this.program===u&&(l?this.onProgramTerminated(a):n(c,u))};return n(this.restarters.create(r.params.restart))}async terminate(r){await super.terminate(),r&&this.telemetry&&Mi(this.telemetry.processId,this.logger)}createLifecycle(r,n,i){if(i.openerId)return{};let o;return{initialized:async()=>{o=this.onFirstInitialize(r,n,i),await o},close:()=>{this.targetList().length&&this.program?.stop(),o?.then(s=>s.dispose())}}}async onFirstInitialize(r,n,i){let o=new qx;await o.startTouchLoop();let s=new Dr("node",void 0);try{s=await this.resolveNodePath(n.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(r,n),this.setEnvironmentVariables(r,n,o.path,i.targetId,s)]);return this.telemetry=a,a&&n.params.attachExistingChildren&&x6({pid:a.processId,nodePath:s.path,hostname:n.params.address,ipcAddress:n.serverAddress},i.targetId,this.logger).catch(c=>this.logger.warn("internal","Error watching child processes",{err:c})),o}async setEnvironmentVariables(r,n,i,o,s){if(!n.params.autoAttachChildProcesses)return;if(!await $l(n.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(n,s,{requireLease:i,openerId:o});return this.appendEnvironmentVariables(r,a)}};Cd=E([(0,Fu.injectable)(),b(0,(0,Fu.inject)(di)),b(1,(0,Fu.inject)(ce)),b(2,(0,Fu.inject)(en)),b(3,(0,Fu.inject)(dt))],Cd);var Bn=A(Z()),Td=require("path");function Kx(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var I6=require("os"),S6=A(require("path")),E6=require("crypto"),Pd=require("fs"),Xx=class t{constructor(){this.path=S6.join((0,I6.tmpdir)(),`node-debug-callback-${(0,E6.randomBytes)(8).toString("hex")}`);this.disposed=!1}static{this.pollInterval=200}read(e=t.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,n)=>{let i=setInterval(()=>{if(this.disposed){clearInterval(i),r(void 0);return}if((0,Pd.existsSync)(this.path)){try{r(JSON.parse((0,Pd.readFileSync)(this.path,"utf-8")))}catch(o){n(o)}finally{this.dispose()}clearInterval(i)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,Pd.unlinkSync)(this.path)}catch{}}}};var Bu=A(require("path"));var bg=Symbol("IProgramLauncher"),Jx=t=>{let e=t.program;if(e&&Bu.isAbsolute(e)){let r=Bu.relative(t.cwd,e);e=Bu.isAbsolute(r)?r:`.${Bu.sep}${r}`}return e?[...t.runtimeArgs,e,...wh(t.args)]:[...t.runtimeArgs,...wh(t.args)]};var Hbe=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,Td.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,Td.resolve)(e.cwd,e.program);for(let r of wh(e.args)){if(r.startsWith("-"))continue;let n=(0,Td.resolve)(e.cwd,r);if(await t.exists(n))return n}},Ld=class extends gn{constructor(r,n,i,o,s,a,c,u,l){super(r,n,l,u);this.bpPredictor=i;this.launchers=o;this.restarters=s;this.fsUtils=a;this.packageJson=c}resolveParams(r){let n;if(r.type==="pwa-node"&&r.request==="launch"?n={...r}:"server"in r&&r.server&&"program"in r.server&&(n={...r.server}),!!n)return Kx(n),n}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let n=async i=>{this.program&&this.program.stop();let o=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),s=o.warning;s&&r.context.dap.output({category:"stderr",output:s.message});let a=new Xx,c=await this.resolveEnvironment(r,o,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),c=c.merge({NODE_OPTIONS:null})):c=Nx(o,c);let u={...r.params,env:c.value},l=this.launchers.find(d=>d.canLaunch(u));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(o.path,u,r.context);if(this.attachSimplePort){let d=await fi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await ld(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new jx(p,new sc(d))}else a.read().then(d=>{d&&p.gotTelemetery(d)});this.program=p,p.stopped.then(async d=>{if(a.dispose(),this.program!==p)return;if(d.killed||d.code===0){this.onProgramTerminated(d);return}let m=i.next();if(!m){this.onProgramTerminated(d);return}await ke(m.delay),this.program===p&&n(m)})};return n(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){if(r.attachSimplePort)return r.attachSimplePort;let n=n6(r.runtimeExecutable,r.runtimeArgs);if(!(!n||!(await this.packageJson.getContents())?.scripts?.[n]?.includes("--inspect-brk")))return r.port??9229}createLifecycle(r,n,{targetId:i}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,n),!n.params.stopOnEntry)return;let o=await Hbe(this.fsUtils,n.params);if(!o){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let s="(?:entryBreakpoint){0}",a=Ne(o),c=Gn(a)+s,u=await r.Debugger.setBreakpointByUrl({urlRegex:c,lineNumber:0,columnNumber:0});return u?.breakpointId?{cdpId:u?.breakpointId,path:a}:void 0},close:()=>{let o=Number(i);if(o>0)try{process.kill(o)}catch{}}}}async tryGetCompiledFile(r){r=kt(r);let n=(0,Td.extname)(r);if(!n||n===".js")return r;let i=await this.bpPredictor.getPredictionForSource(r);if(!i||i.size===0)return r;let o=aa(i.values());return o?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:o.compiledPath,candidates:i.size}),o.compiledPath):r}};Ld=E([(0,Bn.injectable)(),b(0,(0,Bn.inject)(di)),b(1,(0,Bn.inject)(ce)),b(2,(0,Bn.inject)(qc)),b(3,(0,Bn.multiInject)(bg)),b(4,(0,Bn.inject)(Vo)),b(5,(0,Bn.inject)(Br)),b(6,(0,Bn.inject)(Mu)),b(7,(0,Bn.inject)(en)),b(8,(0,Bn.inject)(dt))],Ld);var kd=A(require("fs")),D6=require("fs"),Yx=A(Z()),C6=A(require("os")),zt=A(require("path"));var Qx=Symbol("INvmResolver");var $d=class{constructor(e=new _n(D6.promises),r=process.env,n=process.arch,i=process.platform,o=C6.homedir()){this.fsUtils=e;this.env=r;this.arch=n;this.platform=i;this.homedir=o}async resolveNvmVersionPath(e){let r,n=[],i=this.parseVersionString(e),o=this.env.NVS_HOME;if(!o){let s=this.platform==="win32"?zt.join(this.env.LOCALAPPDATA||"","nvs"):zt.join(this.env.HOME||"",".nvs");kd.existsSync(s)&&(o=s)}if(i.nvsFormat||o){if(r=await this.resolveNvs(o,i),!r&&i.nvsFormat)throw new re(II(e,"nvs"));n.push("nvs")}if(!r)if(this.platform==="win32")this.env.NVM_HOME&&(r=await this.resolveWindowsNvm(e),n.push("nvm-windows"));else{let s=this.env.NVM_DIR||zt.join(this.homedir,".nvm");await this.fsUtils.exists(s)&&(r=await this.resolveUnixNvm(e),n.push("nvm"))}if(!r){let s=this.platform==="win32"?this.env.FNM_DIR||zt.join(this.env.APPDATA||"","fnm"):this.env.FNM_DIR||zt.join(this.homedir,".fnm");await this.fsUtils.exists(s)&&(r=await this.resolveFnm(e,s),n.push("fnm"))}if(!n.length)throw new re(AI());if(!r||!await this.fsUtils.exists(r))throw new re(II(e,n.join("/")));return{directory:r,binary:await this.getBinaryInFolder(r)}}async getBinaryInFolder(e){return await ho(["node64.exe","node64"].map(r=>this.fsUtils.exists(zt.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:n,arch:i}){if(!e)throw new re(R1());let o=this.findBinFolderForVersion(zt.join(e,r),n,s=>kd.existsSync(zt.join(s,i)));if(o)return this.platform!=="win32"?zt.join(o,i,"bin"):zt.join(o,i)}async resolveUnixNvm(e){let r=this.env.NVM_DIR;if(!r){let i=zt.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(i)&&(r=i)}if(!r)throw new re(AI());let n=this.findBinFolderForVersion(zt.join(r,"versions","node"),`v${e}`);return n?zt.join(n,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env.NVM_HOME;if(!r)throw new re(M1());return this.findBinFolderForVersion(r,`v${e}`)}async resolveFnm(e,r){let n=this.findBinFolderForVersion(zt.join(r,"node-versions"),`v${e}`);if(n)return this.platform==="win32"?zt.join(n,"installation"):zt.join(n,"installation","bin")}findBinFolderForVersion(e,r,n){if(!kd.existsSync(e))return;let i=kd.readdirSync(e);if(i.includes(r))return zt.join(e,r);let o=i.filter(s=>s.startsWith(`${r}.`)).sort(ybe).filter(s=>n?n(zt.join(e,s)):!0).pop();return o?zt.join(e,o):void 0}parseVersionString(e){let n=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!n)throw new Error("Invalid version string: "+e);let i=!!(n[2]||n[8]),o=n[2]||"node",s=n[4]||"",a=vbe(n[8]||this.arch);return{nvsFormat:i,remoteName:o,semanticVersion:s,arch:a}}};$d=E([(0,Yx.injectable)(),b(0,(0,Yx.inject)(Br))],$d);var ybe=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!n)return(n?-1:0)+(r?1:0);let[,i,o,s]=r,[,a,c,u]=n;return Number(i)-Number(a)||Number(o)-Number(c)||Number(s)-Number(u)};function vbe(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var P6=require("child_process"),e_=A(Z()),L6=A(vx());var Rd=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,n){let{executable:i,args:o,shell:s,cwd:a}=bbe(e,Jx(r),r.cwd);n.dap.output({category:"console",output:[i,...o].join(" ")+`
`});let c=(0,P6.spawn)(i,o,{shell:s,cwd:a,env:Gt.merge(Gt.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(n.dap,c):this.captureStdio(n.dap,c),new Ux(c,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(Zx.stream()).on("data",n=>e.output({category:"stdout",output:n})).resume(),r.stderr.pipe(Zx.stream()).on("data",n=>e.output({category:"stderr",output:n})).resume()}discardStdio(e,r){let n=[],i=()=>{n&&e.output({category:"stderr",output:Buffer.concat(n).toString()})},o=Buffer.from("Debugger attached."),s=a=>{a.includes(o)?(n=void 0,r.stderr.removeListener("data",s)):n&&n.push(a)};r.stderr.on("data",s),r.on("error",a=>{i(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(i(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};Rd=E([(0,e_.injectable)(),b(0,(0,e_.inject)(ce))],Rd);var bbe=(t,e,r)=>{if(process.platform==="win32"&&(t=Si(t),r=Si(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let n=!1,i=[];for(let o of e)o.includes(" ")?(i.push(`"${o}"`),n=!0):i.push(o);return n?{executable:`"${t}"`,args:i,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var Zx=class t{constructor(){this.etxSpotted=!1}static stream(){return(0,L6.default)(new t)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let r=e.split("");return r.length>1?r.map((n,i)=>i<r.length-1?`${n}
`:n):r}};var t_=A(Z());var Md=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,n){let i={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...Jx(r)],env:sl(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},o;try{o=await this.sendLaunchRequest(i,n)}catch(s){throw new re(O1(s.message))}return new Ad(o,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};Md=E([(0,t_.injectable)(),b(0,(0,t_.inject)(ce))],Md);var T6=A(Z());var Od=class{getTreatment(e,r){return Promise.resolve(r)}};Od=E([(0,T6.injectable)()],Od);var $6=A(Z());var Nu=class{constructor(){this.flushEmitter=new Y;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Nu=E([(0,$6.injectable)()],Nu);var k6=require("crypto"),ac=A(Z()),R6=require("os"),M6=A(require("path")),wg=A(require("vscode"));var _L=class{constructor(e){this.terminal=e;this.stopped=new Promise(r=>{let n=wg.window.onDidCloseTerminal(i=>{i===e&&(r({code:0,killed:!0}),n.dispose())})})}gotTelemetery(){}stop(){return this.terminal.sendText(""),setTimeout(()=>this.terminal.dispose(),1),this.stopped}},Ms=class extends gn{constructor(r,n,i,o,s){super(r,n,s,o);this.fs=i;this.terminalCreatedEmitter=new Y;this.callbackFile=M6.join((0,R6.tmpdir)(),`node-debug-callback-${(0,k6.randomBytes)(8).toString("hex")}`);this.onTerminalCreated=this.terminalCreatedEmitter.event}async getProcessTelemetry(){try{return JSON.parse(await this.fs.readFile(this.callbackFile,"utf-8"))}catch{return}}resolveParams(r){if(r.type==="node-terminal"&&r.request==="launch")return r;if(r.type==="pwa-chrome"&&r.server&&"command"in r.server)return r.server}async launchProgram(r){let n;try{n=await this.resolveNodePath(r.params)}catch(a){if(a instanceof re&&a.cause.id===9230)throw a;n=new Dr("node",void 0)}let i=await this.resolveEnvironment(r,n,{fileCallback:this.callbackFile}),o=await this.createTerminal({name:r.params.name,cwd:r.params.cwd,iconPath:new wg.ThemeIcon("debug"),env:Nx(n,i).defined(),isTransient:!0});this.terminalCreatedEmitter.fire(o),o.show();let s=this.program=new _L(o);r.params.command&&(await Promise.race([o.processId,ke(1e3)]),o.sendText(r.params.command,!0)),s.stopped.then(a=>{s===this.program&&this.onProgramTerminated(a)})}createTerminal(r){return Promise.resolve(wg.window.createTerminal(r))}dispose(){super.dispose(),this.fs.unlink(this.callbackFile).catch(()=>{})}};Ms=E([(0,ac.injectable)(),b(0,(0,ac.inject)(di)),b(1,(0,ac.inject)(ce)),b(2,(0,ac.inject)(we)),b(3,(0,ac.inject)(en)),b(4,(0,ac.inject)(dt))],Ms);var Vu=A(Z()),Pg=A(Gz());var Kd=class{constructor(e,r){r&&e instanceof dn&&(this.service=(0,Pg.getExperimentationService)("ms-vscode.js-debug",Cc,fH?Pg.TargetPopulation.Insiders:Pg.TargetPopulation.Public,{setSharedProperty(n,i){e.setGlobalMetric(n,i)},postEvent(n,i){e.pushOutput({category:"telemetry",output:n,data:i})}},r.globalState))}async getTreatment(e,r){if(!this.service)return r;try{return await this.service.getTreatmentVariableAsync("vscode",e,!0)}catch{return r}}};Kd=E([(0,Vu.injectable)(),b(0,(0,Vu.inject)(Zt)),b(1,(0,Vu.optional)()),b(1,(0,Vu.inject)(at))],Kd);var C_=A(Z()),Kz=A(require("vscode"));var zz=A(Z()),Pr=A(require("vscode"));var et=class{constructor(){this._onSessionAddedEmitter=new Pr.EventEmitter;this._onSessionEndedEmitter=new Pr.EventEmitter;this._disposables=[];this.sessions=new Map;this.onSessionAdded=this._onSessionAddedEmitter.event;this.onSessionEnded=this._onSessionEndedEmitter.event}static isConcreteSession(e){return!!e.configuration.__pendingTargetId}static pickSession(e,r){if(e.length<2)return e[0];let n=Pr.window.createQuickPick();return n.title=r,n.items=e.map(i=>({label:i.name,id:i.id})),n.ignoreFocusOut=!0,new Promise(i=>{n.onDidAccept(()=>i(e.find(o=>o.id===n.selectedItems[0]?.id))),n.onDidHide(()=>i(void 0)),n.show()}).finally(()=>n.dispose())}get isDebugging(){return this.sessions.size>0}getById(e){return this.sessions.get(e)}isRunning(e){return[...this.sessions.values()].includes(e)}getByName(e){return[...this.sessions.values()].filter(r=>r.name===e)}getConcreteSessions(){return[...this.sessions.values()].filter(et.isConcreteSession)}getChildren(e){return[...this.sessions.values()].filter(r=>r.configuration.__parentId===e.id)}attach(){Pr.debug.onDidStartDebugSession(e=>{Xs(e.type)&&(this.sessions.set(e.id,e),this._onSessionAddedEmitter.fire(e))},void 0,this._disposables),Pr.debug.onDidTerminateDebugSession(e=>{Xs(e.type)&&(this.sessions.delete(e.id),this._onSessionEndedEmitter.fire(e))},void 0,this._disposables),Pr.debug.onDidReceiveDebugSessionCustomEvent(e=>{if(Xs(e.session.type)){if(e.event==="revealLocationRequested"){let r=e.body,n=Pr.debug.asDebugSourceUri(e.body.source),i={};if(r.line){let o=new Pr.Position((r.line||1)-1,(r.column||1)-1);i.selection=new Pr.Range(o,o)}Pr.window.showTextDocument(n,i);return}if(e.event==="copyRequested"){let r=e.body;Pr.env.clipboard.writeText(r.text);return}}},void 0,this._disposables)}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[]}};et=E([(0,zz.injectable)()],et);var Xd=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(this.tracker.onSessionEnded(r=>{let n=r.configuration.cascadeTerminateToConfigurations;if(!(!n||!(n instanceof Array)))for(let i of n)for(let o of this.tracker.getByName(i))Kz.debug.stopDebugging(o)}))}};Xd=E([(0,C_.injectable)(),b(0,(0,C_.inject)(et))],Xd);var P_=Symbol("IDebugConfigurationResolver"),L_=Symbol("IDebugConfigurationProvider");var tf=A(xe()),js=A(Z()),cK=require("os"),rf=require("path"),Tg=A(require("vscode"));var Xz=A(Z()),Jz=A(require("vscode"));var Fs=class{get type(){return this.getType()}get triggerKind(){return this.getTriggerKind()}async provideDebugConfigurations(e,r){try{let n=await this.provide(e,r);if(!n)return[];let i=n instanceof Array?n:[n],o=qf.get(this.type);if(o)for(let s of i)s.type===this.type&&(s.type=o);return i}catch(n){return Jz.window.showErrorMessage(n.message,{modal:!0}),[]}}};Fs=E([(0,Xz.injectable)()],Fs);var k_=A(Z()),Zz=require("path"),Bs=A(require("vscode"));var Lg=A(Z()),ST=A(require("vscode"));var Yz=A(require("vscode")),Jd=class{constructor(e){this.key=e}set value(e){e!==this._value&&(this._value=e,Yz.commands.executeCommand("setContext",this.key,e))}get value(){return this._value}};var Qz=Symbol("Uninitialized"),T_=class{constructor(e,r){this.key=e;this.defaultValue=r;this._value=Qz}write(e,r){r!==this.read(e)&&(this._value=r,e.update(this.key,r))}read(e){return this._value===Qz&&(this._value=e.get(this.key)??this.defaultValue),this._value}};var $_=new T_("sourceSteppingEnabled",!0),Yd=class{constructor(e,r){this.context=e;this.tracker=r}register(e){let r=new Jd("jsDebugIsMapSteppingDisabled");$_.read(this.context.workspaceState)===!1&&(r.value=!0);let n=i=>{r.value=!i,$_.write(this.context.workspaceState,i);for(let o of this.tracker.getConcreteSessions())o.customRequest("setSourceMapStepping",{enabled:i})};e.subscriptions.push(Le(ST.commands,"extension.js-debug.enableSourceMapStepping",async()=>{n(!0)}),Le(ST.commands,"extension.js-debug.disableSourceMapStepping",async()=>{n(!1)}))}};Yd=E([(0,Lg.injectable)(),b(0,(0,Lg.inject)(at)),b(1,(0,Lg.inject)(et))],Yd);var Hi=class{constructor(e){this.extensionContext=e}get type(){return this.getType()}async resolveDebugConfiguration(e,r,n){if(r.type&&(r.type=this.getType()),"__pendingTargetId"in r)return r;let i=r;i.sourceMaps??=$_.read(this.extensionContext.workspaceState);try{let o=await this.resolveDebugConfigurationAsync(e,i,n);return o&&this.commonResolution(o,e)}catch(o){Bs.window.showErrorMessage(o.message,{modal:!0})}}applyDefaultRuntimeExecutable(e){if(e.runtimeExecutable)return;let r=Ct(Bs.workspace,"debug.javascript.defaultRuntimeExecutable"),n=r?r[e.type]:void 0;n&&(e.runtimeExecutable=n)}commonResolution(e,r){return e.trace=aI(e.trace,this.extensionContext.logPath),e.__workspaceCachePath=this.extensionContext.storagePath,e.__breakOnConditionalError=Ct(Bs.workspace,"debug.javascript.breakOnConditionalError",r)??!1,r?e.__workspaceFolder=r.uri.fsPath:(e.__workspaceFolder||=this.getSuggestedWorkspaceFolders(e).filter(Pt).filter(n=>!n.includes("${workspaceFolder}")).map(n=>(0,Zz.isAbsolute)(n)?Bs.workspace.getWorkspaceFolder(Bs.Uri.file(n))?.uri.fsPath:n).find(Pt)||Bs.workspace.workspaceFolders?.[0]?.uri.fsPath||"",e.__workspaceFolder?e=q0(e):e=U0(e)),e}getSuggestedWorkspaceFolders(e){return[]}};Hi=E([(0,k_.injectable)(),b(0,(0,k_.inject)(at))],Hi);var mc=A(xe()),Zd=require("fs"),Qd=A(Z()),St=A(require("path")),jn=A(require("vscode"));var eK=A(require("vscode"));function R_(t){eK.debug.activeDebugConsole.appendLine(t)}var Gu=A(xe()),tK=require("child_process"),rK=require("fs"),nK=require("path"),vn=A(require("vscode"));var Q_e=9229;async function iK(){let t=await CT();if(!t)return;let e=Ct(vn.workspace,"debug.javascript.pickAndAttachOptions"),r={...F0,...e,name:"process",processId:t};await DT(new _n(rK.promises),r,!0),await vn.debug.startDebugging(r.cwd?vn.workspace.getWorkspaceFolder(vn.Uri.file(r.cwd)):void 0,r)}async function DT(t,e,r=!1){let n=e.processId?.trim(),i=n&&t0e(n);if(!i||isNaN(i.pid))throw new Error(Gu.t("Attach to process: '{0}' doesn't look like a process id.",n||"<unknown>"));if(i.port||n0e(i.pid),e.port=i.port||Q_e,delete e.processId,r){let o=await Z_e(t,i.pid);o&&(e.cwd=o)}}async function Z_e(t,e){let r=e&&await vg.getWorkingDirectory(e);if(!r)return vn.workspace.workspaceFolders?.[0].uri.fsPath;let n=await Tl(t,r,"package.json");if(!n)return r;let i=vn.workspace.getWorkspaceFolder(vn.Uri.file(r));return!i||yy(i.uri.fsPath,n)?n:i.uri.fsPath}async function CT(){try{let t=await r0e();return t?t.pidAndPort:null}catch(t){return await vn.window.showErrorMessage(Gu.t("Process picker failed ({0})",t.message),{modal:!0}),null}}var e0e=(t,e)=>`${t}:${e??""}`,t0e=t=>{let[e,r]=t.split(":");return{pid:Number(e),port:r?Number(r):void 0}};async function r0e(){let t=/^(?:node|iojs)(?:$|\b)/i,e=0,r=vn.window.createQuickPick();r.placeholder=Gu.t("Pick the node.js process to attach to"),r.matchOnDescription=!0,r.matchOnDetail=!0,r.busy=!0,r.show();let n=!1,i=new Promise(s=>{r.onDidAccept(()=>s(r.selectedItems[0])),r.onDidHide(()=>s(void 0))});vg.lookup((s,a)=>{if(n)return a;process.platform==="win32"&&s.command.indexOf("\\??\\")===0&&(s.command=s.command.replace("\\??\\",""));let c=(0,nK.basename)(s.command,".exe"),{port:u}=Gx(s.args);if(!u&&!t.test(c))return a;let l={label:c,description:s.args,pidAndPort:e0e(s.pid,u),sortKey:s.date?s.date:e++,detail:u?Gu.t("process id: {0}, debug port: {1} ({2})",s.pid,u,"SIGUSR1"):Gu.t("process id: {0} ({1})",s.pid,"SIGUSR1")},p=a.findIndex(d=>d.sortKey<l.sortKey);return a.splice(p===-1?a.length:p,0,l),r.items=a,a},[]).then(()=>r.busy=!1).catch(s=>{vn.window.showErrorMessage(`Error listing processes: ${s.message}`),r.dispose()});let o=await i;return n=!0,r.dispose(),o}function n0e(t){try{if(process.platform==="win32"){let e=`node -e process._debugProcess(${t})`;(0,tK.execSync)(e)}else process.kill(t,"SIGUSR1")}catch(e){throw new Error(Gu.t("Attach to process: cannot enable debug mode for process '{0}' ({1}).",t,e))}}var gc=class extends Hi{constructor(r,n,i){super(r);this.nvmResolver=n;this.fsUtils=i}async resolveDebugConfigurationWithSubstitutedVariables(r,n){let i=n;if(i.type==="pwa-node"&&i.request==="attach"&&typeof i.processId=="string"&&await DT(this.fsUtils,i),"port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),"attachSimplePort"in i&&typeof i.attachSimplePort=="string"&&(i.attachSimplePort=Number(i.attachSimplePort)),i.cwd){let o=await An(Zd.promises,i.cwd);if(!o){jn.window.showErrorMessage(mc.t("The configured `cwd` {0} does not exist.",i.cwd),{modal:!0});return}if(!o.isDirectory()){jn.window.showErrorMessage(mc.t("The configured `cwd` {0} is not a folder.",i.cwd),{modal:!0});return}}return i}async resolveDebugConfigurationAsync(r,n,i){if(!n.name&&!n.type&&!n.request&&(n=await LT(r,!0,n),n.request==="launch"&&!n.program)){jn.window.showErrorMessage(mc.t("Cannot find a program to debug"),{modal:!0});return}if(n.cwd||(n.cwd=n.localRoot||PT(n.request==="launch"?n.program:void 0,r)),n.remoteRoot&&!n.localRoot&&(n.localRoot="${workspaceFolder}"),n.request==="launch"){if(this.applyDefaultRuntimeExecutable(n),n.runtimeExecutable&&Zy(n.runtimeExecutable)==="deno"&&!n.attachSimplePort){let s=await ba();n.attachSimplePort=s,n.continueOnAttach??=!0;let a=[`--inspect-brk=127.0.0.1:${s}`,"--allow-all"];n.runtimeArgs?n.runtimeArgs.includes("run")?n.runtimeArgs=[...n.runtimeArgs,...a]:n.runtimeArgs=["run",...a,...n.runtimeArgs]:n.runtimeArgs=["run",...a]}let o=n.runtimeVersion;if(typeof o=="string"&&o!=="default"){let{directory:s,binary:a}=await this.nvmResolver.resolveNvmVersionPath(o);n.env=new Gt(n.env).addToPath(s,"prepend",!0).value,n.runtimeExecutable=!n.runtimeExecutable||n.runtimeExecutable==="node"?a:n.runtimeExecutable}if(n.console==="integratedTerminal"&&!n.internalConsoleOptions&&(n.internalConsoleOptions="neverOpen"),n.attachSimplePort===null||n.attachSimplePort===void 0)Kx(n);else{if(n.attachSimplePort===0){n.attachSimplePort=await ba(void 0,i);let s=`--inspect-brk=${n.attachSimplePort}`;n.runtimeArgs=n.runtimeArgs?[...n.runtimeArgs,s]:[s]}n.continueOnAttach=!n.stopOnEntry,n.stopOnEntry=!1}await i0e(this.fsUtils,r,n)}return N0(n)}getType(){return"pwa-node"}getSuggestedWorkspaceFolders(r){return[r.rootPath,r.cwd]}};gc=E([(0,Qd.injectable)(),b(0,(0,Qd.inject)(at)),b(1,(0,Qd.inject)(Qx)),b(2,(0,Qd.inject)(Br))],gc);function PT(t,e){if(e)return e.uri.fsPath;if(jn.workspace.workspaceFolders&&jn.workspace.workspaceFolders.length>0)return jn.workspace.workspaceFolders[0].uri.fsPath;if(t){if(t==="${file}")return"${fileDirname}";if(St.isAbsolute(t))return St.dirname(t)}return"${workspaceFolder}"}function oK(t,e){if(t&&(e=zi(e,"workspaceFolder",t.uri.fsPath)),jn.workspace.workspaceFolders?.length&&(e=zi(e,"workspaceRoot",jn.workspace.workspaceFolders[0].uri.fsPath)),St.isAbsolute(e))return e;if(t)return St.join(t.uri.fsPath,e)}async function i0e(t,e,r){if(r.outFiles||!e)return;let n;if(r.program?(n=oK(e,r.program),n&&(n=St.dirname(n))):r.cwd&&(n=oK(e,r.cwd)),!n||vy(e.uri.fsPath,n))return;let i=await NI(n,async o=>!o.includes("node_modules")&&await t.exists(St.join(o,"package.json")));if(i){let o=Qe(St.relative(e.uri.fsPath,i));o.length&&(r.outFiles=[...aH.outFiles,`\${workspaceFolder}/${o}/**/*.js`,`!\${workspaceFolder}/${o}/**/node_modules/**`])}}var o0e=["index.js","main.js"];async function LT(t,e,r){let n={type:"pwa-node",request:"launch",name:mc.t("Launch Program"),skipFiles:["<node_internals>/**"]};r&&r.noDebug&&(n.noDebug=!0);let i=await sK(t,"package.json"),o,s=!1;if(i&&i.name==="mern-starter")return e&&R_(mc.t("Launch configuration for '{0}' project created.","Mern Starter")),a0e(n),n;if(i&&(o=await u0e(t,i,e),o&&e&&R_(mc.t("Launch configuration created based on 'package.json'."))),!o){let a=jn.window.activeTextEditor;a&&pH.includes(a.document.languageId)&&(s=a.document.languageId!=="javascript",o=t?St.relative(t.uri.fsPath,a.document.uri.fsPath):a.document.uri.fsPath,St.isAbsolute(o)||(o="${workspaceFolder}"+St.sep+o))}if(!o&&t){let a=t.uri.fsPath;o=await ho(o0e.map(async c=>await An(Zd.promises,St.join(a,c))&&"${workspaceFolder}"+St.sep+c))}if(o||(o="${file}"),o&&(n.program=o,t||(n.__workspaceFolder=St.dirname(o))),s||jn.workspace.textDocuments.some(a=>c0e(a.languageId))){e&&R_(mc.t("Adjust glob pattern(s) in the 'outFiles' attribute so that they cover the generated JavaScript."));let a="",c=await sK(t,"tsconfig.json");if(c?.compilerOptions?.outDir&&s0e()){let u=c.compilerOptions.outDir;St.isAbsolute(u)||(a=u,a.indexOf("./")===0&&(a=a.substr(2)),a[a.length-1]!=="/"&&(a+="/")),n.preLaunchTask="tsc: build - tsconfig.json"}n.outFiles=["${workspaceFolder}/"+a+"**/*.js"]}return n}function s0e(){let t=jn.workspace.getConfiguration().get("typescript.tsc.autoDetect");return t!=="off"&&t!=="watch"}function a0e(t){t.request==="launch"&&(t.runtimeExecutable="nodemon",t.program="${workspaceFolder}/index.js",t.restart=!0,t.env={BABEL_DISABLE_CACHE:"1",NODE_ENV:"development"},t.console="integratedTerminal",t.internalConsoleOptions="neverOpen")}function c0e(t){return t==="typescript"||t==="coffeescript"}async function sK(t,e){if(t)try{let r=await Zd.promises.readFile(St.join(t.uri.fsPath,e),"utf8");return JSON.parse(r)}catch{}}async function u0e(t,e,r){let n;try{if(e.main?n=e.main:e.scripts&&typeof e.scripts.start=="string"&&(n=e.scripts.start.split(" ").pop()),n){let i;if(St.isAbsolute(n)?i=n:(i=t?St.join(t.uri.fsPath,n):void 0,n=St.join("${workspaceFolder}",n)),r&&i&&!await An(Zd.promises,i)&&!await An(Zd.promises,i+".js"))return}}catch{}return n}var aK=A(require("vscode"));var ef=class extends Hi{async resolveDebugConfigurationAsync(e,r){if(r.cwd||(r.cwd=PT(void 0,e)),r.request==="launch"&&!r.command){await nH(aK.commands,"extension.js-debug.createDebuggerTerminal",void 0,e);return}return r.remoteRoot&&!r.localRoot&&(r.localRoot="${workspaceFolder}"),j0(r)}getType(){return"node-terminal"}};var l0e=t=>t.request==="launch",p0e=t=>t.request==="attach",Hc=class extends Hi{constructor(r,n,i,o,s){super(r);this.nodeProvider=n;this.terminalProvider=i;this.location=o;this.fs=s}async resolveBrowserCommon(r,n){if(n.request,n.server&&"program"in n.server){let o={...n.server,type:"pwa-node",request:"launch",name:`${n.name}: Server`};n.server=await this.nodeProvider.resolveDebugConfiguration(r,o)}else n.server&&"command"in n.server&&(n.server=await this.terminalProvider.resolveDebugConfiguration(r,{...n.server,type:"node-terminal",request:"launch",name:`${n.name}: Server`}));let i=this.location==="remote"?"ui":"workspace";if(l0e(n)&&!n.browserLaunchLocation&&(n.browserLaunchLocation=i),p0e(n)&&!n.browserAttachLocation&&(n.browserAttachLocation=i),n.request==="launch"){let o=n;this.applyDefaultRuntimeExecutable(o)}}getSuggestedWorkspaceFolders(r){return[r.rootPath,r.webRoot]}async resolveDebugConfigurationWithSubstitutedVariables(r,n){if("__pendingTargetId"in n)return n;let i=n;if("port"in i&&typeof i.port=="string"&&(i.port=Number(i.port)),i.request==="launch"){let o=await this.ensureNoLockfile(i);if(o===void 0)return;i=o}return i}async ensureNoLockfile(r){if(r.request!=="launch")return r;let n=r;if(n.userDataDir===!1||n.port&&!await VN(n.port))return r;let i=typeof n.userDataDir=="string"?n.userDataDir:(0,rf.join)(this.extensionContext.storagePath??(0,cK.tmpdir)(),n.runtimeArgs?.includes("--headless")?".headless-profile":".profile"),o=(0,rf.join)(i,process.platform==="win32"?"lockfile":"SingletonLock");if(await ho([YM(this.fs,o),this.isVsCodeLocked((0,rf.join)(i,"code.lock"))])){let a=tf.t("Debug Anyway");if(await Tg.window.showErrorMessage(tf.t("It looks like a browser is already running from {0}. Please close it before trying to debug, otherwise VS Code may not be able to connect to it.",n.userDataDir===!0?tf.t("an old debug session"):tf.t("the configured userDataDir")),{modal:!0},a)!==a)return}return{...r,userDataDir:i}}async isVsCodeLocked(r){try{let n=Number(await this.fs.readFile(r,"utf-8"));return process.kill(n,0),!0}catch{return!1}}};Hc=E([(0,js.injectable)(),b(0,(0,js.inject)(at)),b(1,(0,js.inject)(gc)),b(2,(0,js.inject)(ef)),b(3,(0,js.inject)(ls)),b(4,(0,js.inject)(we))],Hc);var yc=class extends Fs{provide(){return this.createLaunchConfigFromContext()||this.getDefaultLaunch()}getTriggerKind(){return Tg.DebugConfigurationProviderTriggerKind.Initial}createLaunchConfigFromContext(){let e=Tg.window.activeTextEditor;if(e&&e.document.languageId==="html")return{type:this.getType(),request:"launch",name:`Open ${(0,rf.basename)(e.document.uri.fsPath)}`,file:e.document.uri.fsPath}}getDefaultLaunch(){return{type:this.getType(),request:"launch",name:tf.t("Launch Chrome against localhost"),url:"http://localhost:8080",webRoot:"${workspaceFolder}"}}};yc=E([(0,js.injectable)()],yc);var TT=A(Z());var nf=class extends Hc{async resolveDebugConfigurationAsync(e,r){if(!r.name&&!r.type&&!r.request){let n=new zu().createLaunchConfigFromContext();if(!n)return null;r=n}return await this.resolveBrowserCommon(e,r),r.request==="attach"?{...Gf,...r}:{...uH,...r}}getType(){return"pwa-chrome"}};nf=E([(0,TT.injectable)()],nf);var zu=class extends yc{getType(){return"pwa-chrome"}};zu=E([(0,TT.injectable)()],zu);var uK=A(xe()),$T=A(Z());var of=class extends Hc{async resolveDebugConfigurationAsync(e,r){if(!r.name&&!r.type&&!r.request){let n=new Ku().createLaunchConfigFromContext();if(!n)return;r=n}return await this.resolveBrowserCommon(e,r),r.useWebView&&(r.timeout=r.timeout??0),r.request==="attach"?{...M0,...r}:{...O0,...r}}getType(){return"pwa-msedge"}};of=E([(0,$T.injectable)()],of);var Ku=class extends yc{getType(){return"pwa-msedge"}getDefaultLaunch(){return{...super.getDefaultLaunch(),name:uK.t("Launch Edge against localhost")}}};Ku=E([(0,$T.injectable)()],Ku);var pK=require("fs"),dK=A(Z()),fK=require("path");var sf=class extends Hi{async resolveDebugConfigurationAsync(e,r){if(r.debugWebWorkerHost===void 0){let n=await d0e(e,r);r={...r,debugWebWorkerHost:n.length===1&&n[0]==="web"}}return lH(r),r.debugWebWorkerHost&&(r.outFiles=[]),Promise.resolve({...R0,...r})}getType(){return"pwa-extensionHost"}};sf=E([(0,dK.injectable)()],sf);var lK="--extensionDevelopmentPath=",d0e=async(t,e)=>{let r=e.args?.find(o=>o.startsWith(lK));if(!r)return["workspace"];let n=zi(r.slice(lK.length),"workspaceFolder",t?.uri.fsPath??e.__workspaceFolder??""),i;try{let o=await pK.promises.readFile((0,fK.join)(n,"package.json"),"utf-8");i=JSON.parse(o).extensionKind??"workspace"}catch{return["workspace"]}return i instanceof Array?i:[i]};var O_=A(xe()),OT=A(Z()),lf=A(require("path")),$g=A(require("vscode"));var af=A(xe()),HK=A(require("fs")),M_=A(require("path")),st=A(require("vscode"));var hK=require("vscode"),kT=async t=>{try{return await hK.commands.executeCommand("npm.packageManager",t?.uri)}catch{return"npm"}},mK=async(t,e)=>`${await kT(e)} run ${t}`;async function yK(t){let e=await MT(t?[t]:void 0);if(!e)return;let r=async a=>{let c=st.workspace.getWorkspaceFolder(st.Uri.file(a.directory));nH(st.commands,"extension.js-debug.createDebuggerTerminal",await mK(a.name,c),c,{cwd:a.directory})};if(e.length===1)return r(e[0]);let n=e.some(a=>a.directory!==e[0].directory),i=st.window.createQuickPick(),o,s=[];for(let a of e)a.directory!==o&&n&&(s.push({label:M_.basename(a.directory),kind:st.QuickPickItemKind.Separator}),o=a.directory),s.push({script:a,label:a.name,description:a.command});i.items=s,i.onDidAccept(async()=>{r(i.selectedItems[0].script),i.dispose()}),i.show()}var RT=(t,e)=>t.score>e.score?t:e;async function MT(t,e=!1){let r=t??st.workspace.workspaceFolders??[];if(!r||r.length===0){e||st.window.showErrorMessage(af.t("You need to open a workspace folder to debug npm scripts."));return}let n=(await Promise.all(r.map(s=>st.workspace.findFiles(new st.RelativePattern(s,"**/package.json"),"**/{node_modules,.vscode-test}/**")))).flat();if(n.length===0){e||st.window.showErrorMessage(af.t("No package.json files found in your workspace."));return}let i=[],o={path:n[0].fsPath,score:0};for(let{fsPath:s}of new Set(n)){o=RT(o,{path:s,score:1});let a;try{a=JSON.parse(await my(s))}catch(c){e||gK("showWarningMessage",af.t("Could not read {0}: {1}",s,c.message),s),o=RT(o,{path:void 0,score:3});continue}if(o=RT(o,{path:void 0,score:2}),!!a.scripts)for(let c of Object.keys(a.scripts))i.push({directory:M_.dirname(s),name:c,command:a.scripts[c]})}if(i.length===0){o.path&&!e&&gK("showErrorMessage",af.t("No npm scripts found in your package.json"),o.path);return}return i.sort((s,a)=>(s.name==="start"?-1:0)+(a.name==="start"?1:0)),i}var f0e=`{
  "scripts": {
    
  }
}
`;async function gK(t,e,r){let n=af.t("Edit package.json");if(await st.window[t](e,n)!==n)return;if(HK.existsSync(r)){let a=await st.workspace.openTextDocument(r);await st.window.showTextDocument(a);return}let i=await st.workspace.openTextDocument(st.Uri.file(r).with({scheme:"untitled"})),o=await st.window.showTextDocument(i);await o.edit(a=>a.insert(new st.Position(0,0),f0e));let s=new st.Position(2,5);o.selection=new st.Selection(s,s)}var cf=class extends Fs{provide(e){return LT(e,!0)}getType(){return"pwa-node"}getTriggerKind(){return $g.DebugConfigurationProviderTriggerKind.Initial}};cf=E([(0,OT.injectable)()],cf);var h0e=["cwd","program"],uf=class extends Fs{async provide(e){let r=Zo(await Promise.all([this.getFromNpmScripts(e),this.getFromActiveFile()]));if(e)for(let n of r){let i=n;for(let o of h0e){let s=i[o];s&&lf.isAbsolute(s)&&(i[o]=lf.join("${workspaceFolder}",lf.relative(e.uri.fsPath,s)))}}return r}getType(){return"pwa-node"}getTriggerKind(){return $g.DebugConfigurationProviderTriggerKind.Dynamic}async getFromNpmScripts(e){let r={type:ol("node-terminal"),name:O_.t("JavaScript Debug Terminal"),request:"launch",cwd:e?.uri.fsPath};if(!e)return[r];let n=await MT([e],!0);if(!n)return[r];let i=await kT(e);return n.map(o=>({type:ol("node-terminal"),name:O_.t("Run Script: {0}",o.name),request:"launch",command:`${i} run ${o.name}`,cwd:o.directory})).concat(r)}getFromActiveFile(){let e=$g.window.activeTextEditor;return!e||!pH.includes(e.document.languageId)||e.document.uri.scheme!=="file"?[]:[{type:ol("pwa-node"),name:O_.t("Run Current File"),request:"launch",program:e.document.uri.fsPath}]}};uf=E([(0,OT.injectable)()],uf);var vK=[nf,of,sf,gc,ef],bK=[zu,Ku,cf,uf];var pf=A(xe()),kg=A(Z()),BT=require("url"),bn=A(require("vscode"));function FT(t,e){if(t){try{if(new BT.URL(t).hostname)return t}catch{}try{let r=`http://${t}`,n=new BT.URL(r);if(!e||n.port)return r}catch{}}}var df=class{constructor(e,r){this.defaultBrowser=e;this.context=r}register(e){e.subscriptions.push(bn.commands.registerCommand("extension.js-debug.debugLink",r=>this.handle(r)))}async handle(e){if(e=e??await this.getLinkFromTextEditor()??await this.getLinkFromQuickInput(),!e)return;let r="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(r="pwa-msedge")}catch{}let n=Ct(bn.workspace,"debug.javascript.debugByLinkOptions")??{},i={...typeof n=="string"?{}:n,type:ol(r),name:e,request:"launch",url:e};bn.debug.startDebugging(bn.workspace.workspaceFolders?.[0],i),this.persistConfig(i)}getLinkFromTextEditor(){let e=bn.window.activeTextEditor;if(e)return FT(e.document.getText(e.selection),!0)}async getLinkFromQuickInput(){let e=await bn.env.clipboard.readText(),r=await bn.window.showInputBox({value:FT(e,!1)||this.mostRecentLink,placeHolder:"https://localhost:8080",validateInput:n=>{if(n&&!FT(n,!1))return pf.t("The URL provided is invalid")}});if(r)return this.mostRecentLink=r,r}async persistConfig(e){if(this.context.globalState.get("saveDebugLinks")===!1)return;let r=bn.workspace.getConfiguration("launch"),n=r.get("configurations")??[];if(n.some(a=>a.url===e.url))return;let i=pf.t("Yes"),o=pf.t("Never"),s=await bn.window.showInformationMessage(pf.t("Would you like to save a configuration in your launch.json for easy access later?"),i,pf.t("No"),o);s===o&&this.context.globalState.update("saveDebugLinks",!1),s===i&&await r.update("configurations",[...n,e])}};df=E([(0,kg.injectable)(),b(0,(0,kg.inject)(Gp)),b(1,(0,kg.inject)(at))],df);var ff=A(xe()),mf=A(Z()),Un=A(require("vscode"));var wK="neverRemind",hf=class{constructor(e,r,n){this.fs=e;this.context=r;this.tracker=n;this.dismissedForSession=!1;this.isPrompting=!1}register(e){e.subscriptions.push(Le(Un.commands,"extension.js-debug.getDiagnosticLogs",async()=>{let r=await this.getTargetSession();if(!r)return;let n=await Un.window.showSaveDialog({filters:{JSON:["json"]}});n&&r.customRequest("saveDiagnosticLogs",{toFile:n.fsPath})}),Le(Un.commands,"extension.js-debug.createDiagnostics",async()=>this.getDiagnosticInfo(await this.getTargetSession())),Un.debug.onDidReceiveDebugSessionCustomEvent(async r=>{if(r.event==="openDiagnosticTool")return this.openDiagnosticTool(r.body.file);if(r.event!=="suggestDiagnosticTool"||this.dismissedForSession||this.context.workspaceState.get(wK)||this.isPrompting)return;this.isPrompting=!0;let n=ff.t("Yes"),i=ff.t("Not Now"),o=ff.t("Never"),s=await Un.window.showInformationMessage("It looks like you might be having trouble with breakpoints. Would you like to open our diagnostic tool?",n,i,o);switch(this.isPrompting=!1,s){case n:this.getDiagnosticInfo(await this.getTargetSession(),!0);break;case o:e.workspaceState.update(wK,!0);break;case i:this.dismissedForSession=!0;break}}))}getTargetSession(){let e=Un.debug.activeDebugSession;if(!e||!Xs(e?.type))return this.pickSession();if(et.isConcreteSession(e))return e;let r=this.tracker.getChildren(e);return r.length===1?r[0]:this.pickSession()}pickSession(){return et.pickSession(this.tracker.getConcreteSessions(),ff.t("Select the session you want to inspect:"))}async getDiagnosticInfo(e,r=!1){if(!e||!this.tracker.isRunning(e)){Un.window.showErrorMessage(ff.t('It looks like your debug session has already ended. Try debugging again, then run the "Debug: Diagnose Breakpoint Problems" command.'));return}let{file:n}=await e.customRequest("createDiagnostics",{fromSuggestion:r});await this.openDiagnosticTool(n)}async openDiagnosticTool(e){let r=Un.window.createWebviewPanel("jsDebugDiagnostics","Debug Diagnostics",Un.ViewColumn.Active,{enableScripts:!0});r.webview.html=await this.fs.readFile(e,"utf-8")}};hf=E([(0,mf.injectable)(),b(0,(0,mf.inject)(we)),b(1,(0,mf.inject)(at)),b(2,(0,mf.inject)(et))],hf);var gf=A(xe()),xK=A(Z()),yi=A(require("vscode"));var Xu=class{register(e){e.subscriptions.push(yi.debug.onDidReceiveDebugSessionCustomEvent(r=>{if(r.event!=="suggestDisableSourcemap"||!Xs(r.session.type))return;let n=r.body;this.unmap(r.session,n.source).catch(i=>yi.window.showErrorMessage(i.message))}))}async unmap(e,r){(Ct(yi.workspace,"debug.javascript.unmapMissingSources")||await this.prompt())&&await e.customRequest("disableSourcemap",{source:r})}async prompt(){let e=gf.t("Always"),r=gf.t("Always in this Workspace"),n=gf.t("Yes");switch(await yi.window.showInformationMessage(gf.t("This is a missing file path referenced by a sourcemap. Would you like to debug the compiled version instead?"),e,r,gf.t("No"),n)){case e:return $0(yi.workspace,"debug.javascript.unmapMissingSources",!0,yi.ConfigurationTarget.Global),!0;case r:return $0(yi.workspace,"debug.javascript.unmapMissingSources",!0,yi.ConfigurationTarget.Workspace),!0;case n:return!0;default:return!1}}};Xu=E([(0,xK.injectable)()],Xu);var Ju=A(xe()),F_=A(Z()),qi=A(require("vscode"));var _K="ms-vscode.wasm-dwarf-debugging",AK="dwarf.neverRemind",Hf=class{constructor(e){this.context=e;this.didPromptForSession=this.context.workspaceState.get(AK,!1)}async load(){try{return await import("@vscode/dwarf-debugging")}catch{}let e=qi.extensions.getExtension(_K);if(e)return e.isActive||await e.activate(),e.exports}async prompt(){if(this.didPromptForSession)return;this.didPromptForSession=!0;let e=Ju.t("Yes"),r=Ju.t("Never"),n=await qi.window.showInformationMessage(Ju.t({message:'VS Code can provide better debugging experience for WebAssembly via "DWARF Debugging" extension. Would you like to install it?',comment:'"DWARF Debugging" is the extension name and should not be localized.'}),e,Ju.t("Not Now"),r);n===e?this.install():n===r&&this.context.workspaceState.update(AK,!0)}async install(){await qi.window.withProgress({location:qi.ProgressLocation.Notification,title:Ju.t("Installing the DWARF debugger...")},async()=>{try{await qi.commands.executeCommand("workbench.extensions.installExtension",_K),qi.window.showInformationMessage(Ju.t("Installation complete! The extension will be used after you restart your debug session."))}catch(e){qi.window.showErrorMessage(e.message||String(e))}})}};Hf=E([(0,F_.injectable)(),b(0,(0,F_.inject)(at))],Hf);var SK=A(xe()),B_=A(Z()),vc=A(require("vscode"));var IK=t=>{if(t?.type!=="pwa-msedge")return!1;let e=t.configuration.__browserTargetType;return e==="iframe"||e==="page"},g0e="ms-edgedevtools.vscode-edge-devtools",H0e="vscode-edge-devtools.attachToCurrentDebugTarget";function y0e(t){let e=t;for(;e.parentSession;)e=e.parentSession;return e}var yf=class{constructor(e){this.tracker=e}register(e){e.subscriptions.push(Le(vc.commands,"extension.js-debug.openEdgeDevTools",async()=>{let r=vc.debug.activeDebugSession&&IK(vc.debug.activeDebugSession)?vc.debug.activeDebugSession:await et.pickSession(this.tracker.getConcreteSessions().filter(IK),SK.t("Select the page where you want to open the devtools"));if(!r)return;let n=y0e(r);try{return await vc.commands.executeCommand(H0e,r.id,n.configuration)}catch(i){if(i instanceof Error&&/command .+ not found/.test(i.message))return vc.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[g0e]);throw i}}))}};yf=E([(0,B_.injectable)(),b(0,(0,B_.inject)(et))],yf);var PK=require("crypto"),N_=A(Z()),LK=require("path"),ut=A(require("vscode"));var EK=({name:t,line:e,column:r,source:n})=>`${t} (${(0,LK.basename)(String(n.path))}:${e}:${r})`,DK=({name:t,line:e,column:r,source:n})=>`${t} (${n.path}:${e}:${r})`,CK=async({line:t,column:e,source:r})=>{if(r.sourceReference!==0||!r.path)return;let n=ut.Uri.file(r.path),i=await ut.workspace.openTextDocument(n),o=await ut.window.showTextDocument(i),s=new ut.Position(t-1,e-1);o.revealRange(new ut.Range(s,s)),o.selection=new ut.Selection(s,s)},NT=class{constructor(e,r){this.caller=e;this.target=r;this.treeItem=new ut.TreeItem(`${EK(e)} \u2192 ${EK(r)}`,ut.TreeItemCollapsibleState.None),this.treeItem.tooltip=`Breaks at ${DK(r)} containing ${DK(e)} will be skipped`,this.id=this.treeItem.id=(0,PK.createHash)("sha1").update(JSON.stringify([e,r])).digest("base64")}toDap(){return{caller:this.caller,target:this.target}}},vf=class{constructor(e){this.sessionTracker=e;this._onDidChangeTreeData=new ut.EventEmitter;this.allCallers=new Map;this.lastHadCallers=!1;this.onDidChangeTreeData=this._onDidChangeTreeData.event}register(e){e.subscriptions.push(ut.window.createTreeView("jsExcludedCallers",{treeDataProvider:this}),Le(ut.commands,"extension.js-debug.callers.add",async(r,n)=>{let i=await this.sessionTracker.getById(n.sessionId)?.customRequest("stackTrace",{threadId:0,startFrame:0,levels:1});if(!i?.stackFrames.length)return;let o=i.stackFrames[0],s=new NT({name:n.frameName,column:n.frameLocation.range.startColumn,line:n.frameLocation.range.startLineNumber,source:n.frameLocation.source},{name:o.name,column:o.column,line:o.line,source:o.source});this.allCallers.set(s.id,s),this.triggerUpdate()}),Le(ut.commands,"extension.js-debug.callers.goToCaller",r=>CK(r.caller)),Le(ut.commands,"extension.js-debug.callers.gotToTarget",r=>CK(r.target)),Le(ut.commands,"extension.js-debug.callers.remove",async r=>{this.allCallers.delete(r.id),this.triggerUpdate()}),Le(ut.commands,"extension.js-debug.callers.removeAll",async()=>{this.allCallers.clear(),this.triggerUpdate()}),this.sessionTracker.onSessionAdded(r=>{this.allCallers.size>0&&this.sendCallersToSession(r)}))}getTreeItem(e){return e.treeItem}getChildren(e){return e?[]:[...this.allCallers.values()]}sendCallersToSession(e){e.customRequest("setExcludedCallers",{callers:[...this.allCallers.values()].map(r=>r.toDap())})}triggerUpdate(){this._onDidChangeTreeData.fire(void 0);for(let r of this.sessionTracker.getConcreteSessions())this.sendCallersToSession(r);let e=this.allCallers.size>0;e!==this.lastHadCallers&&(Wf(ut.commands,"jsDebugHasExcludedCallers",e),this.lastHadCallers=e)}};vf=E([(0,N_.injectable)(),b(0,(0,N_.inject)(et))],vf);var jT=A(xe()),Rg=A(Z());var TK="linkBpWarnIgnored",b0e="https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_can-i-debug-if-im-using-symlinks",bf=class{constructor(e,r){this.vscode=e;this.context=r;this.didWarn=this.context.workspaceState.get(TK,!1)}async warn(){if(this.didWarn)return;this.didWarn=!0;let e=jT.t("Read More"),r=jT.t("Ignore"),n=await this.vscode.window.showWarningMessage("It looks like you have symlinked files. You might need to update your configuration to make this work as expected.",r,e);n===r?this.context.workspaceState.update(TK,!0):n===e&&this.vscode.env.openExternal(this.vscode.Uri.parse(b0e))}};bf=E([(0,Rg.injectable)(),b(0,(0,Rg.inject)(Yn)),b(1,(0,Rg.inject)(at))],bf);var Mg=A(xe()),j_=A(Z()),kK=require("path"),Us=A(require("vscode"));var $K="omitLongPredictions",wf=class{constructor(e){this.context=e}register(e){e.subscriptions.push(Us.debug.onDidReceiveDebugSessionCustomEvent(r=>{r.event==="longPrediction"&&this.promptLongBreakpoint(r.session.workspaceFolder)}))}async promptLongBreakpoint(e){if(this.context.workspaceState.get($K))return;let r=Mg.t("It's taking a while to configure your breakpoints. You can speed this up by updating the 'outFiles' in your launch.json."),n=Mg.t("Open launch.json"),i=Mg.t("Don't show again"),o=await Us.window.showWarningMessage(r,i,n);if(o===i){this.context.workspaceState.update($K,!0);return}if(o!==n)return;if(e||(e=await Us.window.showWorkspaceFolderPick()),!e){await Us.window.showWarningMessage(Mg.t("No workspace folder open."));return}let s=await Us.workspace.openTextDocument((0,kK.join)(e.uri.fsPath,".vscode","launch.json"));await Us.window.showTextDocument(s)}};wf=E([(0,j_.injectable)(),b(0,(0,j_.inject)(at))],wf);var U_=A(Z()),_f=require("vscode");var xf=class{constructor(e){this.leaseTracker=e;this.cachedResolutions=new Array(16).fill("");this.cachedResolutionIndex=0}register(e){typeof _f.workspace.registerPortAttributesProvider=="function"&&e.subscriptions.push(_f.workspace.registerPortAttributesProvider({portRange:[53e3,54e3]},this))}async providePortAttributes({port:e,pid:r}){if(r&&this.cachedResolutions.includes(`${e}:${r}`))return{port:e,autoForwardAction:_f.PortAutoForwardAction.Ignore};if(await this.leaseTracker.isRegistered(e)){if(r){let n=this.cachedResolutionIndex++%this.cachedResolutions.length;this.cachedResolutions[n]=`${e}:${r}`}return{port:e,autoForwardAction:_f.PortAutoForwardAction.Ignore}}}};xf=E([(0,U_.injectable)(),b(0,(0,U_.inject)(dt))],xf);var q_=A(Z()),MK=A(require("querystring")),Yu=A(require("vscode"));var Af=class{constructor(e){this.tracker=e;this.canPrettyPrintKey=new Jd("jsDebugCanPrettyPrint")}register(e){e.subscriptions.push(Le(Yu.commands,"extension.js-debug.prettyPrint",()=>this.prettifyActive()),Yu.window.onDidChangeActiveTextEditor(r=>this.updateEditorState(r)),this.tracker.onSessionAdded(()=>this.updateEditorState(Yu.window.activeTextEditor)),this.tracker.onSessionEnded(()=>this.updateEditorState(Yu.window.activeTextEditor)))}async prettifyActive(){let e=Yu.window.activeTextEditor;if(!e||!this.canPrettyPrint(e))return;let{sessionId:r,source:n}=w0e(e.document.uri),i=r&&this.tracker.getById(r);if(i)RK(i,n,e.selection.start);else for(let o of this.tracker.getConcreteSessions())RK(o,n,e.selection.start)}canPrettyPrint(e){return this.tracker.isDebugging&&e.document.languageId==="javascript"&&!e.document.fileName.endsWith("-pretty.js")}updateEditorState(e){if(!this.tracker.isDebugging){this.canPrettyPrintKey.value=void 0;return}e&&this.canPrettyPrint(e)&&e.document.uri.toString()!==this.canPrettyPrintKey.value?.[0]&&(this.canPrettyPrintKey.value=[e.document.uri.toString()])}};Af=E([(0,q_.injectable)(),b(0,(0,q_.inject)(et))],Af);var RK=(t,e,r)=>t.customRequest("prettyPrintSource",{source:e,line:r.line,column:r.character}),w0e=t=>{let e=MK.parse(t.query),r=e.session,n={path:t.fsPath,sourceReference:Number(e.ref)||0};return{sessionId:r,source:n}};var Og=A(xe()),Fg=A(Z()),FK=A(require("path")),Wi=A(require("vscode"));var OK="breakpointTerminationWarnedSlow",If=class{constructor(e,r){this.fs=e;this.context=r;this.sortOrder=2;this.id="breakpoint";this.label=Og.t("Pick Breakpoint");this.description=Og.t("Run until a specific breakpoint is hit")}async onPick(e,r){if(r)return new W_(r);let n=Wi.window.createQuickPick();n.canSelectMany=!0,n.matchOnDescription=!0,n.busy=!0;let i=await new Promise(o=>{n.onDidAccept(()=>o(n.selectedItems)),n.onDidHide(()=>o(void 0)),n.onDidChangeActive(async s=>{if(!s.length)return;let a=s[0].location,c=await Wi.workspace.openTextDocument(a.uri);Wi.window.showTextDocument(c,{selection:a.range,preview:!0,preserveFocus:!0})}),n.show(),(async()=>{let s=Wi.debug.breakpoints.filter(u=>u.enabled&&u instanceof Wi.SourceBreakpoint),a=await Promise.all(s.map(u=>e.getDebugProtocolBreakpoint(u))),c=await this.getCandidates(a,s);n.items=c,n.selectedItems=c,n.busy=!1})()});if(n.dispose(),!!i)return await this.warnSlowCode(),new W_(i.map(o=>Number(o.id)))}async warnSlowCode(){this.context.workspaceState.get(OK)||(Wi.window.showWarningMessage(Og.t('Profiling with breakpoints enabled can change the performance of your code. It can be useful to validate your findings with the "duration" or "manual" termination conditions.'),Og.t("Got it!")),await this.context.workspaceState.update(OK,!0))}async getCandidates(e,r){if(e.length!==r.length)throw new Error("Mismatched breakpoint array lengths");let n=Qo(o=>this.getFileLines(o));return(await Promise.all(r.map(async(o,s)=>{let a=e[s];if(!a||!a.id)return;let c=o.location,u=Wi.workspace.getWorkspaceFolder(c.uri),l=u?FK.relative(u.uri.fsPath,c.uri.fsPath):c.uri.fsPath,p=await n(c.uri.fsPath);return{id:a.id,label:`${l}:${c.range.start.line}:${c.range.start.character}`,location:c,description:p?.[c.range.start.line]?.trim()}}))).filter(Pt)}async getFileLines(e){try{return(await this.fs.readFile(e,"utf-8")).split(`
`)}catch{return}}};If=E([(0,Fg.injectable)(),b(0,(0,Fg.inject)(we)),b(1,(0,Fg.inject)(at))],If);var W_=class{constructor(e){this.breakpointIds=e}get customData(){return{stopAtBreakpoint:this.breakpointIds.slice()}}dispose(){}};var Qu=A(xe()),BK=A(Z()),NK=A(require("vscode"));var V_=A(xe()),Ko=A(require("vscode"));var Bg=class{constructor(e,r,n){this.session=e;this.impl=r;this.termination=n;this.statusChangeEmitter=new Y;this.stopEmitter=new Y;this._innerStatus=[];this.disposables=new Ie;this.state=0;this.onStatusChange=this.statusChangeEmitter.event;this.onStop=this.stopEmitter.event;this.disposables.push(Ko.debug.onDidReceiveDebugSessionCustomEvent(i=>{i.session===e&&i.event==="profilerStateUpdate"&&this.onStateUpdate(i.body)}),Ko.debug.onDidTerminateDebugSession(i=>{i===e&&this.stopEmitter.fire(void 0)})),n&&(this.disposables.push(n),n.attachTo?.(this))}get status(){return this._innerStatus.filter(e=>!!e).join(", ")||void 0}async start(){try{await Ko.window.withProgress({location:Ko.ProgressLocation.Window,title:V_.t("Starting profile...")},()=>this.session.customRequest("startProfile",{type:this.impl.type,...this.termination?.customData}))}catch(e){Ko.window.showErrorMessage(e.message),this.stopEmitter.fire(void 0)}}dispose(){this.state=2,this.disposables.dispose()}setFile(e){this.file=e}async stop(){this.state===0&&(this.setStatus(-1,V_.t("Saving")),this.state=1,await Ko.window.withProgress({location:Ko.ProgressLocation.Window,title:V_.t("Stopping profile...")},()=>this.session.customRequest("stopProfile",{})))}onStateUpdate(e){if(e.running){this.setStatus(0,e.label);return}this.state=2,this.stopEmitter.fire(this.file),this.dispose()}setStatus(e,r){this.state===0&&(e===-1?this._innerStatus=[r]:this._innerStatus[e]=r,this.statusChangeEmitter.fire(this.status))}};var Sf=class{constructor(){this.sortOrder=1;this.id="duration";this.label=Qu.t("Duration");this.description=Qu.t("Run for a specific amount of time")}async onPick(e,r){if(r)return new G_(r*1e3);let n=NK.window.createInputBox();n.title=Qu.t("Duration of Profile"),n.placeholder=Qu.t('Profile duration in seconds, e.g "5"'),this.lastDuration&&(n.value=String(this.lastDuration)),n.onDidChangeValue(o=>{/^[0-9]+$/.test(o)?Number(o)<1?n.validationMessage=Qu.t("Please enter a number greater than 1"):n.validationMessage=void 0:n.validationMessage=Qu.t("Please enter a number")});let i=await new Promise(o=>{n.onDidAccept(()=>{if(n.validationMessage)return o(void 0);this.lastDuration=Number(n.value),o(new G_(this.lastDuration*1e3))}),n.onDidHide(()=>o(void 0)),n.show()});return n.dispose(),i}};Sf=E([(0,BK.injectable)()],Sf);var G_=class{constructor(e){this.duration=e;this.disposable=new Ie}attachTo(e){let r=Date.now()+this.duration,n=()=>e.setStatus(1,`${Math.round((r-Date.now())/1e3)}s`),i=setTimeout(()=>e.stop(),this.duration),o=setInterval(n,1e3);n(),this.disposable.callback(()=>{clearTimeout(i),clearInterval(o)})}dispose(){this.disposable.dispose()}};var UT=A(xe()),jK=A(Z());var Ef=class{constructor(){this.sortOrder=0;this.id="manual";this.label=UT.t("Manual");this.description=UT.t("Run until manually stopped")}async onPick(){return new Ng}};Ef=E([(0,jK.injectable)()],Ef);var Ng=class{dispose(){}};var Df=Symbol("ITerminationConditionFactory");var Xo=A(xe()),wc=A(Z()),UK=require("os"),z_=require("path"),gr=A(require("vscode"));var x0e=t=>"__pendingTargetId"in t.configuration,bc=class{constructor(e,r,n,i){this.tracker=e;this.fs=r;this.sessionStates=n;this.terminationConditions=i;this.activeSessions=new Map;this.disposables=new Ie;this.disposables.push(gr.debug.onDidReceiveDebugSessionCustomEvent(o=>{if(o.event!=="profileStarted")return;let s=o.body,a=this.activeSessions.get(o.session.id);a||(a=new Bg(o.session,hn.ctors.find(c=>c.type===s.type)||hn.ctors[0],new Ng),this.registerSession(a)),a.setFile(s.file)}))}async start(e){let r,n=[...this.tracker.getConcreteSessions()].filter(x0e);if(e.sessionId?r=n.find(u=>u.id===e.sessionId):r=await this.pickSession(n),!r)return;let i=r,o=this.activeSessions.get(i.id);if(o&&!await this.alreadyRunningSession(o))return;let s=await this.pickType(i,e.type);if(!s)return;let a;if(!s.instant&&(a=await this.pickTermination(i,e.termination),!a))return;let c=new Bg(i,s,a);c&&(this.registerSession(c,e.onCompleteCommand),await c.start(),s.instant&&await c.stop())}async stop(e){let r;if(e)r=this.activeSessions.get(e);else{let n=await this.pickSession([...this.activeSessions.values()].map(i=>i.session));r=n&&this.activeSessions.get(n.id)}r&&(this.sessionStates.remove(r.session.id),await r.stop())}dispose(){for(let e of this.activeSessions.values())e.dispose();this.activeSessions.clear(),this.disposables.dispose()}registerSession(e,r){this.activeSessions.set(e.session.id,e),this.sessionStates.add(e.session.id,Xo.t("Profiling")),e.onStatusChange(()=>this.updateStatusBar()),e.onStop(n=>{n&&this.openProfileFile(e,r,e.session,n),this.activeSessions.delete(e.session.id),e.dispose(),this.updateStatusBar()}),this.updateStatusBar()}async openProfileFile(e,r,n,i){if(r)return Promise.all([gr.commands.executeCommand(r,{contents:await this.fs.readFile(i,"utf-8"),basename:(0,z_.basename)(i)+e.impl.extension}),this.fs.unlink(i)]);let o=n.workspaceFolder?.uri.fsPath??gr.workspace.workspaceFolders?.[0].uri.fsPath??(0,UK.homedir)(),s=Tb()+e.impl.extension,a=gr.Uri.file((0,z_.join)(o,s));await QM(this.fs,i,a.fsPath),await gr.commands.executeCommand(e.impl.editable?"vscode.open":"revealInExplorer",a)}updateStatusBar(){if(this.activeSessions.size===0){this.statusBarItem?.hide(),Wf(gr.commands,"jsDebugIsProfiling",!1);return}this.statusBarItem||(this.statusBarItem=gr.window.createStatusBarItem(gr.StatusBarAlignment.Right,500),this.statusBarItem.command="extension.js-debug.stopProfile"),Wf(gr.commands,"jsDebugIsProfiling",!0);let e=aa(this.activeSessions.values());e&&this.activeSessions.size===1?this.statusBarItem.text=e.status?Xo.t("{0} Click to Stop Profiling ({1})","$(loading~spin)",e.status):Xo.t("{0} Click to Stop Profiling","$(loading~spin)"):this.statusBarItem.text=Xo.t("{0} Click to Stop Profiling ({1} sessions)","$(loading~spin)",this.activeSessions.size),this.statusBarItem.show()}async alreadyRunningSession(e){let r=Xo.t("Yes"),n=Xo.t("No");return await gr.window.showErrorMessage(Xo.t("A profiling session is already running, would you like to stop it and start a new session?"),r,n)!==r?!1:(await this.stop(e.session.id),!0)}async pickSession(e){if(e.length===0)return;if(e.length===1)return e[0];let r=await gr.window.showQuickPick(e.map(n=>({label:n.name,id:n.id})));return r&&e.find(n=>n.id===r.id)}async pickType(e,r){let n=e.configuration;if(r)return hn.ctors.find(o=>o.type===r&&o.canApplyTo(n));let i=await this.pickWithLastDefault(Xo.t("Type of profile:"),hn.ctors.filter(o=>o.canApplyTo(n)),this.lastChosenType);return i&&(this.lastChosenType=i.label),i}async pickTermination(e,r){if(r){let i=typeof r=="string"?{type:r}:r;return this.terminationConditions.find(o=>o.id===i.type)?.onPick(e,...i.args??[])}let n=await this.pickWithLastDefault(Xo.t("How long to run the profile:"),this.terminationConditions,this.lastChosenTermination);return n&&(this.lastChosenTermination=n.label),n?.onPick(e)}async pickWithLastDefault(e,r,n){if(r.length<=1)return r[0];let i=gr.window.createQuickPick();i.title=e,i.items=r.slice().sort((s,a)=>s.label===n||a.label===n?s.label===n?-1:1:(s.sortOrder??0)-(a.sortOrder??0)).map(s=>({label:s.label,description:s.description,alwaysShow:!0}));let o=await new Promise(s=>{i.onDidAccept(()=>s(i.selectedItems[0]?.label)),i.onDidHide(()=>s(void 0)),i.show()});if(i.dispose(),!!o)return r.find(s=>s.label===o)}};bc=E([(0,wc.injectable)(),b(0,(0,wc.inject)(et)),b(1,(0,wc.inject)(we)),b(2,(0,wc.inject)(np)),b(3,(0,wc.multiInject)(Df))],bc);var WK=A(Z()),VK=require("vscode");var qK=(t,e)=>{let r=t;for(let[n,i]of Object.entries(e))typeof i=="object"&&i?r[n]=Object.assign(r[n]||{},i):r[n]=i};var Cf=class{constructor(){this.read=_e(()=>Ct(VK.workspace,"debug.javascript.resourceRequestOptions"))}provideOptions(e){qK(e,this.read()||{})}};Cf=E([(0,WK.injectable)()],Cf);var GK=A(Z()),qT=require("vscode");var Pf=class{register(e){e.subscriptions.push(Le(qT.commands,"extension.node-debug.startWithStopOnEntry",()=>qT.commands.executeCommand("workbench.action.debug.start",{config:{stopOnEntry:!0}})))}};Pf=E([(0,GK.injectable)()],Pf);var n$=A(xe()),h0=A(Z()),nX=A(rX()),iX=require("url"),yr=A(require("vscode"));var Ac=class{constructor(e){this.defaultBrowser=e;this.enabledTerminals=new WeakSet;this.disposable=new Ie;this.notifiedCantOpenOnWeb=!1;this.baseConfiguration=this.readConfig();this.disposable.push(yr.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("debug.javascript.debugByLinkOptions")&&(this.baseConfiguration=this.readConfig())}))}enableHandlingInTerminal(e){this.enabledTerminals.add(e)}dispose(){this.disposable.dispose()}provideTerminalLinks(e){switch(this.baseConfiguration.enabled){case"off":return[];case"always":break;case"on":default:if(!this.enabledTerminals.has(e.terminal))return[]}let r=[],n=_e(()=>{if("cwd"in e.terminal.creationOptions&&e.terminal.creationOptions.cwd){let i=yr.workspace.getWorkspaceFolder(typeof e.terminal.creationOptions.cwd=="string"?yr.Uri.file(e.terminal.creationOptions.cwd):e.terminal.creationOptions.cwd);if(i)return i}return yr.workspace.workspaceFolders?.[0]});for(let i of(0,nX.find)(e.line,"url")){let o=-1;for(;(o=e.line.indexOf(i.value,o+1))!==-1;){let s;try{s=new iX.URL(i.href)}catch{continue}s.protocol==="http:"&&!i.value.startsWith("http:")&&!Xy(s.hostname)&&(s.protocol="https:"),!(s.protocol!=="http:"&&s.protocol!=="https:")&&r.push({startIndex:o,length:i.value.length,tooltip:n$.t("Debug URL"),target:s,workspaceFolder:n()?.index})}}return r}async handleTerminalLink(e){await this.handleTerminalLinkInner(e)||yr.env.openExternal(yr.Uri.parse(e.target.toString()))}async handleTerminalLinkInner(e){if(!e.target)return!1;let r=e.target;if(yr.env.uiKind===yr.UIKind.Web)return this.notifiedCantOpenOnWeb||(yr.window.showInformationMessage(n$.t("We can't launch a browser in debug mode from here. If you want to debug this webpage, open this workspace from VS Code on your desktop.")),this.notifiedCantOpenOnWeb=!0),!1;IO(r.hostname)&&(r.hostname="localhost");let n="pwa-chrome";try{await this.defaultBrowser.lookup()===3&&(n="pwa-msedge")}catch{}let i=e.workspaceFolder!==void 0?yr.workspace.workspaceFolders?.[e.workspaceFolder]:void 0;return yr.debug.startDebugging(i,{...this.baseConfiguration,type:n,name:r.toString(),request:"launch",url:r.toString()}),!0}readConfig(){let e=Ct(yr.workspace,"debug.javascript.debugByLinkOptions");return typeof e=="boolean"&&(e=e?"on":"off"),typeof e=="string"?{enabled:e}:{enabled:"on",...e}}};Ac=E([(0,h0.injectable)(),b(0,(0,h0.inject)(Gp))],Ac);var oX=t=>{t.bind(Yn).toConstantValue(require("vscode")),vK.forEach(e=>{t.bind(e).toSelf().inSingletonScope(),t.bind(P_).to(e)}),bK.forEach(e=>t.bind(L_).to(e).inSingletonScope()),t.bind(pn).to(wf).inSingletonScope(),t.bind(pn).to(df).inSingletonScope(),t.bind(pn).to(Xd).inSingletonScope(),t.bind(pn).to(Xu).inSingletonScope(),t.bind(pn).to(hf).inSingletonScope(),t.bind(pn).to(Pf).inSingletonScope(),t.bind(pn).to(xf).inSingletonScope(),t.bind(pn).to(yf).inSingletonScope(),t.bind(pn).to(vf).inSingletonScope(),t.bind(pn).to(Af).inSingletonScope(),t.bind(pn).to(Yd).inSingletonScope(),t.bind(pg).to(bf).inSingletonScope(),t.bind(et).toSelf().inSingletonScope().onActivation(pt),t.bind(bc).toSelf().inSingletonScope().onActivation(pt),t.bind(Ac).toSelf().inSingletonScope(),t.bind(Xu).toSelf().inSingletonScope(),t.bind(Qc).to(Hf).inSingletonScope(),t.bind(Df).to(Sf).inSingletonScope(),t.bind(Df).to(Ef).inSingletonScope(),t.bind(Df).to(If).inSingletonScope()},sX=t=>{t.bind(xr).to(Ms).onActivation(pt),t.bind(Np).to(Cf).inSingletonScope(),t.bind(Yl).to(Kd).inSingletonScope()};var cX=(t,e,r,n)=>{let i=new H0.Container;return i.parent=t,i.bind(Me).toConstantValue(e.launchConfig),i.bind(tp).toConstantValue(i),i.bind(sn).toConstantValue(r),i.bind(bt).toConstantValue(n),i.bind(To).toConstantValue(e),i.bind(zG).toConstantValue(e.targetOrigin()),i.bind(Mc).to(gu).inSingletonScope(),i.bind(vo).to(Nc).inSingletonScope(),i.bind(Hv).to(Vl).inSingletonScope(),i.bind(ha).toSelf().inSingletonScope(),e.sourcePathResolver&&i.bind(it).toConstantValue(e.sourcePathResolver),i.bind(uu).toSelf(),i.bind(Eb).toDynamicValue(o=>o.container.get(uu).create()).inSingletonScope(),e.parent()&&(i.bind(qc).to(Uc).inSingletonScope(),i.bind(bo).to(Fl).inSingletonScope()),i.bind(Zt).to(process.env.DA_TEST_DISABLE_TELEMETRY?Nu:dn).inSingletonScope().onActivation(pt),i.bind(Zn).toSelf().inSingletonScope(),i.bind(lr).toSelf().inSingletonScope(),i.bind(Ea).toSelf().inSingletonScope(),i.bind(ga).to($o).inSingletonScope(),i.bind(_a).toSelf().inSingletonScope(),i.bind(Sp).to(Ip).inSingletonScope(),i.bind(Jv).to(hp).inSingletonScope(),i.bind(Kn).to(ql).inSingletonScope(),i.bind(bb).to(_p).inSingletonScope(),i.bind(Sa).to(xp).inSingletonScope(),i.bind(kv).to(op).inSingletonScope().onActivation(pt),i.bind(hr).toSelf(),i.bind(Tn).toSelf(),i.bind($n).toSelf(),i.bind(Lb).to(hn).inSingletonScope(),i.bind($b).to(Dp).inSingletonScope(),i.bind(Xv).to(dp).inSingletonScope().onActivation(pt),i},uX=t=>{let e=new H0.Container;e.parent=t,e.bind(tp).toConstantValue(e),e.bind(ce).to(si).inSingletonScope().onActivation(pt),e.bind(Mc).to(gu).inSingletonScope(),e.bind(Zt).to(process.env.DA_TEST_DISABLE_TELEMETRY?Nu:dn).inSingletonScope().onActivation(pt),e.bind(po).to(po).inSingletonScope(),e.bind(is).to(is).inSingletonScope(),e.bind(Up).to(jp).inSingletonScope(),e.bind(Ml).to(ud).inSingletonScope(),e.bind(di).to(xd),e.bind(jo).toSelf().inSingletonScope().onActivation(pt),e.bind(Vo).toSelf(),e.bind(xr).to(Ni).onActivation(pt),e.bind(xr).to(Id).onActivation(pt),e.bind(xr).to(Sd).onActivation(pt),e.bind(xr).to(Ld).onActivation(pt),e.bind(bg).to(Rd),e.bind(bg).to(Md),e.bind(Mu).to(wd).inSingletonScope(),sX(e),e.bind(xr).to(Cd).onActivation(pt),e.bind(ku).toSelf().inSingletonScope().onActivation(pt),e.bind(xr).toService(ku),e.bind(xr).to(dd).inSingletonScope().onActivation(pt),e.bind(xr).to(hd).inSingletonScope().onActivation(pt),e.bind(xr).to(fd).inSingletonScope().onActivation(pt),e.bind(xr).to(md).inSingletonScope().onActivation(pt),e.bind(xr).to(li).onActivation(pt),e.bind(xr).toDynamicValue(()=>t.get(Uo).createLauncher(e.get(ce))).inSingletonScope(),e.isBound(Qc)||e.bind(Qc).to(Ap).inSingletonScope(),e.bind(wS).to(ip).inSingletonScope().onActivation(pt);let r=n=>i=>new n(i.container.get(gS),i.container.get(we),i.container.get(Rh));return e.bind(Yc).toDynamicValue(r(g0.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(Yc).toDynamicValue(r(g0.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},lX=t=>{let e=new H0.Container;return e.bind(tp).toConstantValue(e),e.bind(Uo).toSelf().inSingletonScope(),e.bind(Bi).toSelf().inSingletonScope(),e.bind(Yl).to(Od).inSingletonScope(),e.bind(np).toConstantValue(new ko),e.bind(Gp).to(Vp).inSingletonScope(),e.bind(Io).toConstantValue(t.storagePath),e.bind(rp).toConstantValue(t.isVsCode),e.bind(Qx).to($d),e.bind(dt).to(pp).inSingletonScope(),e.bind(gS).toConstantValue(process.env),e.bind(Rh).toConstantValue(aX.default),e.bind(we).toConstantValue(m0.promises),e.bind(Br).toConstantValue(new _n(m0.promises)),e.bind(ls).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(at).toConstantValue(t.context),oX(e),e},pX=(t,e,r)=>{t.bind(Lm).toConstantValue(AW(e)),t.bind(Me).toService(Lm),t.bind(en).to(yd).inSingletonScope(),t.bind(El).toConstantValue(r),t.bind(it).toDynamicValue(n=>n.container.get(en).create(e,n.container.get(ce))).inSingletonScope(),t.bind(Br).toConstantValue(hy.create(e.__remoteFilePrefix,m0.promises,r)),t.bind(UI).to(pa).inSingletonScope().onActivation(pt),t.bind(fa).to(jl).inSingletonScope(),t.bind(xt).toSelf().inSingletonScope().onActivation(pt),t.bind(vo).to(Nc).inSingletonScope(),t.bind(jc).toSelf().inSingletonScope(),t.bind(qc).to(Uc).inSingletonScope(),t.bind(bo).to(Ol).inSingletonScope()};var vX=A(xe()),vr=A(require("vscode"));var dX=A(xe()),Vs=A(Z()),i$=A(require("path")),Ic=A(require("vscode"));var rl=class extends gn{constructor(r,n,i,o,s,a){super(r,n,a,s);this.extensionContext=i;this.fs=o;this.telemetryItems=new Map}get deferredSocketName(){let r=this.extensionContext.environmentVariableCollection.get("VSCODE_INSPECTOR_OPTIONS");return r?new Ox({VSCODE_INSPECTOR_OPTIONS:r.value}).inspectorOptions?.inspectorIpc:void 0}getProcessTelemetry(r){return Promise.resolve(r instanceof _d?this.telemetryItems.get(r.processId()):void 0)}resolveParams(r){if(r.type==="node-terminal"&&r.request==="launch")return r}async launchProgram(r){await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,r),this.program=new Rs,this.program.stopped.then(n=>this.onProgramTerminated(n))}async refreshVariables(){this.run&&await this.applyInspectorOptions(this.extensionContext.environmentVariableCollection,this.run)}async applyInspectorOptions(r,n){let i;try{i=await this.resolveNodePath(n.params)}catch(c){if(c instanceof re&&c.cause.id===9229)i=new Dr("node",void 0);else throw c}let o=Ct(Ic.workspace,"debug.javascript.autoAttachFilter"),a=(await this.resolveEnvironment(n,i,{deferredMode:!0,inspectorIpc:this.deferredSocketName??n.serverAddress+".deferred",autoAttachMode:o,aaPatterns:o==="smart"?this.readSmartPatterns():void 0})).defined();r.persistent=!0,r.description=new Ic.MarkdownString(dX.t({message:'Enables Node.js [auto attach]({0}) debugging in "{1}" mode',comment:["{Locked='[auto attach]({0})'}","the 2nd placeholder is the setting value"],args:["https://code.visualstudio.com/docs/nodejs/nodejs-debugging#_auto-attach",o]})),r.prepend("NODE_OPTIONS",a.NODE_OPTIONS),r.append("VSCODE_INSPECTOR_OPTIONS",a.VSCODE_INSPECTOR_OPTIONS)}readSmartPatterns(){let r=Ct(Ic.workspace,"debug.javascript.autoAttachSmartPattern"),n=Ic.workspace.workspaceFolders?.length===1?Ic.workspace.workspaceFolders[0].uri.fsPath:`{${Ic.workspace.workspaceFolders?.map(i=>i.uri.fsPath).join(",")}}`;return r?.map(i=>i.replace("${workspaceFolder}",n)).map(Qe)}async getBootloaderFile(r,n){let i=this.extensionContext.storagePath||this.extensionContext.globalStoragePath;if(i.includes(" ")&&n.isPreciselyKnown&&!n.has(0))throw new Xg(`The \`node\` version on your PATH is too old (${n.version?.major}), so we cannot enable auto-attach in your environment`,"https://github.com/microsoft/vscode-js-debug/issues/708");let o=i$.join(i,"bootloader.js");try{await this.fs.mkdir(i)}catch{}await Promise.all([nI(this.fs,Fx,o),nI(this.fs,e6,i$.join(i,"watchdog.js"))]);let s=Qe(o);return{interpolatedPath:s.includes(" ")?`"${s}"`:s,dispose:()=>{}}}async spawnForChild(r){if(!this.run)return;let n=Number(r.pid??"0");this.telemetryItems.set(n,r.telemetry);let i=await fi.attach({...r,ipcAddress:this.run.serverAddress});i.onEnd(()=>{this.telemetryItems.delete(n),i.dispose()})}static clearVariables(r){r.environmentVariableCollection.clear()}};rl=E([(0,Vs.injectable)(),b(0,(0,Vs.inject)(di)),b(1,(0,Vs.inject)(ce)),b(2,(0,Vs.inject)(at)),b(3,(0,Vs.inject)(we)),b(4,(0,Vs.inject)(en)),b(5,(0,Vs.inject)(dt))],rl);var Xg=class extends Error{constructor(r,n){super(r);this.helpLink=n}};var mX=A(xe()),gX=require("os"),Dt=A(require("vscode"));var fX=()=>{let t,e=We(),r=(n,i)=>i==="connect"?o=>{e.resolve(o),t=o}:i==="disconnect"?()=>{e=We(),t=void 0}:async(...o)=>(t||await e.promise)[i](...o);return new Proxy({},{get:r})};var s$=(t,e,r={},n=()=>!0)=>{let i=new dn,o={...Ct(Dt.workspace,"debug.javascript.terminalOptions"),internalConsoleOptions:"neverOpen"},s=fX();i.attachDap(s);let a=new Set,c=async u=>{let l=await e.getProcessTelemetry(u),p=l&&Dt.Uri.file(l.cwd),d=p&&Dt.workspace.getWorkspaceFolder(p);return d?d.uri:r.__workspaceFolder?Dt.Uri.file(r.__workspaceFolder):Dt.workspace.workspaceFolders?.[0].uri??p};return e.onTargetListChanged(async()=>{let u=await Dt.workspace.requestWorkspaceTrust(),l=new Set;for(let p of e.targetList()){if(l.add(p),a.has(p)){a.delete(p);continue}let d=t.addDelegate(p,s,p.parent());if(!n(p)){p.detach();return}if(p.targetInfo.openerId&&!p.parent()){p.detach();return}if(!u){p.detach();return}if(!p.parent()){let m=await c(p);Dt.debug.startDebugging(m&&Dt.workspace.getWorkspaceFolder(m),{...o,type:"node-terminal",name:"Node.js Process",request:"attach",delegateId:d,cwd:m?.fsPath,__workspaceFolder:m})}}for(let p of a)t.removeDelegate(p);a=l}),e.launch(Js({...o,type:"node-terminal",name:cH.name,request:"launch",...r}),{dap:s,telemetryReporter:i,cancellationToken:pr,get targetOrigin(){return new bd("<unset>")}})},HX=Symbol("Abort"),hX=(0,gX.homedir)(),F0e=process.platform==="win32"?t=>t:t=>t.startsWith(hX)?`~${t.slice(hX.length)}`:t;async function B0e(){let t=Dt.workspace.workspaceFolders;return!t||t.length<2?t?.[0]:(await Dt.window.showQuickPick(t.map(r=>({label:r.name,description:F0e(r.uri.fsPath),folder:r})),{placeHolder:mX.t("Select current working directory for new terminal")}))?.folder??HX}var o$=class extends Ms{constructor(){super(...arguments);this.optionsReadyEmitter=new Y;this.onOptionsReady=this.optionsReadyEmitter.event}createTerminal(r){return this.optionsReadyEmitter.fire(r),new Promise(n=>{let i=Dt.window.onDidOpenTerminal(o=>{i.dispose(),n(o)})})}};function yX(t,e,r,n){let i=new Map,o=(a,c)=>new Ms(c,a,n.get(we),n.get(Bi),n.get(dt));async function s(a,c,u,l,p=o){if(!u){let f=await B0e();if(f===HX)return;u=f}if(c){for(let[f,g]of i)if(g.folder===u&&g.cwd===l?.cwd&&!g.launcher.targetList().length){f.show(!0),f.sendText(c);return}}let d=new ic,m=p(d,new ks(d,n.get(we),Bx));m.onTerminalCreated(f=>{i.set(f,{launcher:m,folder:u,cwd:l?.cwd}),r.enableHandlingInTerminal(f)});try{await s$(a,m,{command:c,...l,__workspaceFolder:u?.uri.fsPath},()=>{for(let[f,g]of i)if(g.launcher===m&&f.state.isInteractedWith)return!0;return!1})}catch(f){Dt.window.showErrorMessage(f.message)}}t.subscriptions.push(Dt.window.onDidCloseTerminal(a=>{i.delete(a)}),Le(Dt.commands,"extension.js-debug.createDebuggerTerminal",(a,c,u)=>s(e,a,c,u)),Dt.window.registerTerminalProfileProvider("extension.js-debug.debugTerminal",{provideTerminalProfile:()=>new Promise(a=>s(e,void 0,void 0,void 0,(c,u)=>{let l=new o$(u,c,n.get(we),n.get(Bi),n.get(dt));return l.onOptionsReady(p=>a(new Dt.TerminalProfile(p))),l}))}),Dt.window.registerTerminalLinkProvider?.(r))}function bX(t,e,r){let n=new Map,i,o=s=>{let a=n.get(s);if(a)return a;let c=(async()=>{let u=new ic,l=new rl(new ks(u,r.get(we),Bx),u,t,r.get(we),r.get(Bi),r.get(dt)),p=Ct(vr.workspace,"debug.javascript.terminalOptions");if(s){let d=s?.uri.fsPath;p={...p,cwd:d,__workspaceFolder:d}}return await s$(e,l,p),l.onTargetListChanged(()=>{l.targetList().length===0&&!i?i=setTimeout(()=>{n.delete(s),l.terminate()},5*60*1e3):i&&(clearTimeout(i),i=void 0)}),l})();return n.set(s,c),c};t.subscriptions.push(Le(vr.commands,"extension.js-debug.setAutoAttachVariables",async()=>{try{return{ipcAddress:(await o(vr.workspace.workspaceFolders?.[0])).deferredSocketName}}catch(s){if(s instanceof Xg&&s.helpLink){let a=vX.t("Details");await vr.window.showErrorMessage(s.message,a)===a&&vr.env.openExternal(vr.Uri.parse(s.helpLink))}else await vr.window.showErrorMessage(s.message)}}),Le(vr.commands,"extension.js-debug.autoAttachToProcess",async s=>{try{let a=s.scriptName&&vr.workspace.getWorkspaceFolder(vr.Uri.file(s.scriptName));(await o(a||vr.workspace.workspaceFolders?.[0])).spawnForChild(s)}catch(a){console.error(a),vr.window.showErrorMessage(`Error activating auto attach: ${a.stack||a}`)}}),Le(vr.commands,"extension.js-debug.clearAutoAttachVariables",async()=>{rl.clearVariables(t);for(let[s,a]of n.entries())n.delete(s),a.then(c=>c.terminate())}))}var wX=A(xe()),xX=require("url"),Tr=A(require("vscode"));var y0=A(require("vscode"));var Of=class{constructor(){this.tunnels=new Map;this.disposable=new Ie;this.disposable.push(y0.debug.onDidTerminateDebugSession(e=>this.destroySession(e.id)))}dispose(){return this.disposable.dispose()}destroySession(e){let r=this.tunnels.get(e);r&&(r.dispose(),this.tunnels.delete(e))}async request(e,r){let n=this.tunnels.get(e);n||(n=await y0.workspace.openTunnel({remoteAddress:{port:r.remotePort,host:"localhost"},localAddressPort:r.localPort??r.remotePort,label:r.label}),this.tunnels.set(e,n));let i;if(typeof n.localAddress=="string"){let[o,s]=n.localAddress.split(":");i={host:o,port:Number(s)}}else i=n.localAddress;return{remoteAddress:n.remoteAddress,localAddress:i}}};var N0e=t=>e=>typeof e.localAddress=="string"?e.localAddress.endsWith(`:${t}`):e.localAddress.port===t,j0e=async t=>{let e=t.params.url;if(!e)return;let r;try{r=new xX.URL(e)}catch{return}if(!Ct(Tr.workspace,"debug.javascript.automaticallyTunnelRemoteServer"))return;let n=Number(r.port)||80;if(!(await Tr.workspace.tunnels).some(N0e(n)))try{await Tr.workspace.openTunnel({remoteAddress:{port:n,host:"localhost"},localAddressPort:n})}catch{}},U0e=async(t,e,r)=>{if(Tr.env.uiKind===Tr.UIKind.Web)return Tr.debug.stopDebugging(t),Tr.window.showErrorMessage(wX.t("We can't launch a browser in debug mode from here. Open this workspace in VS Code on your desktop to enable debugging."));try{let[,n]=await Promise.all([j0e(r),e.request(t.id,{remotePort:r.serverPort,label:"Browser Debug Tunnel"}).catch(()=>{})]);await Tr.commands.executeCommand("js-debug-companion.launchAndAttach",{proxyUri:n?`127.0.0.1:${n.localAddress.port}`:`127.0.0.1:${r.serverPort}`,wslInfo:process.env.WSL_DISTRO_NAME&&{execPath:process.execPath,distro:process.env.WSL_DISTRO_NAME,user:process.env.USER},...r})}catch(n){Tr.window.showErrorMessage(`Error launching browser: ${n.message||n.stack}`)}},q0e=async(t,e,{launchId:r})=>{await Tr.commands.executeCommand("js-debug-companion.kill",{launchId:r}),e.destroySession(t.id)};function _X(t){let e=new Of;t.subscriptions.push(e,Tr.debug.onDidReceiveDebugSessionCustomEvent(async r=>{switch(r.event){case"launchBrowserInCompanion":return U0e(r.session,e,r.body);case"killCompanionBrowser":return q0e(r.session,e,r.body);default:}}))}var Pe=A(require("vscode")),Gs=require("vscode");var v0=()=>Gs.l10n.t("XHR/Fetch URLs"),Bf=class extends Pe.TreeItem{constructor(r,n){super(r.match?Gs.l10n.t('URL contains "{0}"',r.match):Gs.l10n.t("Any XHR or fetch"),Pe.TreeItemCollapsibleState.None);this.contextValue="xhrBreakpoint",this.id=r.match,this.match=r.match,this.checkboxState=n?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}static compare(r,n){return r.match.localeCompare(n.match)}},Jg=class extends Pe.TreeItem{constructor(r,n){super(r.title,Pe.TreeItemCollapsibleState.None);this.parent=n;this.checkboxState=Pe.TreeItemCheckboxState.Unchecked,this.id=r.id,this.group=r.group}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}static compare(r,n){return r.id.localeCompare(n.id)}},Ff=class extends Pe.TreeItem{constructor(r){super(r,Pe.TreeItemCollapsibleState.Collapsed);this.label=r;this.children=[];this.checkboxState=Pe.TreeItemCheckboxState.Unchecked}get checked(){return this.checkboxState===Pe.TreeItemCheckboxState.Checked}},a$=class{constructor(e){this._onDidChangeTreeData=new Y;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.categories=new Map;this.xhrBreakpoints=[];for(let n of[...vp().values()]){let i=this.categories.get(n.group);i||(i=new Ff(n.group),this.categories.set(n.group,i)),i.children.push(new Jg(n,i))}let r=new Ff(v0());r.contextValue="xhrCategory",r.checkboxState=void 0,this.categories.set(v0(),r),this.xhrBreakpoints=[],this._debugSessionTracker=e,e.onSessionAdded(n=>{if(!et.isConcreteSession(n))return;let i=this.allBreakpoints.filter(o=>o.checked).map(o=>o.id);i.length!==0&&n.customRequest("setCustomBreakpoints",{xhr:this.xhrBreakpoints.filter(o=>o.checkboxState).map(o=>o.id),ids:i})})}get allCategories(){return this.categories.values()}get allBreakpoints(){return[...this.allCategories].flatMap(e=>e.children)}getTreeItem(e){return e}getChildren(e){if(!e)return[...this.categories.values()].sort((r,n)=>r.label.localeCompare(n.label));if(e instanceof Ff){if(e.contextValue==="xhrCategory"){let r=Gs.l10n.t("Add new URL..."),n=new Pe.TreeItem(r);return n.command={title:r,command:"extension.js-debug.addXHRBreakpoints"},[...this.xhrBreakpoints,n]}return this.categories.get(e.label)?.children}return[]}getParent(e){if(e instanceof Jg)return this.categories.get(e.group);if(e instanceof Bf)return this.categories.get(v0())}setEnabled(e){for(let[r,n]of e){let i=n?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked;if(r.checkboxState=i,r instanceof Ff)for(let o of this.getChildren(r))o.checkboxState!==i&&(o.checkboxState=i);else if(r instanceof Jg||r instanceof Bf){let o=this.getParent(r);(!n&&o.checked||n&&this.getChildren(o).every(s=>s.checked||s.checkboxState==null))&&(o.checkboxState=i)}}this.updateDebuggersState(),this._onDidChangeTreeData.fire(void 0)}updateDebuggersState(){let e=this.allBreakpoints.filter(n=>n.checked).map(n=>n.id),r=this.xhrBreakpoints.filter(n=>n.checked).map(n=>n.id);for(let n of this._debugSessionTracker.getConcreteSessions())n.customRequest("setCustomBreakpoints",{xhr:r,ids:e})}addXHRBreakpoints(e){this.xhrBreakpoints.some(r=>r.id===e.id)||(this.xhrBreakpoints.push(e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0))}removeXHRBreakpoint(e){this.xhrBreakpoints=this.xhrBreakpoints.filter(r=>r!==e),this.updateDebuggersState(),this.syncXHRCategoryState(),this._onDidChangeTreeData.fire(void 0)}syncXHRCategoryState(){let e=this.categories.get(v0());if(e){if(!this.xhrBreakpoints.length){e.checkboxState=void 0;return}e.checkboxState=this.xhrBreakpoints.every(r=>r.checkboxState===Pe.TreeItemCheckboxState.Checked)?Pe.TreeItemCheckboxState.Checked:Pe.TreeItemCheckboxState.Unchecked}}};function AX(t,e){let r=new a$(e),n=Pe.window.createTreeView("jsBrowserBreakpoints",{treeDataProvider:r,showCollapseAll:!0,manageCheckboxStateManually:!0});t.subscriptions.push(n.onDidChangeCheckboxState(async i=>{r.setEnabled(i.items.map(([o,s])=>[o,s===Pe.TreeItemCheckboxState.Checked]))})),t.subscriptions.push(n),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.addCustomBreakpoints",async()=>{let i=[...r.allCategories].flatMap(a=>[{kind:Pe.QuickPickItemKind.Separator,id:"",label:a.label},...a.children.map(c=>({id:c.id,label:`${c.label}`,picked:c.checked}))]),o=await Pe.window.showQuickPick(i,{canPickMany:!0,placeHolder:"Select breakpoints to enable"});if(!o)return;let s=new Set(o.map(a=>a.id));r.setEnabled(r.allBreakpoints.map(a=>[a,s.has(a.id)]))})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.removeAllCustomBreakpoints",()=>{r.setEnabled([...r.allBreakpoints,...r.xhrBreakpoints].map(i=>[i,!1]))})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.addXHRBreakpoints",()=>{let i=Pe.window.createInputBox();i.title=Gs.l10n.t("Add XHR Breakpoint"),i.placeholder=Gs.l10n.t("Break when URL Contains"),i.onDidAccept(()=>{let o=i.value;r.addXHRBreakpoints(new Bf({match:o},!0)),i.dispose()}),i.show()})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.editXHRBreakpoints",i=>{let o=Pe.window.createInputBox();o.title=Gs.l10n.t("Edit XHR Breakpoint"),o.placeholder=Gs.l10n.t("Enter a URL or a pattern to match"),o.value=i.match,o.onDidAccept(()=>{let s=o.value;r.removeXHRBreakpoint(i),r.addXHRBreakpoints(new Bf({match:s},i.checkboxState==Pe.TreeItemCheckboxState.Checked)),o.dispose()}),o.show()})),t.subscriptions.push(Pe.commands.registerCommand("extension.js-debug.removeXHRBreakpoint",i=>{r.removeXHRBreakpoint(i)}))}var c$=A(require("vscode"));var IX=(t,e)=>{let r=e.get(bc);t.subscriptions.push(Le(c$.commands,"extension.js-debug.startProfile",n=>r.start(typeof n=="string"?{sessionId:n}:n??{})),Le(c$.commands,"extension.js-debug.stopProfile",n=>r.stop(n)))};var b0=A(require("vscode"));var SX=(t,e)=>{let r=new Of;t.subscriptions.push(r,Le(b0.commands,"extension.js-debug.requestCDPProxy",async(n,i)=>{let o=e.getById(n);if(!o)return;let s=await o.customRequest("requestCDPProxy");if(!i)return s;try{if(b0.env.remoteName!==void 0){let a=await r.request(n,{label:"Edge Devtools Tunnel",remotePort:s.port});return{host:a.localAddress.host,port:a.localAddress.port,path:s.path}}}catch{}return s}))};var EX=A(require("vscode"));var DX=(t,e)=>{t.subscriptions.push(Le(EX.commands,"extension.js-debug.revealPage",async r=>{await e.getById(r)?.customRequest("revealPage")}))};var Yg=A(require("vscode")),CX=require("url");async function PX(t){if(!t){let e=Yg.window.activeTextEditor;if(!e)return;t=e&&e.document.fileName}if(t&&Yg.debug.activeDebugSession){let e;typeof t=="string"?cn(t)?e={resource:(0,CX.fileURLToPath)(t)}:e={resource:t}:e={sourceReference:t},await Yg.debug.activeDebugSession.customRequest("toggleSkipFileStatus",e)}}var Sc=A(require("vscode"));var qX=require("fs"),WX=A(require("net"));var LX=`\r
\r
`,W0e=0,Qg=class{constructor(e,r,n){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=W0e++;this.msgEmitter=new Y;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new Y;this.closed=this.endedEmitter.event;this._handleData=e=>{let r=new ei;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let i=JSON.parse(n);this.logger?.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:i}),this.msgEmitter.fire({message:i,receivedTime:r})}catch(i){console.error("Error handling data: "+(i&&i.message))}continue}}else{let n=this._rawData.indexOf(LX);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let s=0;s<o.length;s++){let a=o[s].split(/: +/);a[0]==="Content-Length"&&(this._contentLength=+a[1])}this._rawData=this._rawData.slice(n+LX.length);continue}}break}};this.logger=n,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,n){let i=JSON.stringify(e);if(r){let s=e;e.type==="response"&&e.command==="source"&&(s={...e,body:{...e.body,content:"<script source>"}}),this.logger?.verbose("dap.send",void 0,{connectionId:this._connectionId,message:s})}let o=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r
\r
${i}`;if(this.outputStream.destroyed){this.logger?.warn("dap.send","Message not sent. Connection was closed."),n?.();return}this.outputStream.write(o,"utf8",s=>{n?.(),s&&(console.log(e),this.logger?.error("dap.send","Error while writing to output stream",s),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};var jX=A(xe()),A0=A(require("os"));var V0e={connect:async()=>Jl},$X=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),Jl}}),G0e=t=>{let e=new Y,r=!1,n=()=>{r||(r=!0,e.fire())};return{async connect(i){if(r)return await i.Debugger.setAsyncCallStackDepth({maxDepth:t}),Jl;let o=new Ie;return o.push(e.event(()=>{o.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:t})}),i.Debugger.on("breakpointResolved",n),i.Debugger.on("paused",s=>{s.reason!=="instrumentation"&&n()})),o}}},TX=$X(32),kX=t=>t===!1?V0e:t===!0?TX:"onAttach"in t?$X(t.onAttach):"onceBreakpointResolved"in t?G0e(t.onceBreakpointResolved):TX;var bi=A(xe());var Zg=class t{constructor(e,r,n,i){this.asyncStackPolicy=r;this.launchConfig=n;this._services=i;this._disposables=new Ie;this._customBreakpoints=[];this._xhrBreakpoints=[];this._threadDeferred=We();this.breakpointIdCounter=sH();this._cdpProxyProvider=this._services.get(Xv);this._configurationDoneDeferred=We(),this.sourceContainer=i.get(lr),this.breakpointManager=i.get(Zn);let o=i.get(Eb),s=i.get(Zt);s.onFlush(()=>{s.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),s.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(c=>c.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(c=>c.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(c=>c.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(c=>c.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(c=>c.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("setCustomBreakpoints",a=>this.setCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>o.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){return this._thread?.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){return this._thread?.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let n=this.sourceContainer.source(e.source);return n?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,n,new qt(e.line,e.column||1),new qt(e.endLine||e.line+1,e.endColumn||e.column||1))).map(o=>o.uiLocations.find(s=>s.source===n)).filter(Pt).map(o=>({line:o.lineNumber,column:o.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(ce).getRecentLogs();return await this._services.get(we).writeFile(e,r.map(n=>JSON.stringify(n)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(Sp).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=t.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>this._thread?.dapInitialized(),0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:bi.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:bi.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:bi.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:bi.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){return this.breakpointManager.setBreakpoints(e,e.breakpoints?.map(()=>this.breakpointIdCounter())??[])}async setExceptionBreakpoints(e){return await this._services.get(Sp).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){let r=this.sourceContainer.source(e.source);if(!r)return Ze(bi.t("Source not found"));if(!(r instanceof Rt))return Ze(bi.t("Source not a source map"));for(let n of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await this._thread?.refreshStackTrace(),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=Si(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Ze(bi.t("Source not found"));let n=await r.content();return n===void 0?(r instanceof Rt&&this.dap.suggestDisableSourcemap({source:e.source}),Ze(bi.t("Unable to retrieve source content"))):{content:n,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){return{variables:await this.findVariableStore(n=>n.hasVariable(e.variablesReference))?.getVariables(e)??[]}}async _onReadMemory(e){let r=e.memoryReference,n=await this.findVariableStore(i=>i.hasMemory(r))?.readMemory(r,e.offset??0,e.count);return n?{address:"0",data:n.toString("base64"),unreadableBytes:e.count-n.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){let r=e.memoryReference;return{bytesWritten:await this.findVariableStore(i=>i.hasMemory(r))?.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64"))}}async _onSetExpression(e){if(!this._thread)throw new re(DI());let r=await this._thread.evaluate({expression:`${e.expression} = ${yh(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return r?(e.value=yh(e.value.trim()),r.setVariable(e)):Ze(bi.t("Variable not found"))}_withThread(e){if(!this._thread)throw new re(DI());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new wp(this.sourceContainer,e,this.dap,r,this._services.get(fa),this._services.get(ce),this._services.get(Kn),this._services.get(Jv),this.launchConfig,this.breakpointManager,this._services.get(bb),this._services.get(Sp),this._services.get(_a),this._services.get(Sa));let n=this._services.get($b);return n.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&n.start(this.dap,this._thread,{type:hr.type}),this._thread.updateCustomBreakpoints(this._xhrBreakpoints,this._customBreakpoints),this.asyncStackPolicy.connect(e).then(i=>this._disposables.push(i)).catch(i=>this._services.get(ce).error("internal","Error enabling async stacks",i)),this.breakpointManager.setThread(this._thread),this._services.get(xt).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async setCustomBreakpoints({ids:e,xhr:r}){return await this._thread?.updateCustomBreakpoints(r,e),this._customBreakpoints=e,this._xhrBreakpoints=r,{}}async _toggleSkipFileStatus(e){return await this._services.get(ga).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source||!this._thread)return{canPrettyPrint:!1};e.source.path=Si(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Ze(bi.t("Source not found"));let n=await r.prettyPrint();if(!n)return Ze(bi.t("Unable to pretty print"));let{map:i,source:o}=n;return await this.breakpointManager.moveBreakpoints(this._thread,r,i,o),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get(Ea).generateHtml()};return e.fromSuggestion&&this._services.get(Zt).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),Pv(this._services)}};var RX=require("inspector"),MX=require("fs"),w0=class{constructor(e){this.file=e;this.session=new RX.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await MX.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((n,i)=>this.session.post(e,r,(o,s)=>{o?i(o):n(s)}))}};var x0=A(require("path"));function FX(t,e,r){let n=OX(t,e,"uncaughtException",r),i=OX(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",n),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",n),process.removeListener("unhandledRejection",i)}}}var OX=(t,e,r,n=!0)=>i=>{X0e(i)&&(e.report("error",{"!error":i,error:n?void 0:i,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",i))},z0e=t=>typeof t=="object"&&!!t&&"stack"in t,K0e=x0.dirname(x0.dirname(x0.dirname(__dirname)));function X0e(t){return!BX||z0e(t)&&!!t.stack?.includes(K0e)}var BX=!1;function NX(){BX=!0}var _0=class{constructor(e,r,n,i){this._delegate=e;this._rootServices=n;this._disposables=new Ie;this._serviceTree=new WeakMap;this._root=new nl(void 0);this.getLaunchers=_e(()=>{let e=new Set(this._rootServices.getAll(xr));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let n=this.targetList();this._attachToNewTargets(n,r),this._terminateOrphanThreads(n)}));return e});this._dap=r.dap(),this._targetOrigin=i,this._disposables.callback(()=>Pv(n)),this._disposables.push(FX(n.get(ce),n.get(Zt),n.get(rp))),r.attachTelemetry(n.get(Zt));let o=this._dap,s=0,a;o.on("initialize",async c=>{this._rootServices.bind(ln).toConstantValue(c);let u=Zg.capabilities();return c.clientID==="vscode"&&NX(),setTimeout(()=>o.initialized({}),0),u}),o.on("setExceptionBreakpoints",async()=>({})),o.on("setBreakpoints",async c=>(c.breakpoints?.length&&n.get(xt).notifyHadBreakpoint(),{breakpoints:c.breakpoints?.map(()=>({id:++s,verified:!1,message:jX.t("Unbound breakpoint")}))??[]})),o.on("configurationDone",async()=>({})),o.on("threads",async()=>({threads:[]})),o.on("loadedSources",async()=>({sources:[]})),o.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),o.on("attach",async c=>(await this.boot(c,o),{})),o.on("launch",async c=>(await this.boot(c,o),{})),o.on("pause",async()=>({})),o.on("terminate",()=>this._terminateRoot(!0)),o.on("disconnect",c=>this._disconnectRoot(c)),o.on("restart",async({arguments:c})=>(await this._restart(c),{})),o.on("startSelfProfile",async({file:c})=>(a?.dispose(),a=new w0(c),await a.start(),{})),o.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(r=>r.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(Zt).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(Js(e,this._rootServices.get(ls)),r)}async _boot(e,r){J0e(r),this.reportBootTelemetry(e),pX(this._rootServices,e,r),this._rootServices.get(ce).setup(u1(r,e.trace));let n=e.timeout>0?jr.withTimeout(e.timeout):new jr;e.rootPath&&(e.rootPath=Si(e.rootPath)),this._launchParams=e;let i=await Promise.all([...this.getLaunchers()].map(o=>this._launch(o,e,n.token)));return Promise.all(i.map(o=>o.terminated)).then(o=>{let s=o.find(Pt);this._markTargetAsTerminated(this._root,{restart:!!s?.restart})}),{}}reportBootTelemetry(e){let r=Js({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),n=(i,o)=>typeof i=="string"?o&&r[o]===i?i:"<string>":i instanceof Array?i.map(s=>n(s)):i&&typeof i=="object"?Yo(i,s=>n(s)):i;this._rootServices.get(Zt).report("launch",{type:e.type,request:e.request,os:`${A0.platform()} ${A0.arch()}`,nodeVersion:process.version,adapterVersion:Cc,parameters:Yo(e,n)})}async _restart(e){let r;if(e){let n=this._rootServices.get(Lm);r=Js({__workspaceFolder:n.__workspaceFolder,...e},this._rootServices.get(ls)),n.update(r)}await Promise.all([...this.getLaunchers()].map(n=>n.restart(r)))}async _launch(e,r,n){return(await this.captureLaunch(e,r,n)).blockSessionTermination?{terminated:new Promise(o=>{let s=this._disposables.push(e.onTerminated(a=>{s.dispose(),o(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,n){let i=e.constructor.name,o;try{o=await e.launch(r,{telemetryReporter:this._rootServices.get(Zt),cancellationToken:n,targetOrigin:this._targetOrigin,dap:this._dap})}catch(s){throw this._rootServices.get(ce).warn("runtime.launch","Launch returned error",{error:s,wasCancelled:n.isCancellationRequested,name:i}),s}return o.blockSessionTermination&&this._rootServices.get(ce).info("runtime.launch","Launched successfully",{name:i}),o}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let n=e.value;if(!n.canAttach())return;let i=await n.attach();if(!i)return;let o=await this._delegate.acquireDap(n),s=o.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=kX(a.showAsyncStacks));let c=n.parent(),u=c&&this._serviceTree.get(c)||this._rootServices,l=cX(u,n,s,i);o.attachTelemetry(l.get(Zt)),this._serviceTree.set(n,u);let p=new Zg(s,this._asyncStackPolicy,a,l),d=p.createThread(i,n),m=async()=>(await p.launchBlocker(),n.runIfWaitingForDebugger(),e.threadData.resolve({thread:d,debugAdapter:p}),{});s.on("disconnect",f=>this._disconnectTarget(e,f)),s.on("terminate",()=>this._terminateTarget(e)),s.on("restart",async()=>(n.canRestart()?n.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,n,r)?m():(s.on("attach",m),s.on("launch",m)),await n.afterBind()}_attachToNewTargets(e,r){for(let n of e.values()){if(!n.waitingForDebugger()||nl.targetNodes.has(n))continue;let i=n.parent(),o=i?nl.targetNodes.get(i):this._root;if(!o)throw new Error(`Got target with unknown parent: ${n.name()}`);let s=new nl(n);o.add(s),this.attach(s,r)}}async _terminateOrphanThreads(e,r){let n=[...this._root.all()].filter(i=>!e.includes(i.value));return Promise.all(n.map(i=>this._markTargetAsTerminated(i,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,UX(e)){let n=await e.threadData.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(r),n.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(r.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let n=e.value.parent();return(n?nl.targetNodes.get(n):this._root)?.remove(e),{}}};function J0e(t){fH&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var UX=t=>!!t.value,nl=class t{constructor(e){this.value=e;this.threadData=We();this._state=0;this._children=new Set;this._stateChangeEmitter=new Y;e&&t.targetNodes.set(e,this)}static{this.targetNodes=new WeakMap}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let n=this._stateChangeEmitter.event(i=>{i>=e&&(n.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){UX(this)&&(yield this);for(let e of this._children)yield*e.all()}};var I0=class{constructor(e,r,n,i,o){this.debugSession=e;this.logger=n;this.sessionStates=i;this.parent=o;this.subscriptions=new Ie;r instanceof Sl?this.connection=r:(r.setLogger(n),this.connection=new Sl(r,this.logger))}listenToTarget(e){this.subscriptions.push(e.onNameChanged(()=>this.setName(e)),this.sessionStates.onAdd(([r])=>r===this.debugSession.id&&this.setName(e)),this.sessionStates.onRemove(([r])=>r===this.debugSession.id&&this.setName(e))),this.setName(e)}dispose(){this.subscriptions.dispose()}setName(e){let r=this.sessionStates.get(this.debugSession.id),n=e.name();this.parent instanceof Nf&&(n=`${this.parent.debugSession.name}: ${n}`),this.debugSession.name=r?`${n} (${r})`:n}},Nf=class extends I0{constructor(r,n,i){super(r,n,i.get(ce),i.get(np));this.debugSession=r;this.services=i;this.connection.attachTelemetry(i.get(Zt))}get binder(){return this._binder}createBinder(r){this._binder=new _0(r,this.connection,this.services,new kx(this.debugSession.id))}dispose(){super.dispose(),this._binder?.dispose?.()}},S0=class{constructor(e,r){this.globalContainer=e;this.sessionLauncher=r;this._disposables=[];this._sessions=new Map;this._pendingTarget=new Map;this._sessionForTarget=new Map;this._sessionForTargetCallbacks=new Map}terminate(e){let r=this._sessions.get(e.id);this._sessions.delete(e.id),r&&r.dispose()}hasPendingTargetId(e){return this._pendingTarget.has(e)}createNewRootSession(e,r){let n=new Nf(e,r,uX(this.globalContainer));return n.createBinder(this),this._sessions.set(e.id,n),n}createNewChildSession(e,r,n){let i=this._pendingTarget.get(r);if(!i)throw new Error(`Cannot find target ${r}`);let{target:o,parent:s}=i,a=new I0(e,n,s.logger,s.sessionStates,s);this._pendingTarget.delete(r),a.debugSession.name=o.name(),a.listenToTarget(o);let c=this._sessionForTargetCallbacks.get(o);return this._sessionForTargetCallbacks.delete(o),c?.fulfill?.(a),this._sessions.set(e.id,a),a}async acquireDap(e){return(await this.getOrLaunchSession(e)).connection}getOrLaunchSession(e){let r=this._sessionForTarget.get(e);if(r)return r;let n=new Promise(async(i,o)=>{let s,a=e.parent();if(a?s=await this.getOrLaunchSession(a):s=this._sessions.get(e.targetOrigin().id),!s)throw new Error("Expected to get a parent debug session for target");this._pendingTarget.set(e.id(),{target:e,parent:s}),this._sessionForTargetCallbacks.set(e,{fulfill:i,reject:o});let c=s.debugSession.configuration,u={type:c.type==="pwa-extensionHost"?"pwa-chrome":c.type,name:e.name(),request:s.debugSession.configuration.request,__pendingTargetId:e.id(),preRestartTask:c.preRestartTask??c.postDebugTask,postRestartTask:c.postRestartTask??c.preLaunchTask};this.sessionLauncher.launch(s,e,u)});return this._sessionForTarget.set(e,n),n}initAdapter(e,r,n){return Promise.resolve(!1)}releaseDap(e){this._sessionForTarget.delete(e);let r=this._sessionForTargetCallbacks.get(e);r&&r.reject(new Error("Target gone")),this._sessionForTargetCallbacks.delete(e)}dispose(){for(let e of this._sessions.values())e.dispose();this._sessions.clear(),this._pendingTarget.clear(),this._sessionForTarget.clear(),this._sessionForTargetCallbacks.clear();for(let e of this._disposables)e.dispose();this._disposables=[]}};var E0=class{constructor(e,r,n="127.0.0.1"){this.host=n;this.disposables=[];this.servers=new Map;this.sessionManager=new S0(e,r),this.portLeaseTracker=e.get(dt),this.disposables.push(this.sessionManager)}createDebugServer(e,r){return e.configuration.__pendingTargetId?this.createChildDebugServer(e):this.createRootDebugServer(e,r)}createRootDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewRootSession(e,n),r)}createRootDebugSessionFromStreams(e,r,n){let i=new Qg(r,n);return this.sessionManager.createNewRootSession(e,i)}createChildDebugServer(e,r){return this.innerCreateServer(e,n=>this.sessionManager.createNewChildSession(e,e.configuration.__pendingTargetId,n),r)}async innerCreateServer(e,r,n){let i=We(),o=a=>{let c=new Qg(a,a),u=r(c);i.resolve(u.connection)},s=n===void 0?await new Promise((a,c)=>{let u=gy(),l=WX.createServer(o).on("error",c).on("close",()=>qX.promises.unlink(u).catch(()=>{})).listen(u,()=>a(l))}):await JN(this.portLeaseTracker,o,n,this.host);return this.servers.set(e.id,s),{server:s,connectionPromise:i.promise}}terminate(e){this.sessionManager.terminate(e),this.servers.get(e.id)?.close(),this.servers.delete(e.id)}dispose(){this.sessionManager.dispose()}};var u$=class{launch(e,r,n){Sc.debug.startDebugging(e.debugSession.workspaceFolder,{...n,...r.supplementalConfig,serverReadyAction:e.debugSession.configuration.serverReadyAction,__parentId:e.debugSession.id},{parentSession:e.debugSession,consoleMode:Sc.DebugConsoleMode.MergeWithParent,noDebug:e.debugSession.configuration.noDebug,compact:e instanceof Nf,lifecycleManagedByParent:!r.independentLifeycle})}},D0=class{constructor(e){this.sessionServerManager=new E0(e,new u$)}async createDebugAdapterDescriptor(e){let r=process.env.JS_DEBUG_USE_LOCAL_DAP_PORT;if(r)return new Sc.DebugAdapterServer(+r);let n=await this.sessionServerManager.createDebugServer(e);return new Sc.DebugAdapterNamedPipeServer(n.server.address())}terminate(e){this.sessionServerManager.terminate(e)}dispose(){this.sessionServerManager.dispose()}};function Y0e(t){Xt.l10n.bundle&&VX.config({contents:Xt.l10n.bundle});let e=lX({storagePath:process.platform==="win32"?(0,GX.tmpdir)():t.storagePath||t.extensionPath,isVsCode:!0,isRemote:!!process.env.JS_DEBUG_USE_COMPANION||Xt.extensions.getExtension(E$)?.extensionKind===Xt.ExtensionKind.Workspace,context:t});t.subscriptions.push(Le(Xt.commands,"extension.js-debug.npmScript",yK),Le(Xt.commands,"extension.js-debug.pickNodeProcess",CT),Le(Xt.commands,"extension.pwa-node-debug.attachNodeProcess",iK),Le(Xt.commands,"extension.js-debug.toggleSkippingFile",PX));let r=e.getAll(P_);for(let s of r){let a=s;t.subscriptions.push(Xt.debug.registerDebugConfigurationProvider(s.type,a));let c=qf.get(s.type);c&&t.subscriptions.push(Xt.debug.registerDebugConfigurationProvider(c,a))}let n=e.getAll(L_);for(let s of n)Xt.debug.registerDebugConfigurationProvider(s.type,s,Xt.DebugConfigurationProviderTriggerKind!==void 0?s.triggerKind:void 0);let i=new D0(e);t.subscriptions.push(...[...T0].map(s=>Xt.debug.registerDebugAdapterDescriptorFactory(s,i))),t.subscriptions.push(Xt.debug.onDidTerminateDebugSession(s=>i.terminate(s))),t.subscriptions.push(i);let o=e.get(et);o.attach(),_X(t),AX(t,o),yX(t,e.get(Uo),e.get(Ac),e),IX(t,e),bX(t,e.get(Uo),e),DX(t,o),SX(t,o),e.getAll(pn).forEach(s=>s.register(t))}function Q0e(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright  2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
//# sourceMappingURL=extension.js.map
